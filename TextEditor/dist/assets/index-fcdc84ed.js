(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function rE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kh={exports:{}},Eh={},qe={exports:{}},he={};var xu=Symbol.for("react.element"),zN=Symbol.for("react.portal"),UN=Symbol.for("react.fragment"),jN=Symbol.for("react.strict_mode"),HN=Symbol.for("react.profiler"),WN=Symbol.for("react.provider"),qN=Symbol.for("react.context"),KN=Symbol.for("react.forward_ref"),GN=Symbol.for("react.suspense"),JN=Symbol.for("react.memo"),QN=Symbol.for("react.lazy"),t1=Symbol.iterator;function YN(t){return t===null||typeof t!="object"?null:(t=t1&&t[t1]||t["@@iterator"],typeof t=="function"?t:null)}var iE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sE=Object.assign,oE={};function Ma(t,e,n){this.props=t,this.context=e,this.refs=oE,this.updater=n||iE}Ma.prototype.isReactComponent={};Ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function aE(){}aE.prototype=Ma.prototype;function py(t,e,n){this.props=t,this.context=e,this.refs=oE,this.updater=n||iE}var my=py.prototype=new aE;my.constructor=py;sE(my,Ma.prototype);my.isPureReactComponent=!0;var n1=Array.isArray,lE=Object.prototype.hasOwnProperty,gy={current:null},uE={key:!0,ref:!0,__self:!0,__source:!0};function cE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)lE.call(e,r)&&!uE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xu,type:t,key:s,ref:o,props:i,_owner:gy.current}}function XN(t,e){return{$$typeof:xu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yy(t){return typeof t=="object"&&t!==null&&t.$$typeof===xu}function ZN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var r1=/\/+/g;function ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZN(""+t.key):e.toString(36)}function Vc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xu:case zN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ep(o,0):r,n1(i)?(n="",t!=null&&(n=t.replace(r1,"$&/")+"/"),Vc(i,e,n,"",function(u){return u})):i!=null&&(yy(i)&&(i=XN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(r1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",n1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ep(s,a);o+=Vc(s,e,n,l,i)}else if(l=YN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ep(s,a++),o+=Vc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cc(t,e,n){if(t==null)return t;var r=[],i=0;return Vc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function eO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},zc={transition:null},tO={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:zc,ReactCurrentOwner:gy};he.Children={map:cc,forEach:function(t,e,n){cc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cc(t,function(){e++}),e},toArray:function(t){return cc(t,function(e){return e})||[]},only:function(t){if(!yy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Ma;he.Fragment=UN;he.Profiler=HN;he.PureComponent=py;he.StrictMode=jN;he.Suspense=GN;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tO;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)lE.call(e,l)&&!uE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:xu,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:qN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WN,_context:t},t.Consumer=t};he.createElement=cE;he.createFactory=function(t){var e=cE.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:KN,render:t}};he.isValidElement=yy;he.lazy=function(t){return{$$typeof:QN,_payload:{_status:-1,_result:t},_init:eO}};he.memo=function(t,e){return{$$typeof:JN,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=zc.transition;zc.transition={};try{t()}finally{zc.transition=e}};he.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};he.useCallback=function(t,e){return ln.current.useCallback(t,e)};he.useContext=function(t){return ln.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};he.useEffect=function(t,e){return ln.current.useEffect(t,e)};he.useId=function(){return ln.current.useId()};he.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return ln.current.useMemo(t,e)};he.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};he.useRef=function(t){return ln.current.useRef(t)};he.useState=function(t){return ln.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return ln.current.useTransition()};he.version="18.2.0";(function(t){t.exports=he})(qe);const Te=rE(qe.exports);var nO=qe.exports,rO=Symbol.for("react.element"),iO=Symbol.for("react.fragment"),sO=Object.prototype.hasOwnProperty,oO=nO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aO={key:!0,ref:!0,__self:!0,__source:!0};function dE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sO.call(e,r)&&!aO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rO,type:t,key:s,ref:o,props:i,_owner:oO.current}}Eh.Fragment=iO;Eh.jsx=dE;Eh.jsxs=dE;(function(t){t.exports=Eh})(kh);const lO=kh.exports.Fragment,H=kh.exports.jsx,cr=kh.exports.jsxs;var Tm={},Th={exports:{}},Rn={},hE={exports:{}},fE={};(function(t){function e(R,q){var J=R.length;R.push(q);e:for(;0<J;){var ke=J-1>>>1,Ne=R[ke];if(0<i(Ne,q))R[ke]=q,R[J]=Ne,J=ke;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var q=R[0],J=R.pop();if(J!==q){R[0]=J;e:for(var ke=0,Ne=R.length,Xn=Ne>>>1;ke<Xn;){var Zn=2*(ke+1)-1,cn=R[Zn],ft=Zn+1,Ct=R[ft];if(0>i(cn,J))ft<Ne&&0>i(Ct,cn)?(R[ke]=Ct,R[ft]=J,ke=ft):(R[ke]=cn,R[Zn]=J,ke=Zn);else if(ft<Ne&&0>i(Ct,J))R[ke]=Ct,R[ft]=J,ke=ft;else break e}}return q}function i(R,q){var J=R.sortIndex-q.sortIndex;return J!==0?J:R.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=R)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function k(R){if(m=!1,v(R),!p)if(n(l)!==null)p=!0,Je(b);else{var q=n(u);q!==null&&Ve(k,q.startTime-R)}}function b(R,q){p=!1,m&&(m=!1,y(I),I=-1),f=!0;var J=h;try{for(v(q),d=n(l);d!==null&&(!(d.expirationTime>q)||R&&!G());){var ke=d.callback;if(typeof ke=="function"){d.callback=null,h=d.priorityLevel;var Ne=ke(d.expirationTime<=q);q=t.unstable_now(),typeof Ne=="function"?d.callback=Ne:d===n(l)&&r(l),v(q)}else r(l);d=n(l)}if(d!==null)var Xn=!0;else{var Zn=n(u);Zn!==null&&Ve(k,Zn.startTime-q),Xn=!1}return Xn}finally{d=null,h=J,f=!1}}var _=!1,O=null,I=-1,ee=5,X=-1;function G(){return!(t.unstable_now()-X<ee)}function de(){if(O!==null){var R=t.unstable_now();X=R;var q=!0;try{q=O(!0,R)}finally{q?ve():(_=!1,O=null)}}else _=!1}var ve;if(typeof g=="function")ve=function(){g(de)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,ne=et.port2;et.port1.onmessage=de,ve=function(){ne.postMessage(null)}}else ve=function(){S(de,0)};function Je(R){O=R,_||(_=!0,ve())}function Ve(R,q){I=S(function(){R(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Je(b))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var J=h;h=q;try{return R()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,q){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var J=h;h=R;try{return q()}finally{h=J}},t.unstable_scheduleCallback=function(R,q,J){var ke=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ke+J:ke):J=ke,R){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=J+Ne,R={id:c++,callback:q,priorityLevel:R,startTime:J,expirationTime:Ne,sortIndex:-1},J>ke?(R.sortIndex=J,e(u,R),n(l)===null&&R===n(u)&&(m?(y(I),I=-1):m=!0,Ve(k,J-ke))):(R.sortIndex=Ne,e(l,R),p||f||(p=!0,Je(b))),R},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(R){var q=h;return function(){var J=h;h=q;try{return R.apply(this,arguments)}finally{h=J}}}})(fE);(function(t){t.exports=fE})(hE);var pE=qe.exports,Mn=hE.exports;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mE=new Set,zl={};function oo(t,e){oa(t,e),oa(t+"Capture",e)}function oa(t,e){for(zl[t]=e,t=0;t<e.length;t++)mE.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cm=Object.prototype.hasOwnProperty,uO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i1={},s1={};function cO(t){return Cm.call(s1,t)?!0:Cm.call(i1,t)?!1:uO.test(t)?s1[t]=!0:(i1[t]=!0,!1)}function dO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hO(t,e,n,r){if(e===null||typeof e>"u"||dO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var vy=/[\-:]([a-z])/g;function wy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vy,wy);Rt[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vy,wy);Rt[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vy,wy);Rt[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sy(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hO(e,n,i,r)&&(n=null),r||i===null?cO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hi=pE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dc=Symbol.for("react.element"),To=Symbol.for("react.portal"),Co=Symbol.for("react.fragment"),ky=Symbol.for("react.strict_mode"),Im=Symbol.for("react.profiler"),gE=Symbol.for("react.provider"),yE=Symbol.for("react.context"),Ey=Symbol.for("react.forward_ref"),bm=Symbol.for("react.suspense"),xm=Symbol.for("react.suspense_list"),Ty=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),vE=Symbol.for("react.offscreen"),o1=Symbol.iterator;function Qa(t){return t===null||typeof t!="object"?null:(t=o1&&t[o1]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,tp;function ll(t){if(tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tp=e&&e[1]||""}return`
`+tp+t}var np=!1;function rp(t,e){if(!t||np)return"";np=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{np=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ll(t):""}function fO(t){switch(t.tag){case 5:return ll(t.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return t=rp(t.type,!1),t;case 11:return t=rp(t.type.render,!1),t;case 1:return t=rp(t.type,!0),t;default:return""}}function Am(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Co:return"Fragment";case To:return"Portal";case Im:return"Profiler";case ky:return"StrictMode";case bm:return"Suspense";case xm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yE:return(t.displayName||"Context")+".Consumer";case gE:return(t._context.displayName||"Context")+".Provider";case Ey:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ty:return e=t.displayName||null,e!==null?e:Am(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return Am(t(e))}catch{}}return null}function pO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Am(e);case 8:return e===ky?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mO(t){var e=wE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hc(t){t._valueTracker||(t._valueTracker=mO(t))}function SE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ld(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nm(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function a1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kE(t,e){e=e.checked,e!=null&&Sy(t,"checked",e,!1)}function Om(t,e){kE(t,e);var n=Xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mm(t,e.type,Xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function l1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mm(t,e,n){(e!=="number"||ld(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ul=Array.isArray;function jo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _m(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function u1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(ul(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xi(n)}}function EE(t,e){var n=Xi(e.value),r=Xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function c1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function TE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?TE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fc,CE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gO=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(t){gO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sl[e]=Sl[t]})});function IE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sl.hasOwnProperty(t)&&Sl[t]?(""+e).trim():e+"px"}function bE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=IE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yO=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rm(t,e){if(e){if(yO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Pm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lm=null;function Cy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fm=null,Ho=null,Wo=null;function d1(t){if(t=Ou(t)){if(typeof Fm!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Ah(e),Fm(t.stateNode,t.type,e))}}function xE(t){Ho?Wo?Wo.push(t):Wo=[t]:Ho=t}function AE(){if(Ho){var t=Ho,e=Wo;if(Wo=Ho=null,d1(t),e)for(t=0;t<e.length;t++)d1(e[t])}}function NE(t,e){return t(e)}function OE(){}var ip=!1;function ME(t,e,n){if(ip)return t(e,n);ip=!0;try{return NE(t,e,n)}finally{ip=!1,(Ho!==null||Wo!==null)&&(OE(),AE())}}function jl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ah(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var $m=!1;if(ii)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){$m=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{$m=!1}function vO(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var kl=!1,ud=null,cd=!1,Bm=null,wO={onError:function(t){kl=!0,ud=t}};function SO(t,e,n,r,i,s,o,a,l){kl=!1,ud=null,vO.apply(wO,arguments)}function kO(t,e,n,r,i,s,o,a,l){if(SO.apply(this,arguments),kl){if(kl){var u=ud;kl=!1,ud=null}else throw Error(N(198));cd||(cd=!0,Bm=u)}}function ao(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _E(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h1(t){if(ao(t)!==t)throw Error(N(188))}function EO(t){var e=t.alternate;if(!e){if(e=ao(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h1(i),t;if(s===r)return h1(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function DE(t){return t=EO(t),t!==null?RE(t):null}function RE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RE(t);if(e!==null)return e;t=t.sibling}return null}var PE=Mn.unstable_scheduleCallback,f1=Mn.unstable_cancelCallback,TO=Mn.unstable_shouldYield,CO=Mn.unstable_requestPaint,nt=Mn.unstable_now,IO=Mn.unstable_getCurrentPriorityLevel,Iy=Mn.unstable_ImmediatePriority,LE=Mn.unstable_UserBlockingPriority,dd=Mn.unstable_NormalPriority,bO=Mn.unstable_LowPriority,FE=Mn.unstable_IdlePriority,Ch=null,Dr=null;function xO(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Ch,t,void 0,(t.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:OO,AO=Math.log,NO=Math.LN2;function OO(t){return t>>>=0,t===0?32:31-(AO(t)/NO|0)|0}var pc=64,mc=4194304;function cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=cl(a):(s&=o,s!==0&&(r=cl(s)))}else o=n&~i,o!==0?r=cl(o):s!==0&&(r=cl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dr(e),i=1<<n,r|=t[n],e&=~i;return r}function MO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _O(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-dr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=MO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Vm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $E(){var t=pc;return pc<<=1,!(pc&4194240)&&(pc=64),t}function sp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dr(e),t[e]=n}function DO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function by(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function BE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var VE,xy,zE,UE,jE,zm=!1,gc=[],$i=null,Bi=null,Vi=null,Hl=new Map,Wl=new Map,bi=[],RO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p1(t,e){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":Hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(e.pointerId)}}function Xa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ou(e),e!==null&&xy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PO(t,e,n,r,i){switch(e){case"focusin":return $i=Xa($i,t,e,n,r,i),!0;case"dragenter":return Bi=Xa(Bi,t,e,n,r,i),!0;case"mouseover":return Vi=Xa(Vi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Hl.set(s,Xa(Hl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wl.set(s,Xa(Wl.get(s)||null,t,e,n,r,i)),!0}return!1}function HE(t){var e=Ts(t.target);if(e!==null){var n=ao(e);if(n!==null){if(e=n.tag,e===13){if(e=_E(n),e!==null){t.blockedOn=e,jE(t.priority,function(){zE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Um(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lm=r,n.target.dispatchEvent(r),Lm=null}else return e=Ou(n),e!==null&&xy(e),t.blockedOn=n,!1;e.shift()}return!0}function m1(t,e,n){Uc(t)&&n.delete(e)}function LO(){zm=!1,$i!==null&&Uc($i)&&($i=null),Bi!==null&&Uc(Bi)&&(Bi=null),Vi!==null&&Uc(Vi)&&(Vi=null),Hl.forEach(m1),Wl.forEach(m1)}function Za(t,e){t.blockedOn===e&&(t.blockedOn=null,zm||(zm=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,LO)))}function ql(t){function e(i){return Za(i,t)}if(0<gc.length){Za(gc[0],t);for(var n=1;n<gc.length;n++){var r=gc[n];r.blockedOn===t&&(r.blockedOn=null)}}for($i!==null&&Za($i,t),Bi!==null&&Za(Bi,t),Vi!==null&&Za(Vi,t),Hl.forEach(e),Wl.forEach(e),n=0;n<bi.length;n++)r=bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bi.length&&(n=bi[0],n.blockedOn===null);)HE(n),n.blockedOn===null&&bi.shift()}var qo=hi.ReactCurrentBatchConfig,fd=!0;function FO(t,e,n,r){var i=xe,s=qo.transition;qo.transition=null;try{xe=1,Ay(t,e,n,r)}finally{xe=i,qo.transition=s}}function $O(t,e,n,r){var i=xe,s=qo.transition;qo.transition=null;try{xe=4,Ay(t,e,n,r)}finally{xe=i,qo.transition=s}}function Ay(t,e,n,r){if(fd){var i=Um(t,e,n,r);if(i===null)mp(t,e,r,pd,n),p1(t,r);else if(PO(i,t,e,n,r))r.stopPropagation();else if(p1(t,r),e&4&&-1<RO.indexOf(t)){for(;i!==null;){var s=Ou(i);if(s!==null&&VE(s),s=Um(t,e,n,r),s===null&&mp(t,e,r,pd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mp(t,e,r,null,n)}}var pd=null;function Um(t,e,n,r){if(pd=null,t=Cy(r),t=Ts(t),t!==null)if(e=ao(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_E(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pd=t,null}function WE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IO()){case Iy:return 1;case LE:return 4;case dd:case bO:return 16;case FE:return 536870912;default:return 16}default:return 16}}var Di=null,Ny=null,jc=null;function qE(){if(jc)return jc;var t,e=Ny,n=e.length,r,i="value"in Di?Di.value:Di.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return jc=i.slice(t,1<r?1-r:void 0)}function Hc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yc(){return!0}function g1(){return!1}function Pn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yc:g1,this.isPropagationStopped=g1,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yc)},persist:function(){},isPersistent:yc}),e}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oy=Pn(_a),Nu=Ge({},_a,{view:0,detail:0}),BO=Pn(Nu),op,ap,el,Ih=Ge({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:My,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==el&&(el&&t.type==="mousemove"?(op=t.screenX-el.screenX,ap=t.screenY-el.screenY):ap=op=0,el=t),op)},movementY:function(t){return"movementY"in t?t.movementY:ap}}),y1=Pn(Ih),VO=Ge({},Ih,{dataTransfer:0}),zO=Pn(VO),UO=Ge({},Nu,{relatedTarget:0}),lp=Pn(UO),jO=Ge({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),HO=Pn(jO),WO=Ge({},_a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qO=Pn(WO),KO=Ge({},_a,{data:0}),v1=Pn(KO),GO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QO[t])?!!e[t]:!1}function My(){return YO}var XO=Ge({},Nu,{key:function(t){if(t.key){var e=GO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:My,charCode:function(t){return t.type==="keypress"?Hc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZO=Pn(XO),eM=Ge({},Ih,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w1=Pn(eM),tM=Ge({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:My}),nM=Pn(tM),rM=Ge({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),iM=Pn(rM),sM=Ge({},Ih,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oM=Pn(sM),aM=[9,13,27,32],_y=ii&&"CompositionEvent"in window,El=null;ii&&"documentMode"in document&&(El=document.documentMode);var lM=ii&&"TextEvent"in window&&!El,KE=ii&&(!_y||El&&8<El&&11>=El),S1=String.fromCharCode(32),k1=!1;function GE(t,e){switch(t){case"keyup":return aM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Io=!1;function uM(t,e){switch(t){case"compositionend":return JE(e);case"keypress":return e.which!==32?null:(k1=!0,S1);case"textInput":return t=e.data,t===S1&&k1?null:t;default:return null}}function cM(t,e){if(Io)return t==="compositionend"||!_y&&GE(t,e)?(t=qE(),jc=Ny=Di=null,Io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KE&&e.locale!=="ko"?null:e.data;default:return null}}var dM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dM[t.type]:e==="textarea"}function QE(t,e,n,r){xE(r),e=md(e,"onChange"),0<e.length&&(n=new Oy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tl=null,Kl=null;function hM(t){aT(t,0)}function bh(t){var e=Ao(t);if(SE(e))return t}function fM(t,e){if(t==="change")return e}var YE=!1;if(ii){var up;if(ii){var cp="oninput"in document;if(!cp){var T1=document.createElement("div");T1.setAttribute("oninput","return;"),cp=typeof T1.oninput=="function"}up=cp}else up=!1;YE=up&&(!document.documentMode||9<document.documentMode)}function C1(){Tl&&(Tl.detachEvent("onpropertychange",XE),Kl=Tl=null)}function XE(t){if(t.propertyName==="value"&&bh(Kl)){var e=[];QE(e,Kl,t,Cy(t)),ME(hM,e)}}function pM(t,e,n){t==="focusin"?(C1(),Tl=e,Kl=n,Tl.attachEvent("onpropertychange",XE)):t==="focusout"&&C1()}function mM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bh(Kl)}function gM(t,e){if(t==="click")return bh(e)}function yM(t,e){if(t==="input"||t==="change")return bh(e)}function vM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mr=typeof Object.is=="function"?Object.is:vM;function Gl(t,e){if(mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cm.call(e,i)||!mr(t[i],e[i]))return!1}return!0}function I1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b1(t,e){var n=I1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=I1(n)}}function ZE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ZE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eT(){for(var t=window,e=ld();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ld(t.document)}return e}function Dy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wM(t){var e=eT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ZE(n.ownerDocument.documentElement,n)){if(r!==null&&Dy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=b1(n,s);var o=b1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SM=ii&&"documentMode"in document&&11>=document.documentMode,bo=null,jm=null,Cl=null,Hm=!1;function x1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hm||bo==null||bo!==ld(r)||(r=bo,"selectionStart"in r&&Dy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cl&&Gl(Cl,r)||(Cl=r,r=md(jm,"onSelect"),0<r.length&&(e=new Oy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bo)))}function vc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xo={animationend:vc("Animation","AnimationEnd"),animationiteration:vc("Animation","AnimationIteration"),animationstart:vc("Animation","AnimationStart"),transitionend:vc("Transition","TransitionEnd")},dp={},tT={};ii&&(tT=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function xh(t){if(dp[t])return dp[t];if(!xo[t])return t;var e=xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tT)return dp[t]=e[n];return t}var nT=xh("animationend"),rT=xh("animationiteration"),iT=xh("animationstart"),sT=xh("transitionend"),oT=new Map,A1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(t,e){oT.set(t,e),oo(e,[t])}for(var hp=0;hp<A1.length;hp++){var fp=A1[hp],kM=fp.toLowerCase(),EM=fp[0].toUpperCase()+fp.slice(1);as(kM,"on"+EM)}as(nT,"onAnimationEnd");as(rT,"onAnimationIteration");as(iT,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(sT,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TM=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function N1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kO(r,e,void 0,t),t.currentTarget=null}function aT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;N1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;N1(i,a,u),s=l}}}if(cd)throw t=Bm,cd=!1,Bm=null,t}function Fe(t,e){var n=e[Jm];n===void 0&&(n=e[Jm]=new Set);var r=t+"__bubble";n.has(r)||(lT(e,t,2,!1),n.add(r))}function pp(t,e,n){var r=0;e&&(r|=4),lT(n,t,r,e)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Jl(t){if(!t[wc]){t[wc]=!0,mE.forEach(function(n){n!=="selectionchange"&&(TM.has(n)||pp(n,!1,t),pp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wc]||(e[wc]=!0,pp("selectionchange",!1,e))}}function lT(t,e,n,r){switch(WE(e)){case 1:var i=FO;break;case 4:i=$O;break;default:i=Ay}n=i.bind(null,e,n,t),i=void 0,!$m||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ts(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ME(function(){var u=s,c=Cy(n),d=[];e:{var h=oT.get(t);if(h!==void 0){var f=Oy,p=t;switch(t){case"keypress":if(Hc(n)===0)break e;case"keydown":case"keyup":f=ZO;break;case"focusin":p="focus",f=lp;break;case"focusout":p="blur",f=lp;break;case"beforeblur":case"afterblur":f=lp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=y1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=zO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=nM;break;case nT:case rT:case iT:f=HO;break;case sT:f=iM;break;case"scroll":f=BO;break;case"wheel":f=oM;break;case"copy":case"cut":case"paste":f=qO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=w1}var m=(e&4)!==0,S=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,v;g!==null;){v=g;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,y!==null&&(k=jl(g,y),k!=null&&m.push(Ql(g,k,v)))),S)break;g=g.return}0<m.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Lm&&(p=n.relatedTarget||n.fromElement)&&(Ts(p)||p[si]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?Ts(p):null,p!==null&&(S=ao(p),p!==S||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=y1,k="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=w1,k="onPointerLeave",y="onPointerEnter",g="pointer"),S=f==null?h:Ao(f),v=p==null?h:Ao(p),h=new m(k,g+"leave",f,n,c),h.target=S,h.relatedTarget=v,k=null,Ts(c)===u&&(m=new m(y,g+"enter",p,n,c),m.target=v,m.relatedTarget=S,k=m),S=k,f&&p)t:{for(m=f,y=p,g=0,v=m;v;v=yo(v))g++;for(v=0,k=y;k;k=yo(k))v++;for(;0<g-v;)m=yo(m),g--;for(;0<v-g;)y=yo(y),v--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=yo(m),y=yo(y)}m=null}else m=null;f!==null&&O1(d,h,f,m,!1),p!==null&&S!==null&&O1(d,S,p,m,!0)}}e:{if(h=u?Ao(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var b=fM;else if(E1(h))if(YE)b=yM;else{b=mM;var _=pM}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=gM);if(b&&(b=b(t,u))){QE(d,b,n,c);break e}_&&_(t,h,u),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Mm(h,"number",h.value)}switch(_=u?Ao(u):window,t){case"focusin":(E1(_)||_.contentEditable==="true")&&(bo=_,jm=u,Cl=null);break;case"focusout":Cl=jm=bo=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,x1(d,n,c);break;case"selectionchange":if(SM)break;case"keydown":case"keyup":x1(d,n,c)}var O;if(_y)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Io?GE(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(KE&&n.locale!=="ko"&&(Io||I!=="onCompositionStart"?I==="onCompositionEnd"&&Io&&(O=qE()):(Di=c,Ny="value"in Di?Di.value:Di.textContent,Io=!0)),_=md(u,I),0<_.length&&(I=new v1(I,t,null,n,c),d.push({event:I,listeners:_}),O?I.data=O:(O=JE(n),O!==null&&(I.data=O)))),(O=lM?uM(t,n):cM(t,n))&&(u=md(u,"onBeforeInput"),0<u.length&&(c=new v1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=O))}aT(d,e)})}function Ql(t,e,n){return{instance:t,listener:e,currentTarget:n}}function md(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jl(t,n),s!=null&&r.unshift(Ql(t,s,i)),s=jl(t,e),s!=null&&r.push(Ql(t,s,i))),t=t.return}return r}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function O1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=jl(n,s),l!=null&&o.unshift(Ql(n,l,a))):i||(l=jl(n,s),l!=null&&o.push(Ql(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var CM=/\r\n?/g,IM=/\u0000|\uFFFD/g;function M1(t){return(typeof t=="string"?t:""+t).replace(CM,`
`).replace(IM,"")}function Sc(t,e,n){if(e=M1(e),M1(t)!==e&&n)throw Error(N(425))}function gd(){}var Wm=null,qm=null;function Km(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gm=typeof setTimeout=="function"?setTimeout:void 0,bM=typeof clearTimeout=="function"?clearTimeout:void 0,_1=typeof Promise=="function"?Promise:void 0,xM=typeof queueMicrotask=="function"?queueMicrotask:typeof _1<"u"?function(t){return _1.resolve(null).then(t).catch(AM)}:Gm;function AM(t){setTimeout(function(){throw t})}function gp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ql(e)}function zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function D1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Da=Math.random().toString(36).slice(2),br="__reactFiber$"+Da,Yl="__reactProps$"+Da,si="__reactContainer$"+Da,Jm="__reactEvents$"+Da,NM="__reactListeners$"+Da,OM="__reactHandles$"+Da;function Ts(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[si]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=D1(t);t!==null;){if(n=t[br])return n;t=D1(t)}return e}t=n,n=t.parentNode}return null}function Ou(t){return t=t[br]||t[si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Ah(t){return t[Yl]||null}var Qm=[],No=-1;function ls(t){return{current:t}}function $e(t){0>No||(t.current=Qm[No],Qm[No]=null,No--)}function Pe(t,e){No++,Qm[No]=t.current,t.current=e}var Zi={},Kt=ls(Zi),yn=ls(!1),Us=Zi;function aa(t,e){var n=t.type.contextTypes;if(!n)return Zi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vn(t){return t=t.childContextTypes,t!=null}function yd(){$e(yn),$e(Kt)}function R1(t,e,n){if(Kt.current!==Zi)throw Error(N(168));Pe(Kt,e),Pe(yn,n)}function uT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,pO(t)||"Unknown",i));return Ge({},n,r)}function vd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zi,Us=Kt.current,Pe(Kt,t),Pe(yn,yn.current),!0}function P1(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=uT(t,e,Us),r.__reactInternalMemoizedMergedChildContext=t,$e(yn),$e(Kt),Pe(Kt,t)):$e(yn),Pe(yn,n)}var Kr=null,Nh=!1,yp=!1;function cT(t){Kr===null?Kr=[t]:Kr.push(t)}function MM(t){Nh=!0,cT(t)}function us(){if(!yp&&Kr!==null){yp=!0;var t=0,e=xe;try{var n=Kr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kr=null,Nh=!1}catch(i){throw Kr!==null&&(Kr=Kr.slice(t+1)),PE(Iy,us),i}finally{xe=e,yp=!1}}return null}var Oo=[],Mo=0,wd=null,Sd=0,zn=[],Un=0,js=null,Gr=1,Jr="";function vs(t,e){Oo[Mo++]=Sd,Oo[Mo++]=wd,wd=t,Sd=e}function dT(t,e,n){zn[Un++]=Gr,zn[Un++]=Jr,zn[Un++]=js,js=t;var r=Gr;t=Jr;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var s=32-dr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gr=1<<32-dr(e)+i|n<<i|r,Jr=s+t}else Gr=1<<s|n<<i|r,Jr=t}function Ry(t){t.return!==null&&(vs(t,1),dT(t,1,0))}function Py(t){for(;t===wd;)wd=Oo[--Mo],Oo[Mo]=null,Sd=Oo[--Mo],Oo[Mo]=null;for(;t===js;)js=zn[--Un],zn[Un]=null,Jr=zn[--Un],zn[Un]=null,Gr=zn[--Un],zn[Un]=null}var An=null,xn=null,Ue=!1,sr=null;function hT(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function L1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,xn=zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=js!==null?{id:Gr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,xn=null,!0):!1;default:return!1}}function Ym(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xm(t){if(Ue){var e=xn;if(e){var n=e;if(!L1(t,e)){if(Ym(t))throw Error(N(418));e=zi(n.nextSibling);var r=An;e&&L1(t,e)?hT(r,n):(t.flags=t.flags&-4097|2,Ue=!1,An=t)}}else{if(Ym(t))throw Error(N(418));t.flags=t.flags&-4097|2,Ue=!1,An=t}}}function F1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function kc(t){if(t!==An)return!1;if(!Ue)return F1(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Km(t.type,t.memoizedProps)),e&&(e=xn)){if(Ym(t))throw fT(),Error(N(418));for(;e;)hT(t,e),e=zi(e.nextSibling)}if(F1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xn=zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=An?zi(t.stateNode.nextSibling):null;return!0}function fT(){for(var t=xn;t;)t=zi(t.nextSibling)}function la(){xn=An=null,Ue=!1}function Ly(t){sr===null?sr=[t]:sr.push(t)}var _M=hi.ReactCurrentBatchConfig;function rr(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var kd=ls(null),Ed=null,_o=null,Fy=null;function $y(){Fy=_o=Ed=null}function By(t){var e=kd.current;$e(kd),t._currentValue=e}function Zm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ko(t,e){Ed=t,Fy=_o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(Fy!==t)if(t={context:t,memoizedValue:e,next:null},_o===null){if(Ed===null)throw Error(N(308));_o=t,Ed.dependencies={lanes:0,firstContext:t}}else _o=_o.next=t;return e}var Cs=null;function Vy(t){Cs===null?Cs=[t]:Cs.push(t)}function pT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vy(e)):(n.next=i.next,i.next=n),e.interleaved=n,oi(t,r)}function oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ci=!1;function zy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ui(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,oi(t,n)}return i=r.interleaved,i===null?(e.next=e,Vy(r)):(e.next=i.next,i.next=e),r.interleaved=e,oi(t,n)}function Wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,by(t,n)}}function $1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Td(t,e,n,r){var i=t.updateQueue;Ci=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Ge({},d,h);break e;case 2:Ci=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ws|=o,t.lanes=o,t.memoizedState=d}}function B1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var gT=new pE.Component().refs;function eg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Oh={isMounted:function(t){return(t=t._reactInternals)?ao(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),i=Hi(t),s=Zr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ui(t,s,i),e!==null&&(hr(e,t,i,r),Wc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),i=Hi(t),s=Zr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ui(t,s,i),e!==null&&(hr(e,t,i,r),Wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=Hi(t),i=Zr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ui(t,i,r),e!==null&&(hr(e,t,r,n),Wc(e,t,r))}};function V1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Gl(n,r)||!Gl(i,s):!0}function yT(t,e,n){var r=!1,i=Zi,s=e.contextType;return typeof s=="object"&&s!==null?s=Jn(s):(i=vn(e)?Us:Kt.current,r=e.contextTypes,s=(r=r!=null)?aa(t,i):Zi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Oh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function z1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Oh.enqueueReplaceState(e,e.state,null)}function tg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=gT,zy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jn(s):(s=vn(e)?Us:Kt.current,i.context=aa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(eg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Oh.enqueueReplaceState(i,i.state,null),Td(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===gT&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Ec(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function U1(t){var e=t._init;return e(t._payload)}function vT(t){function e(y,g){if(t){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=Wi(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,v,k){return g===null||g.tag!==6?(g=Cp(v,y.mode,k),g.return=y,g):(g=i(g,v),g.return=y,g)}function l(y,g,v,k){var b=v.type;return b===Co?c(y,g,v.props.children,k,v.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ti&&U1(b)===g.type)?(k=i(g,v.props),k.ref=tl(y,g,v),k.return=y,k):(k=Yc(v.type,v.key,v.props,null,y.mode,k),k.ref=tl(y,g,v),k.return=y,k)}function u(y,g,v,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Ip(v,y.mode,k),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function c(y,g,v,k,b){return g===null||g.tag!==7?(g=Rs(v,y.mode,k,b),g.return=y,g):(g=i(g,v),g.return=y,g)}function d(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Cp(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case dc:return v=Yc(g.type,g.key,g.props,null,y.mode,v),v.ref=tl(y,null,g),v.return=y,v;case To:return g=Ip(g,y.mode,v),g.return=y,g;case Ti:var k=g._init;return d(y,k(g._payload),v)}if(ul(g)||Qa(g))return g=Rs(g,y.mode,v,null),g.return=y,g;Ec(y,g)}return null}function h(y,g,v,k){var b=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:a(y,g,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dc:return v.key===b?l(y,g,v,k):null;case To:return v.key===b?u(y,g,v,k):null;case Ti:return b=v._init,h(y,g,b(v._payload),k)}if(ul(v)||Qa(v))return b!==null?null:c(y,g,v,k,null);Ec(y,v)}return null}function f(y,g,v,k,b){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(v)||null,a(g,y,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case dc:return y=y.get(k.key===null?v:k.key)||null,l(g,y,k,b);case To:return y=y.get(k.key===null?v:k.key)||null,u(g,y,k,b);case Ti:var _=k._init;return f(y,g,v,_(k._payload),b)}if(ul(k)||Qa(k))return y=y.get(v)||null,c(g,y,k,b,null);Ec(g,k)}return null}function p(y,g,v,k){for(var b=null,_=null,O=g,I=g=0,ee=null;O!==null&&I<v.length;I++){O.index>I?(ee=O,O=null):ee=O.sibling;var X=h(y,O,v[I],k);if(X===null){O===null&&(O=ee);break}t&&O&&X.alternate===null&&e(y,O),g=s(X,g,I),_===null?b=X:_.sibling=X,_=X,O=ee}if(I===v.length)return n(y,O),Ue&&vs(y,I),b;if(O===null){for(;I<v.length;I++)O=d(y,v[I],k),O!==null&&(g=s(O,g,I),_===null?b=O:_.sibling=O,_=O);return Ue&&vs(y,I),b}for(O=r(y,O);I<v.length;I++)ee=f(O,y,I,v[I],k),ee!==null&&(t&&ee.alternate!==null&&O.delete(ee.key===null?I:ee.key),g=s(ee,g,I),_===null?b=ee:_.sibling=ee,_=ee);return t&&O.forEach(function(G){return e(y,G)}),Ue&&vs(y,I),b}function m(y,g,v,k){var b=Qa(v);if(typeof b!="function")throw Error(N(150));if(v=b.call(v),v==null)throw Error(N(151));for(var _=b=null,O=g,I=g=0,ee=null,X=v.next();O!==null&&!X.done;I++,X=v.next()){O.index>I?(ee=O,O=null):ee=O.sibling;var G=h(y,O,X.value,k);if(G===null){O===null&&(O=ee);break}t&&O&&G.alternate===null&&e(y,O),g=s(G,g,I),_===null?b=G:_.sibling=G,_=G,O=ee}if(X.done)return n(y,O),Ue&&vs(y,I),b;if(O===null){for(;!X.done;I++,X=v.next())X=d(y,X.value,k),X!==null&&(g=s(X,g,I),_===null?b=X:_.sibling=X,_=X);return Ue&&vs(y,I),b}for(O=r(y,O);!X.done;I++,X=v.next())X=f(O,y,I,X.value,k),X!==null&&(t&&X.alternate!==null&&O.delete(X.key===null?I:X.key),g=s(X,g,I),_===null?b=X:_.sibling=X,_=X);return t&&O.forEach(function(de){return e(y,de)}),Ue&&vs(y,I),b}function S(y,g,v,k){if(typeof v=="object"&&v!==null&&v.type===Co&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case dc:e:{for(var b=v.key,_=g;_!==null;){if(_.key===b){if(b=v.type,b===Co){if(_.tag===7){n(y,_.sibling),g=i(_,v.props.children),g.return=y,y=g;break e}}else if(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ti&&U1(b)===_.type){n(y,_.sibling),g=i(_,v.props),g.ref=tl(y,_,v),g.return=y,y=g;break e}n(y,_);break}else e(y,_);_=_.sibling}v.type===Co?(g=Rs(v.props.children,y.mode,k,v.key),g.return=y,y=g):(k=Yc(v.type,v.key,v.props,null,y.mode,k),k.ref=tl(y,g,v),k.return=y,y=k)}return o(y);case To:e:{for(_=v.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=i(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=Ip(v,y.mode,k),g.return=y,y=g}return o(y);case Ti:return _=v._init,S(y,g,_(v._payload),k)}if(ul(v))return p(y,g,v,k);if(Qa(v))return m(y,g,v,k);Ec(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,v),g.return=y,y=g):(n(y,g),g=Cp(v,y.mode,k),g.return=y,y=g),o(y)):n(y,g)}return S}var ua=vT(!0),wT=vT(!1),Mu={},Rr=ls(Mu),Xl=ls(Mu),Zl=ls(Mu);function Is(t){if(t===Mu)throw Error(N(174));return t}function Uy(t,e){switch(Pe(Zl,e),Pe(Xl,t),Pe(Rr,Mu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dm(e,t)}$e(Rr),Pe(Rr,e)}function ca(){$e(Rr),$e(Xl),$e(Zl)}function ST(t){Is(Zl.current);var e=Is(Rr.current),n=Dm(e,t.type);e!==n&&(Pe(Xl,t),Pe(Rr,n))}function jy(t){Xl.current===t&&($e(Rr),$e(Xl))}var We=ls(0);function Cd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vp=[];function Hy(){for(var t=0;t<vp.length;t++)vp[t]._workInProgressVersionPrimary=null;vp.length=0}var qc=hi.ReactCurrentDispatcher,wp=hi.ReactCurrentBatchConfig,Hs=0,Ke=null,lt=null,mt=null,Id=!1,Il=!1,eu=0,DM=0;function Ft(){throw Error(N(321))}function Wy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mr(t[n],e[n]))return!1;return!0}function qy(t,e,n,r,i,s){if(Hs=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qc.current=t===null||t.memoizedState===null?FM:$M,t=n(r,i),Il){s=0;do{if(Il=!1,eu=0,25<=s)throw Error(N(301));s+=1,mt=lt=null,e.updateQueue=null,qc.current=BM,t=n(r,i)}while(Il)}if(qc.current=bd,e=lt!==null&&lt.next!==null,Hs=0,mt=lt=Ke=null,Id=!1,e)throw Error(N(300));return t}function Ky(){var t=eu!==0;return eu=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ke.memoizedState=mt=t:mt=mt.next=t,mt}function Qn(){if(lt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=mt===null?Ke.memoizedState:mt.next;if(e!==null)mt=e,lt=t;else{if(t===null)throw Error(N(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},mt===null?Ke.memoizedState=mt=t:mt=mt.next=t}return mt}function tu(t,e){return typeof e=="function"?e(t):e}function Sp(t){var e=Qn(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=lt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Hs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ke.lanes|=c,Ws|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,mr(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,Ws|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kp(t){var e=Qn(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);mr(s,e.memoizedState)||(mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function kT(){}function ET(t,e){var n=Ke,r=Qn(),i=e(),s=!mr(r.memoizedState,i);if(s&&(r.memoizedState=i,mn=!0),r=r.queue,Gy(IT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,nu(9,CT.bind(null,n,r,i,e),void 0,null),yt===null)throw Error(N(349));Hs&30||TT(n,e,i)}return i}function TT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CT(t,e,n,r){e.value=n,e.getSnapshot=r,bT(e)&&xT(t)}function IT(t,e,n){return n(function(){bT(e)&&xT(t)})}function bT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mr(t,n)}catch{return!0}}function xT(t){var e=oi(t,1);e!==null&&hr(e,t,1,-1)}function j1(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:t},e.queue=t,t=t.dispatch=LM.bind(null,Ke,t),[e.memoizedState,t]}function nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function AT(){return Qn().memoizedState}function Kc(t,e,n,r){var i=Cr();Ke.flags|=t,i.memoizedState=nu(1|e,n,void 0,r===void 0?null:r)}function Mh(t,e,n,r){var i=Qn();r=r===void 0?null:r;var s=void 0;if(lt!==null){var o=lt.memoizedState;if(s=o.destroy,r!==null&&Wy(r,o.deps)){i.memoizedState=nu(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=nu(1|e,n,s,r)}function H1(t,e){return Kc(8390656,8,t,e)}function Gy(t,e){return Mh(2048,8,t,e)}function NT(t,e){return Mh(4,2,t,e)}function OT(t,e){return Mh(4,4,t,e)}function MT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _T(t,e,n){return n=n!=null?n.concat([t]):null,Mh(4,4,MT.bind(null,e,t),n)}function Jy(){}function DT(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function RT(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function PT(t,e,n){return Hs&21?(mr(n,e)||(n=$E(),Ke.lanes|=n,Ws|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function RM(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=wp.transition;wp.transition={};try{t(!1),e()}finally{xe=n,wp.transition=r}}function LT(){return Qn().memoizedState}function PM(t,e,n){var r=Hi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FT(t))$T(e,n);else if(n=pT(t,e,n,r),n!==null){var i=tn();hr(n,t,r,i),BT(n,e,r)}}function LM(t,e,n){var r=Hi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FT(t))$T(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,mr(a,o)){var l=e.interleaved;l===null?(i.next=i,Vy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=pT(t,e,i,r),n!==null&&(i=tn(),hr(n,t,r,i),BT(n,e,r))}}function FT(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function $T(t,e){Il=Id=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,by(t,n)}}var bd={readContext:Jn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},FM={readContext:Jn,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:H1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kc(4194308,4,MT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kc(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PM.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:j1,useDebugValue:Jy,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=j1(!1),e=t[0];return t=RM.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=Cr();if(Ue){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),yt===null)throw Error(N(349));Hs&30||TT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,H1(IT.bind(null,r,s,t),[t]),r.flags|=2048,nu(9,CT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Cr(),e=yt.identifierPrefix;if(Ue){var n=Jr,r=Gr;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=eu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$M={readContext:Jn,useCallback:DT,useContext:Jn,useEffect:Gy,useImperativeHandle:_T,useInsertionEffect:NT,useLayoutEffect:OT,useMemo:RT,useReducer:Sp,useRef:AT,useState:function(){return Sp(tu)},useDebugValue:Jy,useDeferredValue:function(t){var e=Qn();return PT(e,lt.memoizedState,t)},useTransition:function(){var t=Sp(tu)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:kT,useSyncExternalStore:ET,useId:LT,unstable_isNewReconciler:!1},BM={readContext:Jn,useCallback:DT,useContext:Jn,useEffect:Gy,useImperativeHandle:_T,useInsertionEffect:NT,useLayoutEffect:OT,useMemo:RT,useReducer:kp,useRef:AT,useState:function(){return kp(tu)},useDebugValue:Jy,useDeferredValue:function(t){var e=Qn();return lt===null?e.memoizedState=t:PT(e,lt.memoizedState,t)},useTransition:function(){var t=kp(tu)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:kT,useSyncExternalStore:ET,useId:LT,unstable_isNewReconciler:!1};function da(t,e){try{var n="",r=e;do n+=fO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ep(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ng(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VM=typeof WeakMap=="function"?WeakMap:Map;function VT(t,e,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ad||(Ad=!0,hg=r),ng(t,e)},n}function zT(t,e,n){n=Zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ng(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ng(t,e),typeof r!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function W1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=e_.bind(null,t,e,n),e.then(t,t))}function q1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function K1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zr(-1,1),e.tag=2,Ui(n,e,1))),n.lanes|=1),t)}var zM=hi.ReactCurrentOwner,mn=!1;function Xt(t,e,n,r){e.child=t===null?wT(e,null,n,r):ua(e,t.child,n,r)}function G1(t,e,n,r,i){n=n.render;var s=e.ref;return Ko(e,i),r=qy(t,e,n,r,s,i),n=Ky(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(Ue&&n&&Ry(e),e.flags|=1,Xt(t,e,r,i),e.child)}function J1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!rv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,UT(t,e,s,r,i)):(t=Yc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gl,n(o,r)&&t.ref===e.ref)return ai(t,e,i)}return e.flags|=1,t=Wi(s,r),t.ref=e.ref,t.return=e,e.child=t}function UT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Gl(s,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,ai(t,e,i)}return rg(t,e,n,r,i)}function jT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Ro,In),In|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(Ro,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(Ro,In),In|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(Ro,In),In|=r;return Xt(t,e,i,n),e.child}function HT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rg(t,e,n,r,i){var s=vn(n)?Us:Kt.current;return s=aa(e,s),Ko(e,i),n=qy(t,e,n,r,s,i),r=Ky(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(Ue&&r&&Ry(e),e.flags|=1,Xt(t,e,n,i),e.child)}function Q1(t,e,n,r,i){if(vn(n)){var s=!0;vd(e)}else s=!1;if(Ko(e,i),e.stateNode===null)Gc(t,e),yT(e,n,r),tg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jn(u):(u=vn(n)?Us:Kt.current,u=aa(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&z1(e,o,r,u),Ci=!1;var h=e.memoizedState;o.state=h,Td(e,r,o,i),l=e.memoizedState,a!==r||h!==l||yn.current||Ci?(typeof c=="function"&&(eg(e,n,c,r),l=e.memoizedState),(a=Ci||V1(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,mT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:rr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jn(l):(l=vn(n)?Us:Kt.current,l=aa(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&z1(e,o,r,l),Ci=!1,h=e.memoizedState,o.state=h,Td(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||yn.current||Ci?(typeof f=="function"&&(eg(e,n,f,r),p=e.memoizedState),(u=Ci||V1(e,n,u,r,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ig(t,e,n,r,s,i)}function ig(t,e,n,r,i,s){HT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&P1(e,n,!1),ai(t,e,s);r=e.stateNode,zM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ua(e,t.child,null,s),e.child=ua(e,null,a,s)):Xt(t,e,a,s),e.memoizedState=r.state,i&&P1(e,n,!0),e.child}function WT(t){var e=t.stateNode;e.pendingContext?R1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R1(t,e.context,!1),Uy(t,e.containerInfo)}function Y1(t,e,n,r,i){return la(),Ly(i),e.flags|=256,Xt(t,e,n,r),e.child}var sg={dehydrated:null,treeContext:null,retryLane:0};function og(t){return{baseLanes:t,cachePool:null,transitions:null}}function qT(t,e,n){var r=e.pendingProps,i=We.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(We,i&1),t===null)return Xm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Rh(o,r,0,null),t=Rs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=og(n),e.memoizedState=sg,t):Qy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return UM(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Wi(a,s):(s=Rs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?og(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=sg,r}return s=t.child,t=s.sibling,r=Wi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qy(t,e){return e=Rh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tc(t,e,n,r){return r!==null&&Ly(r),ua(e,t.child,null,n),t=Qy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UM(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ep(Error(N(422))),Tc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Rh({mode:"visible",children:r.children},i,0,null),s=Rs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ua(e,t.child,null,o),e.child.memoizedState=og(o),e.memoizedState=sg,s);if(!(e.mode&1))return Tc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=Ep(s,r,void 0),Tc(t,e,o,r)}if(a=(o&t.childLanes)!==0,mn||a){if(r=yt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,oi(t,i),hr(r,t,i,-1))}return nv(),r=Ep(Error(N(421))),Tc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=t_.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xn=zi(i.nextSibling),An=e,Ue=!0,sr=null,t!==null&&(zn[Un++]=Gr,zn[Un++]=Jr,zn[Un++]=js,Gr=t.id,Jr=t.overflow,js=e),e=Qy(e,r.children),e.flags|=4096,e)}function X1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zm(t.return,e,n)}function Tp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function KT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xt(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X1(t,n,e);else if(t.tag===19)X1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(We,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Cd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tp(e,!0,n,null,s);break;case"together":Tp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ws|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jM(t,e,n){switch(e.tag){case 3:WT(e),la();break;case 5:ST(e);break;case 1:vn(e.type)&&vd(e);break;case 4:Uy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(kd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?qT(t,e,n):(Pe(We,We.current&1),t=ai(t,e,n),t!==null?t.sibling:null);Pe(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return KT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,jT(t,e,n)}return ai(t,e,n)}var GT,ag,JT,QT;GT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ag=function(){};JT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Is(Rr.current);var s=null;switch(n){case"input":i=Nm(t,i),r=Nm(t,r),s=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),s=[];break;case"textarea":i=_m(t,i),r=_m(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gd)}Rm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};QT=function(t,e,n,r){n!==r&&(e.flags|=4)};function nl(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HM(t,e,n){var r=e.pendingProps;switch(Py(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return vn(e.type)&&yd(),$t(e),null;case 3:return r=e.stateNode,ca(),$e(yn),$e(Kt),Hy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sr!==null&&(mg(sr),sr=null))),ag(t,e),$t(e),null;case 5:jy(e);var i=Is(Zl.current);if(n=e.type,t!==null&&e.stateNode!=null)JT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return $t(e),null}if(t=Is(Rr.current),kc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[br]=e,r[Yl]=s,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<dl.length;i++)Fe(dl[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":a1(r,s),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",r);break;case"textarea":u1(r,s),Fe("invalid",r)}Rm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Sc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Sc(r.textContent,a,t),i=["children",""+a]):zl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":hc(r),l1(r,s,!0);break;case"textarea":hc(r),c1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=TE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[br]=e,t[Yl]=r,GT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pm(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<dl.length;i++)Fe(dl[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":a1(t,r),i=Nm(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":u1(t,r),i=_m(t,r),Fe("invalid",t);break;default:i=r}Rm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?bE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ul(t,l):typeof l=="number"&&Ul(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Fe("scroll",t):l!=null&&Sy(t,s,l,o))}switch(n){case"input":hc(t),l1(t,r,!1);break;case"textarea":hc(t),c1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?jo(t,!!r.multiple,s,!1):r.defaultValue!=null&&jo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)QT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Is(Zl.current),Is(Rr.current),kc(e)){if(r=e.stateNode,n=e.memoizedProps,r[br]=e,(s=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:Sc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=e,e.stateNode=r}return $t(e),null;case 13:if($e(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&xn!==null&&e.mode&1&&!(e.flags&128))fT(),la(),e.flags|=98560,s=!1;else if(s=kc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[br]=e}else la(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),s=!1}else sr!==null&&(mg(sr),sr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?ct===0&&(ct=3):nv())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return ca(),ag(t,e),t===null&&Jl(e.stateNode.containerInfo),$t(e),null;case 10:return By(e.type._context),$t(e),null;case 17:return vn(e.type)&&yd(),$t(e),null;case 19:if($e(We),s=e.memoizedState,s===null)return $t(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)nl(s,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cd(t),o!==null){for(e.flags|=128,nl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(We,We.current&1|2),e.child}t=t.sibling}s.tail!==null&&nt()>ha&&(e.flags|=128,r=!0,nl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Cd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return $t(e),null}else 2*nt()-s.renderingStartTime>ha&&n!==1073741824&&(e.flags|=128,r=!0,nl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nt(),e.sibling=null,n=We.current,Pe(We,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return tv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?In&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function WM(t,e){switch(Py(e),e.tag){case 1:return vn(e.type)&&yd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ca(),$e(yn),$e(Kt),Hy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jy(e),null;case 13:if($e(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));la()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(We),null;case 4:return ca(),null;case 10:return By(e.type._context),null;case 22:case 23:return tv(),null;case 24:return null;default:return null}}var Cc=!1,zt=!1,qM=typeof WeakSet=="function"?WeakSet:Set,B=null;function Do(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(t,e,r)}else n.current=null}function lg(t,e,n){try{n()}catch(r){Qe(t,e,r)}}var Z1=!1;function KM(t,e){if(Wm=fd,t=eT(),Dy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qm={focusedElem:t,selectionRange:n},fd=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,S=p.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:rr(e.type,m),S);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(k){Qe(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return p=Z1,Z1=!1,p}function bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&lg(e,n,s)}i=i.next}while(i!==r)}}function _h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ug(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function YT(t){var e=t.alternate;e!==null&&(t.alternate=null,YT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[Yl],delete e[Jm],delete e[NM],delete e[OM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function XT(t){return t.tag===5||t.tag===3||t.tag===4}function ew(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||XT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gd));else if(r!==4&&(t=t.child,t!==null))for(cg(t,e,n),t=t.sibling;t!==null;)cg(t,e,n),t=t.sibling}function dg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dg(t,e,n),t=t.sibling;t!==null;)dg(t,e,n),t=t.sibling}var bt=null,ir=!1;function wi(t,e,n){for(n=n.child;n!==null;)ZT(t,e,n),n=n.sibling}function ZT(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Ch,n)}catch{}switch(n.tag){case 5:zt||Do(n,e);case 6:var r=bt,i=ir;bt=null,wi(t,e,n),bt=r,ir=i,bt!==null&&(ir?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(ir?(t=bt,n=n.stateNode,t.nodeType===8?gp(t.parentNode,n):t.nodeType===1&&gp(t,n),ql(t)):gp(bt,n.stateNode));break;case 4:r=bt,i=ir,bt=n.stateNode.containerInfo,ir=!0,wi(t,e,n),bt=r,ir=i;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&lg(n,e,o),i=i.next}while(i!==r)}wi(t,e,n);break;case 1:if(!zt&&(Do(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qe(n,e,a)}wi(t,e,n);break;case 21:wi(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,wi(t,e,n),zt=r):wi(t,e,n);break;default:wi(t,e,n)}}function tw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qM),e.forEach(function(r){var i=n_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,ir=!1;break e;case 3:bt=a.stateNode.containerInfo,ir=!0;break e;case 4:bt=a.stateNode.containerInfo,ir=!0;break e}a=a.return}if(bt===null)throw Error(N(160));ZT(s,o,i),bt=null,ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eC(e,t),e=e.sibling}function eC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nr(e,t),Tr(t),r&4){try{bl(3,t,t.return),_h(3,t)}catch(m){Qe(t,t.return,m)}try{bl(5,t,t.return)}catch(m){Qe(t,t.return,m)}}break;case 1:nr(e,t),Tr(t),r&512&&n!==null&&Do(n,n.return);break;case 5:if(nr(e,t),Tr(t),r&512&&n!==null&&Do(n,n.return),t.flags&32){var i=t.stateNode;try{Ul(i,"")}catch(m){Qe(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kE(i,s),Pm(a,o);var u=Pm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?bE(i,d):c==="dangerouslySetInnerHTML"?CE(i,d):c==="children"?Ul(i,d):Sy(i,c,d,u)}switch(a){case"input":Om(i,s);break;case"textarea":EE(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?jo(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?jo(i,!!s.multiple,s.defaultValue,!0):jo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yl]=s}catch(m){Qe(t,t.return,m)}}break;case 6:if(nr(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Qe(t,t.return,m)}}break;case 3:if(nr(e,t),Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ql(e.containerInfo)}catch(m){Qe(t,t.return,m)}break;case 4:nr(e,t),Tr(t);break;case 13:nr(e,t),Tr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Zy=nt())),r&4&&tw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(u=zt)||c,nr(e,t),zt=u):nr(e,t),Tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(B=t,c=t.child;c!==null;){for(d=B=c;B!==null;){switch(h=B,f=h.child,h.tag){case 0:case 11:case 14:case 15:bl(4,h,h.return);break;case 1:Do(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Qe(r,n,m)}}break;case 5:Do(h,h.return);break;case 22:if(h.memoizedState!==null){rw(d);continue}}f!==null?(f.return=h,B=f):rw(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=IE("display",o))}catch(m){Qe(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Qe(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nr(e,t),Tr(t),r&4&&tw(t);break;case 21:break;default:nr(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(XT(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ul(i,""),r.flags&=-33);var s=ew(t);dg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ew(t);cg(t,a,o);break;default:throw Error(N(161))}}catch(l){Qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GM(t,e,n){B=t,tC(t)}function tC(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Cc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||zt;a=Cc;var u=zt;if(Cc=o,(zt=l)&&!u)for(B=i;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?iw(i):l!==null?(l.return=o,B=l):iw(i);for(;s!==null;)B=s,tC(s),s=s.sibling;B=i,Cc=a,zt=u}nw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):nw(t)}}function nw(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||_h(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&B1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}B1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ql(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}zt||e.flags&512&&ug(e)}catch(h){Qe(e,e.return,h)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function rw(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function iw(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_h(4,e)}catch(l){Qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Qe(e,i,l)}}var s=e.return;try{ug(e)}catch(l){Qe(e,s,l)}break;case 5:var o=e.return;try{ug(e)}catch(l){Qe(e,o,l)}}}catch(l){Qe(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var JM=Math.ceil,xd=hi.ReactCurrentDispatcher,Yy=hi.ReactCurrentOwner,qn=hi.ReactCurrentBatchConfig,Se=0,yt=null,ot=null,Mt=0,In=0,Ro=ls(0),ct=0,ru=null,Ws=0,Dh=0,Xy=0,xl=null,pn=null,Zy=0,ha=1/0,Wr=null,Ad=!1,hg=null,ji=null,Ic=!1,Ri=null,Nd=0,Al=0,fg=null,Jc=-1,Qc=0;function tn(){return Se&6?nt():Jc!==-1?Jc:Jc=nt()}function Hi(t){return t.mode&1?Se&2&&Mt!==0?Mt&-Mt:_M.transition!==null?(Qc===0&&(Qc=$E()),Qc):(t=xe,t!==0||(t=window.event,t=t===void 0?16:WE(t.type)),t):1}function hr(t,e,n,r){if(50<Al)throw Al=0,fg=null,Error(N(185));Au(t,n,r),(!(Se&2)||t!==yt)&&(t===yt&&(!(Se&2)&&(Dh|=n),ct===4&&xi(t,Mt)),wn(t,r),n===1&&Se===0&&!(e.mode&1)&&(ha=nt()+500,Nh&&us()))}function wn(t,e){var n=t.callbackNode;_O(t,e);var r=hd(t,t===yt?Mt:0);if(r===0)n!==null&&f1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&f1(n),e===1)t.tag===0?MM(sw.bind(null,t)):cT(sw.bind(null,t)),xM(function(){!(Se&6)&&us()}),n=null;else{switch(BE(r)){case 1:n=Iy;break;case 4:n=LE;break;case 16:n=dd;break;case 536870912:n=FE;break;default:n=dd}n=uC(n,nC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nC(t,e){if(Jc=-1,Qc=0,Se&6)throw Error(N(327));var n=t.callbackNode;if(Go()&&t.callbackNode!==n)return null;var r=hd(t,t===yt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Od(t,r);else{e=r;var i=Se;Se|=2;var s=iC();(yt!==t||Mt!==e)&&(Wr=null,ha=nt()+500,Ds(t,e));do try{XM();break}catch(a){rC(t,a)}while(1);$y(),xd.current=s,Se=i,ot!==null?e=0:(yt=null,Mt=0,e=ct)}if(e!==0){if(e===2&&(i=Vm(t),i!==0&&(r=i,e=pg(t,i))),e===1)throw n=ru,Ds(t,0),xi(t,r),wn(t,nt()),n;if(e===6)xi(t,r);else{if(i=t.current.alternate,!(r&30)&&!QM(i)&&(e=Od(t,r),e===2&&(s=Vm(t),s!==0&&(r=s,e=pg(t,s))),e===1))throw n=ru,Ds(t,0),xi(t,r),wn(t,nt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:ws(t,pn,Wr);break;case 3:if(xi(t,r),(r&130023424)===r&&(e=Zy+500-nt(),10<e)){if(hd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gm(ws.bind(null,t,pn,Wr),e);break}ws(t,pn,Wr);break;case 4:if(xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-dr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JM(r/1960))-r,10<r){t.timeoutHandle=Gm(ws.bind(null,t,pn,Wr),r);break}ws(t,pn,Wr);break;case 5:ws(t,pn,Wr);break;default:throw Error(N(329))}}}return wn(t,nt()),t.callbackNode===n?nC.bind(null,t):null}function pg(t,e){var n=xl;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=Od(t,e),t!==2&&(e=pn,pn=n,e!==null&&mg(e)),t}function mg(t){pn===null?pn=t:pn.push.apply(pn,t)}function QM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!mr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xi(t,e){for(e&=~Xy,e&=~Dh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dr(e),r=1<<n;t[n]=-1,e&=~r}}function sw(t){if(Se&6)throw Error(N(327));Go();var e=hd(t,0);if(!(e&1))return wn(t,nt()),null;var n=Od(t,e);if(t.tag!==0&&n===2){var r=Vm(t);r!==0&&(e=r,n=pg(t,r))}if(n===1)throw n=ru,Ds(t,0),xi(t,e),wn(t,nt()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ws(t,pn,Wr),wn(t,nt()),null}function ev(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(ha=nt()+500,Nh&&us())}}function qs(t){Ri!==null&&Ri.tag===0&&!(Se&6)&&Go();var e=Se;Se|=1;var n=qn.transition,r=xe;try{if(qn.transition=null,xe=1,t)return t()}finally{xe=r,qn.transition=n,Se=e,!(Se&6)&&us()}}function tv(){In=Ro.current,$e(Ro)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bM(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(Py(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yd();break;case 3:ca(),$e(yn),$e(Kt),Hy();break;case 5:jy(r);break;case 4:ca();break;case 13:$e(We);break;case 19:$e(We);break;case 10:By(r.type._context);break;case 22:case 23:tv()}n=n.return}if(yt=t,ot=t=Wi(t.current,null),Mt=In=e,ct=0,ru=null,Xy=Dh=Ws=0,pn=xl=null,Cs!==null){for(e=0;e<Cs.length;e++)if(n=Cs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Cs=null}return t}function rC(t,e){do{var n=ot;try{if($y(),qc.current=bd,Id){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Id=!1}if(Hs=0,mt=lt=Ke=null,Il=!1,eu=0,Yy.current=null,n===null||n.return===null){ct=1,ru=e,ot=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=q1(o);if(f!==null){f.flags&=-257,K1(f,o,a,s,e),f.mode&1&&W1(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){W1(s,u,e),nv();break e}l=Error(N(426))}}else if(Ue&&a.mode&1){var S=q1(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),K1(S,o,a,s,e),Ly(da(l,a));break e}}s=l=da(l,a),ct!==4&&(ct=2),xl===null?xl=[s]:xl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=VT(s,l,e);$1(s,y);break e;case 1:a=l;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ji===null||!ji.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=zT(s,a,e);$1(s,k);break e}}s=s.return}while(s!==null)}oC(n)}catch(b){e=b,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(1)}function iC(){var t=xd.current;return xd.current=bd,t===null?bd:t}function nv(){(ct===0||ct===3||ct===2)&&(ct=4),yt===null||!(Ws&268435455)&&!(Dh&268435455)||xi(yt,Mt)}function Od(t,e){var n=Se;Se|=2;var r=iC();(yt!==t||Mt!==e)&&(Wr=null,Ds(t,e));do try{YM();break}catch(i){rC(t,i)}while(1);if($y(),Se=n,xd.current=r,ot!==null)throw Error(N(261));return yt=null,Mt=0,ct}function YM(){for(;ot!==null;)sC(ot)}function XM(){for(;ot!==null&&!TO();)sC(ot)}function sC(t){var e=lC(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?oC(t):ot=e,Yy.current=null}function oC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WM(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,ot=null;return}}else if(n=HM(n,e,In),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);ct===0&&(ct=5)}function ws(t,e,n){var r=xe,i=qn.transition;try{qn.transition=null,xe=1,ZM(t,e,n,r)}finally{qn.transition=i,xe=r}return null}function ZM(t,e,n,r){do Go();while(Ri!==null);if(Se&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(DO(t,s),t===yt&&(ot=yt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ic||(Ic=!0,uC(dd,function(){return Go(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qn.transition,qn.transition=null;var o=xe;xe=1;var a=Se;Se|=4,Yy.current=null,KM(t,n),eC(n,t),wM(qm),fd=!!Wm,qm=Wm=null,t.current=n,GM(n),CO(),Se=a,xe=o,qn.transition=s}else t.current=n;if(Ic&&(Ic=!1,Ri=t,Nd=i),s=t.pendingLanes,s===0&&(ji=null),xO(n.stateNode),wn(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ad)throw Ad=!1,t=hg,hg=null,t;return Nd&1&&t.tag!==0&&Go(),s=t.pendingLanes,s&1?t===fg?Al++:(Al=0,fg=t):Al=0,us(),null}function Go(){if(Ri!==null){var t=BE(Nd),e=qn.transition,n=xe;try{if(qn.transition=null,xe=16>t?16:t,Ri===null)var r=!1;else{if(t=Ri,Ri=null,Nd=0,Se&6)throw Error(N(331));var i=Se;for(Se|=4,B=t.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(B=u;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:bl(8,c,s)}var d=c.child;if(d!==null)d.return=c,B=d;else for(;B!==null;){c=B;var h=c.sibling,f=c.return;if(YT(c),c===u){B=null;break}if(h!==null){h.return=f,B=h;break}B=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var S=m.sibling;m.sibling=null,m=S}while(m!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bl(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,B=y;break e}B=s.return}}var g=t.current;for(B=g;B!==null;){o=B;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,B=v;else e:for(o=g;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_h(9,a)}}catch(b){Qe(a,a.return,b)}if(a===o){B=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,B=k;break e}B=a.return}}if(Se=i,us(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Ch,t)}catch{}r=!0}return r}finally{xe=n,qn.transition=e}}return!1}function ow(t,e,n){e=da(n,e),e=VT(t,e,1),t=Ui(t,e,1),e=tn(),t!==null&&(Au(t,1,e),wn(t,e))}function Qe(t,e,n){if(t.tag===3)ow(t,t,n);else for(;e!==null;){if(e.tag===3){ow(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ji===null||!ji.has(r))){t=da(n,t),t=zT(e,t,1),e=Ui(e,t,1),t=tn(),e!==null&&(Au(e,1,t),wn(e,t));break}}e=e.return}}function e_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(Mt&n)===n&&(ct===4||ct===3&&(Mt&130023424)===Mt&&500>nt()-Zy?Ds(t,0):Xy|=n),wn(t,e)}function aC(t,e){e===0&&(t.mode&1?(e=mc,mc<<=1,!(mc&130023424)&&(mc=4194304)):e=1);var n=tn();t=oi(t,e),t!==null&&(Au(t,e,n),wn(t,n))}function t_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aC(t,n)}function n_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),aC(t,n)}var lC;lC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,jM(t,e,n);mn=!!(t.flags&131072)}else mn=!1,Ue&&e.flags&1048576&&dT(e,Sd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gc(t,e),t=e.pendingProps;var i=aa(e,Kt.current);Ko(e,n),i=qy(null,e,r,t,i,n);var s=Ky();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vn(r)?(s=!0,vd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zy(e),i.updater=Oh,e.stateNode=i,i._reactInternals=e,tg(e,r,t,n),e=ig(null,e,r,!0,s,n)):(e.tag=0,Ue&&s&&Ry(e),Xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=i_(r),t=rr(r,t),i){case 0:e=rg(null,e,r,t,n);break e;case 1:e=Q1(null,e,r,t,n);break e;case 11:e=G1(null,e,r,t,n);break e;case 14:e=J1(null,e,r,rr(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),rg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Q1(t,e,r,i,n);case 3:e:{if(WT(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,mT(t,e),Td(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=da(Error(N(423)),e),e=Y1(t,e,r,n,i);break e}else if(r!==i){i=da(Error(N(424)),e),e=Y1(t,e,r,n,i);break e}else for(xn=zi(e.stateNode.containerInfo.firstChild),An=e,Ue=!0,sr=null,n=wT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(la(),r===i){e=ai(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return ST(e),t===null&&Xm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Km(r,i)?o=null:s!==null&&Km(r,s)&&(e.flags|=32),HT(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&Xm(e),null;case 13:return qT(t,e,n);case 4:return Uy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ua(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),G1(t,e,r,i,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe(kd,r._currentValue),r._currentValue=o,s!==null)if(mr(s.value,o)){if(s.children===i.children&&!yn.current){e=ai(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Zr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Zm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ko(e,n),i=Jn(i),r=r(i),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),J1(t,e,r,i,n);case 15:return UT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Gc(t,e),e.tag=1,vn(r)?(t=!0,vd(e)):t=!1,Ko(e,n),yT(e,r,i),tg(e,r,i,n),ig(null,e,r,!0,t,n);case 19:return KT(t,e,n);case 22:return jT(t,e,n)}throw Error(N(156,e.tag))};function uC(t,e){return PE(t,e)}function r_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new r_(t,e,n,r)}function rv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function i_(t){if(typeof t=="function")return rv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ey)return 11;if(t===Ty)return 14}return 2}function Wi(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")rv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Co:return Rs(n.children,i,s,e);case ky:o=8,i|=8;break;case Im:return t=Hn(12,n,e,i|2),t.elementType=Im,t.lanes=s,t;case bm:return t=Hn(13,n,e,i),t.elementType=bm,t.lanes=s,t;case xm:return t=Hn(19,n,e,i),t.elementType=xm,t.lanes=s,t;case vE:return Rh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gE:o=10;break e;case yE:o=9;break e;case Ey:o=11;break e;case Ty:o=14;break e;case Ti:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Hn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Rs(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function Rh(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=vE,t.lanes=n,t.stateNode={isHidden:!1},t}function Cp(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function Ip(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function s_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iv(t,e,n,r,i,s,o,a,l){return t=new s_(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zy(s),t}function o_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cC(t){if(!t)return Zi;t=t._reactInternals;e:{if(ao(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(vn(n))return uT(t,n,e)}return e}function dC(t,e,n,r,i,s,o,a,l){return t=iv(n,r,!0,t,i,s,o,a,l),t.context=cC(null),n=t.current,r=tn(),i=Hi(n),s=Zr(r,i),s.callback=e??null,Ui(n,s,i),t.current.lanes=i,Au(t,i,r),wn(t,r),t}function Ph(t,e,n,r){var i=e.current,s=tn(),o=Hi(i);return n=cC(n),e.context===null?e.context=n:e.pendingContext=n,e=Zr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ui(i,e,o),t!==null&&(hr(t,i,o,s),Wc(t,i,o)),o}function Md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sv(t,e){aw(t,e),(t=t.alternate)&&aw(t,e)}function a_(){return null}var hC=typeof reportError=="function"?reportError:function(t){console.error(t)};function ov(t){this._internalRoot=t}Lh.prototype.render=ov.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Ph(t,e,null,null)};Lh.prototype.unmount=ov.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qs(function(){Ph(null,t,null,null)}),e[si]=null}};function Lh(t){this._internalRoot=t}Lh.prototype.unstable_scheduleHydration=function(t){if(t){var e=UE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bi.length&&e!==0&&e<bi[n].priority;n++);bi.splice(n,0,t),n===0&&HE(t)}};function av(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lw(){}function l_(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Md(o);s.call(u)}}var o=dC(e,r,t,0,null,!1,!1,"",lw);return t._reactRootContainer=o,t[si]=o.current,Jl(t.nodeType===8?t.parentNode:t),qs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Md(l);a.call(u)}}var l=iv(t,0,!1,null,null,!1,!1,"",lw);return t._reactRootContainer=l,t[si]=l.current,Jl(t.nodeType===8?t.parentNode:t),qs(function(){Ph(e,l,n,r)}),l}function $h(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Md(o);a.call(l)}}Ph(e,o,t,i)}else o=l_(n,e,t,i,r);return Md(o)}VE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cl(e.pendingLanes);n!==0&&(by(e,n|1),wn(e,nt()),!(Se&6)&&(ha=nt()+500,us()))}break;case 13:qs(function(){var r=oi(t,1);if(r!==null){var i=tn();hr(r,t,1,i)}}),sv(t,1)}};xy=function(t){if(t.tag===13){var e=oi(t,134217728);if(e!==null){var n=tn();hr(e,t,134217728,n)}sv(t,134217728)}};zE=function(t){if(t.tag===13){var e=Hi(t),n=oi(t,e);if(n!==null){var r=tn();hr(n,t,e,r)}sv(t,e)}};UE=function(){return xe};jE=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Fm=function(t,e,n){switch(e){case"input":if(Om(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ah(r);if(!i)throw Error(N(90));SE(r),Om(r,i)}}}break;case"textarea":EE(t,n);break;case"select":e=n.value,e!=null&&jo(t,!!n.multiple,e,!1)}};NE=ev;OE=qs;var u_={usingClientEntryPoint:!1,Events:[Ou,Ao,Ah,xE,AE,ev]},rl={findFiberByHostInstance:Ts,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},c_={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=DE(t),t===null?null:t.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||a_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{Ch=bc.inject(c_),Dr=bc}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u_;Rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!av(e))throw Error(N(200));return o_(t,e,null,n)};Rn.createRoot=function(t,e){if(!av(t))throw Error(N(299));var n=!1,r="",i=hC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=iv(t,1,!1,null,null,n,!1,r,i),t[si]=e.current,Jl(t.nodeType===8?t.parentNode:t),new ov(e)};Rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=DE(e),t=t===null?null:t.stateNode,t};Rn.flushSync=function(t){return qs(t)};Rn.hydrate=function(t,e,n){if(!Fh(e))throw Error(N(200));return $h(null,t,e,!0,n)};Rn.hydrateRoot=function(t,e,n){if(!av(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=hC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dC(e,null,t,1,n??null,i,!1,s,o),t[si]=e.current,Jl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Lh(e)};Rn.render=function(t,e,n){if(!Fh(e))throw Error(N(200));return $h(null,t,e,!1,n)};Rn.unmountComponentAtNode=function(t){if(!Fh(t))throw Error(N(40));return t._reactRootContainer?(qs(function(){$h(null,null,t,!1,function(){t._reactRootContainer=null,t[si]=null})}),!0):!1};Rn.unstable_batchedUpdates=ev;Rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fh(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return $h(t,e,n,!1,r)};Rn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Rn})(Th);const d_=rE(Th.exports);var uw=Th.exports;Tm.createRoot=uw.createRoot,Tm.hydrateRoot=uw.hydrateRoot;const fC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},f_=function(t){const e=fC(t);return pC.encodeByteArray(e,!0)},_d=function(t){return f_(t).replace(/\./g,"")},mC=function(t){try{return pC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function gC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function m_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g_(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yC(){try{return typeof indexedDB=="object"}catch{return!1}}function vC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function y_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function v_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const w_=()=>v_().__FIREBASE_DEFAULTS__,S_=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},k_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mC(t[1]);return e&&JSON.parse(e)},lv=()=>{try{return w_()||S_()||k_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wC=t=>{var e,n;return(n=(e=lv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},E_=t=>{const e=wC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},T_=()=>{var t;return(t=lv())===null||t===void 0?void 0:t.config},SC=t=>{var e;return(e=lv())===null||e===void 0?void 0:e[`_${t}`]};class C_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function I_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[_d(JSON.stringify(n)),_d(JSON.stringify(o)),a].join(".")}const b_="FirebaseError";class wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=b_,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lo.prototype.create)}}class lo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?x_(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new wr(i,a,r)}}function x_(t,e){return t.replace(A_,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const A_=/\{\$([^}]+)}/g;function N_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function iu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(cw(s)&&cw(o)){if(!iu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cw(t){return t!==null&&typeof t=="object"}function _u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function fl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function O_(t,e){const n=new M_(t,e);return n.subscribe.bind(n)}class M_{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");__(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=bp),i.error===void 0&&(i.error=bp),i.complete===void 0&&(i.complete=bp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function __(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bp(){}const D_=1e3,R_=2,P_=4*60*60*1e3,L_=.5;function dw(t,e=D_,n=R_){const r=e*Math.pow(n,t),i=Math.round(L_*r*(Math.random()-.5)*2);return Math.min(P_,r+i)}function Jt(t){return t&&t._delegate?t._delegate:t}class gr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ss="[DEFAULT]";class F_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new C_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B_(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $_(t){return t===Ss?void 0:t}function B_(t){return t.instantiationMode==="EAGER"}class V_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const z_={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},U_=Ce.INFO,j_={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},H_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=j_[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bh{constructor(e){this.name=e,this._logLevel=U_,this._logHandler=H_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const W_=(t,e)=>e.some(n=>t instanceof n);let hw,fw;function q_(){return hw||(hw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K_(){return fw||(fw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kC=new WeakMap,gg=new WeakMap,EC=new WeakMap,xp=new WeakMap,uv=new WeakMap;function G_(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kC.set(n,t)}).catch(()=>{}),uv.set(e,t),e}function J_(t){if(gg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gg.set(t,e)}let yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q_(t){yg=t(yg)}function Y_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ap(this),e,...n);return EC.set(r,e.sort?e.sort():[e]),qi(r)}:K_().includes(t)?function(...e){return t.apply(Ap(this),e),qi(kC.get(this))}:function(...e){return qi(t.apply(Ap(this),e))}}function X_(t){return typeof t=="function"?Y_(t):(t instanceof IDBTransaction&&J_(t),W_(t,q_())?new Proxy(t,yg):t)}function qi(t){if(t instanceof IDBRequest)return G_(t);if(xp.has(t))return xp.get(t);const e=X_(t);return e!==t&&(xp.set(t,e),uv.set(e,t)),e}const Ap=t=>uv.get(t);function TC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qi(o.result),l.oldVersion,l.newVersion,qi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const Z_=["get","getKey","getAll","getAllKeys","count"],eD=["put","add","delete","clear"],Np=new Map;function pw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Np.get(e))return Np.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=eD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Z_.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Np.set(e,s),s}Q_(t=>({...t,get:(e,n,r)=>pw(e,n)||t.get(e,n,r),has:(e,n)=>!!pw(e,n)||t.has(e,n)}));class tD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vg="@firebase/app",mw="0.9.0";const Ks=new Bh("@firebase/app"),rD="@firebase/app-compat",iD="@firebase/analytics-compat",sD="@firebase/analytics",oD="@firebase/app-check-compat",aD="@firebase/app-check",lD="@firebase/auth",uD="@firebase/auth-compat",cD="@firebase/database",dD="@firebase/database-compat",hD="@firebase/functions",fD="@firebase/functions-compat",pD="@firebase/installations",mD="@firebase/installations-compat",gD="@firebase/messaging",yD="@firebase/messaging-compat",vD="@firebase/performance",wD="@firebase/performance-compat",SD="@firebase/remote-config",kD="@firebase/remote-config-compat",ED="@firebase/storage",TD="@firebase/storage-compat",CD="@firebase/firestore",ID="@firebase/firestore-compat",bD="firebase",xD="9.15.0";const wg="[DEFAULT]",AD={[vg]:"fire-core",[rD]:"fire-core-compat",[sD]:"fire-analytics",[iD]:"fire-analytics-compat",[aD]:"fire-app-check",[oD]:"fire-app-check-compat",[lD]:"fire-auth",[uD]:"fire-auth-compat",[cD]:"fire-rtdb",[dD]:"fire-rtdb-compat",[hD]:"fire-fn",[fD]:"fire-fn-compat",[pD]:"fire-iid",[mD]:"fire-iid-compat",[gD]:"fire-fcm",[yD]:"fire-fcm-compat",[vD]:"fire-perf",[wD]:"fire-perf-compat",[SD]:"fire-rc",[kD]:"fire-rc-compat",[ED]:"fire-gcs",[TD]:"fire-gcs-compat",[CD]:"fire-fst",[ID]:"fire-fst-compat","fire-js":"fire-js",[bD]:"fire-js-all"};const Dd=new Map,Sg=new Map;function ND(t,e){try{t.container.addComponent(e)}catch(n){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $r(t){const e=t.name;if(Sg.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;Sg.set(e,t);for(const n of Dd.values())ND(n,t);return!0}function uo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const OD={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ki=new lo("app","Firebase",OD);class MD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}const Du=xD;function CC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ki.create("bad-app-name",{appName:String(i)});if(n||(n=T_()),!n)throw Ki.create("no-options");const s=Dd.get(i);if(s){if(iu(n,s.options)&&iu(r,s.config))return s;throw Ki.create("duplicate-app",{appName:i})}const o=new V_(i);for(const l of Sg.values())o.addComponent(l);const a=new MD(n,r,o);return Dd.set(i,a),a}function cv(t=wg){const e=Dd.get(t);if(!e&&t===wg)return CC();if(!e)throw Ki.create("no-app",{appName:t});return e}function Kn(t,e,n){var r;let i=(r=AD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(a.join(" "));return}$r(new gr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const _D="firebase-heartbeat-database",DD=1,su="firebase-heartbeat-store";let Op=null;function IC(){return Op||(Op=TC(_D,DD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(su)}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),Op}async function RD(t){try{return(await IC()).transaction(su).objectStore(su).get(bC(t))}catch(e){if(e instanceof wr)Ks.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ks.warn(n.message)}}}async function gw(t,e){try{const r=(await IC()).transaction(su,"readwrite");return await r.objectStore(su).put(e,bC(t)),r.done}catch(n){if(n instanceof wr)Ks.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ks.warn(r.message)}}}function bC(t){return`${t.name}!${t.options.appId}`}const PD=1024,LD=30*24*60*60*1e3;class FD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=LD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yw(),{heartbeatsToSend:n,unsentEntries:r}=$D(this._heartbeatsCache.heartbeats),i=_d(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function yw(){return new Date().toISOString().substring(0,10)}function $D(t,e=PD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yC()?vC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await RD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vw(t){return _d(JSON.stringify({version:2,heartbeats:t})).length}function VD(t){$r(new gr("platform-logger",e=>new tD(e),"PRIVATE")),$r(new gr("heartbeat",e=>new FD(e),"PRIVATE")),Kn(vg,mw,t),Kn(vg,mw,"esm2017"),Kn("fire-js","")}VD("");function dv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zD=xC,AC=new lo("auth","Firebase",xC());const ww=new Bh("@firebase/auth");function Xc(t,...e){ww.logLevel<=Ce.ERROR&&ww.error(`Auth (${Du}): ${t}`,...e)}function yr(t,...e){throw hv(t,...e)}function Pr(t,...e){return hv(t,...e)}function UD(t,e,n){const r=Object.assign(Object.assign({},zD()),{[e]:n});return new lo("auth","Firebase",r).create(e,{appName:t.name})}function hv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AC.create(t,...e)}function Z(t,e,...n){if(!t)throw hv(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xc(e),new Error(e)}function li(t,e){t||Qr(e)}const Sw=new Map;function Yr(t){li(t instanceof Function,"Expected a class definition");let e=Sw.get(t);return e?(li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Sw.set(t,e),e)}function jD(t,e){const n=uo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(iu(s,e??{}))return i;yr(i,"already-initialized")}return n.initialize({options:e})}function HD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WD(){return kw()==="http:"||kw()==="https:"}function kw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function qD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WD()||gC()||"connection"in navigator)?navigator.onLine:!0}function KD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=p_()||m_()}get(){return qD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fv(t,e){li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class NC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};const JD=new Ru(3e4,6e4);function Vh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Pu(t,e,n,r,i={}){return OC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_u(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),NC.fetch()(MC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function OC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},GD),e);try{const i=new QD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw xc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw UD(t,c,u);yr(t,c)}}catch(i){if(i instanceof wr)throw i;yr(t,"network-request-failed")}}async function zh(t,e,n,r,i={}){const s=await Pu(t,e,n,r,i);return"mfaPendingCredential"in s&&yr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function MC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?fv(t.config,i):`${t.config.apiScheme}://${i}`}class QD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),JD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pr(t,e,r);return i.customData._tokenResponse=n,i}async function YD(t,e){return Pu(t,"POST","/v1/accounts:delete",e)}async function XD(t,e){return Pu(t,"POST","/v1/accounts:lookup",e)}function Nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZD(t,e=!1){const n=Jt(t),r=await n.getIdToken(e),i=pv(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Nl(Mp(i.auth_time)),issuedAtTime:Nl(Mp(i.iat)),expirationTime:Nl(Mp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mp(t){return Number(t)*1e3}function pv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const i=mC(n);return i?JSON.parse(i):(Xc("Failed to decode base64 JWT payload"),null)}catch(i){return Xc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function eR(t){const e=pv(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ou(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wr&&tR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class nR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _C{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ou(t,XD(n,{idToken:r}));Z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?sR(s.providerUserInfo):[],a=iR(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _C(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function rR(t){const e=Jt(t);await Rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sR(t){return t.map(e=>{var{providerId:n}=e,r=dv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function oR(t,e){const n=await OC(t,{},async()=>{const r=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=MC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",NC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}class au{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Z(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await oR(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new au;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new au,this.toJSON())}_performRefresh(){return Qr("not implemented")}}function Si(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ps{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=dv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _C(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZD(this,e)}reload(){return rR(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ou(this,YD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:k,isAnonymous:b,providerData:_,stsTokenManager:O}=n;Z(v&&O,e,"internal-error");const I=au.fromJSON(this.name,O);Z(typeof v=="string",e,"internal-error"),Si(d,e.name),Si(h,e.name),Z(typeof k=="boolean",e,"internal-error"),Z(typeof b=="boolean",e,"internal-error"),Si(f,e.name),Si(p,e.name),Si(m,e.name),Si(S,e.name),Si(y,e.name),Si(g,e.name);const ee=new Ps({uid:v,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:b,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:I,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(ee.providerData=_.map(X=>Object.assign({},X))),S&&(ee._redirectEventId=S),ee}static async _fromIdTokenResponse(e,n,r=!1){const i=new au;i.updateFromServerResponse(n);const s=new Ps({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Rd(s),s}}class DC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DC.type="NONE";const Ew=DC;function Zc(t,e,n){return`firebase:${t}:${e}:${n}`}class Jo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jo(Yr(Ew),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Yr(Ew);const o=Zc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ps._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Jo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Jo(s,e,r))}}function Tw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($C(e))return"Blackberry";if(BC(e))return"Webos";if(mv(e))return"Safari";if((e.includes("chrome/")||PC(e))&&!e.includes("edge/"))return"Chrome";if(FC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RC(t=Gt()){return/firefox\//i.test(t)}function mv(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PC(t=Gt()){return/crios\//i.test(t)}function LC(t=Gt()){return/iemobile/i.test(t)}function FC(t=Gt()){return/android/i.test(t)}function $C(t=Gt()){return/blackberry/i.test(t)}function BC(t=Gt()){return/webos/i.test(t)}function Uh(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aR(t=Gt()){var e;return Uh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lR(){return g_()&&document.documentMode===10}function VC(t=Gt()){return Uh(t)||FC(t)||BC(t)||$C(t)||/windows phone/i.test(t)||LC(t)}function uR(){try{return!!(window&&window!==window.top)}catch{return!1}}function zC(t,e=[]){let n;switch(t){case"Browser":n=Tw(Gt());break;case"Worker":n=`${Tw(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Du}/${r}`}class cR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}class dR{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cw(this),this.idTokenSubscription=new Cw(this),this.beforeStateQueue=new cR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AC,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Jt(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function jh(t){return Jt(t)}class Cw{constructor(e){this.auth=e,this.observer=null,this.addObserver=O_(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hR(t,e,n){const r=jh(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=UC(e),{host:o,port:a}=fR(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||pR()}function UC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fR(t){const e=UC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Iw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Iw(o)}}}function Iw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class gv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function mR(t,e){return Pu(t,"POST","/v1/accounts:update",e)}async function gR(t,e){return zh(t,"POST","/v1/accounts:signInWithPassword",Vh(t,e))}async function yR(t,e){return zh(t,"POST","/v1/accounts:signInWithEmailLink",Vh(t,e))}async function vR(t,e){return zh(t,"POST","/v1/accounts:signInWithEmailLink",Vh(t,e))}class lu extends gv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new lu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return gR(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return yR(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return mR(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return vR(e,{idToken:n,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qo(t,e){return zh(t,"POST","/v1/accounts:signInWithIdp",Vh(t,e))}const wR="http://localhost";class Gs extends gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=dv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Gs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qo(e,n)}buildRequest(){const e={requestUri:wR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}function SR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kR(t){const e=hl(fl(t)).link,n=e?hl(fl(e)).deep_link_id:null,r=hl(fl(t)).deep_link_id;return(r?hl(fl(r)).link:null)||r||n||e||t}class yv{constructor(e){var n,r,i,s,o,a;const l=hl(fl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=SR((i=l.mode)!==null&&i!==void 0?i:null);Z(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=kR(e);try{return new yv(n)}catch{return null}}}class Ra{constructor(){this.providerId=Ra.PROVIDER_ID}static credential(e,n){return lu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yv.parseLink(n);return Z(r,"argument-error"),lu._fromEmailAndCode(e,r.code,r.tenantId)}}Ra.PROVIDER_ID="password";Ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class jC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lu extends jC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ai extends Lu{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";class Ni extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ni.credential(n,r)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";class Oi extends Lu{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.GITHUB_SIGN_IN_METHOD="github.com";Oi.PROVIDER_ID="github.com";class Mi extends Lu{constructor(){super("twitter.com")}static credential(e,n){return Gs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ps._fromIdTokenResponse(e,r,i),o=bw(r);return new fa({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bw(r);return new fa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Pd extends wr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Pd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Pd(e,n,r,i)}}function HC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Pd._fromErrorAndOperation(t,s,e,r):s})}async function ER(t,e,n=!1){const r=await ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fa._forOperation(t,"link",r)}async function TR(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ou(t,HC(r,i,e,t),n);Z(s.idToken,r,"internal-error");const o=pv(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),fa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yr(r,"user-mismatch"),s}}async function WC(t,e,n=!1){const r="signIn",i=await HC(t,r,e),s=await fa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function CR(t,e){return WC(jh(t),e)}function IR(t,e,n){return CR(Jt(t),Ra.credential(e,n))}function bR(t,e,n,r){return Jt(t).onIdTokenChanged(e,n,r)}function xR(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}function AR(t,e,n,r){return Jt(t).onAuthStateChanged(e,n,r)}function NR(t){return Jt(t).signOut()}const Ld="__sak";class qC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ld,"1"),this.storage.removeItem(Ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}function OR(){const t=Gt();return mv(t)||Uh(t)}const MR=1e3,_R=10;class KC extends qC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=OR()&&uR(),this.fallbackToPolling=VC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);lR()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_R):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KC.type="LOCAL";const DR=KC;class GC extends qC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GC.type="SESSION";const JC=GC;function RR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await RR(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];function vv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class PR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=vv("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Lr(){return window}function LR(t){Lr().location.href=t}function QC(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function FR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $R(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function BR(){return QC()?self:null}const YC="firebaseLocalStorageDb",VR=1,Fd="firebaseLocalStorage",XC="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function zR(){const t=indexedDB.deleteDatabase(YC);return new Fu(t).toPromise()}function Eg(){const t=indexedDB.open(YC,VR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fd,{keyPath:XC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fd)?e(r):(r.close(),await zR(),e(await Eg()))})})}async function xw(t,e,n){const r=Wh(t,!0).put({[XC]:e,value:n});return new Fu(r).toPromise()}async function UR(t,e){const n=Wh(t,!1).get(e),r=await new Fu(n).toPromise();return r===void 0?null:r.value}function Aw(t,e){const n=Wh(t,!0).delete(e);return new Fu(n).toPromise()}const jR=800,HR=3;class ZC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>HR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(BR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await FR(),!this.activeServiceWorker)return;this.sender=new PR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$R()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eg();return await xw(e,Ld,"1"),await Aw(e,Ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Aw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wh(i,!1).getAll();return new Fu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZC.type="LOCAL";const WR=ZC;function qR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function KR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",qR().appendChild(r)})}function GR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Ru(3e4,6e4);function JR(t,e){return e?Yr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class wv extends gv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QR(t){return WC(t.auth,new wv(t),t.bypassAuthState)}function YR(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),TR(n,new wv(t),t.bypassAuthState)}async function XR(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),ER(n,new wv(t),t.bypassAuthState)}class eI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QR;case"linkViaPopup":case"linkViaRedirect":return XR;case"reauthViaPopup":case"reauthViaRedirect":return YR;default:yr(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ZR=new Ru(2e3,1e4);class Po extends eI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=vv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,ZR.get())};e()}}Po.currentPopupAction=null;const eP="pendingRedirect",ed=new Map;class tP extends eI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ed.get(this.auth._key());if(!e){try{const r=await nP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ed.set(this.auth._key(),e)}return this.bypassAuthState||ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nP(t,e){const n=sP(e),r=iP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function rP(t,e){ed.set(t._key(),e)}function iP(t){return Yr(t._redirectPersistence)}function sP(t){return Zc(eP,t.config.apiKey,t.name)}async function oP(t,e,n=!1){const r=jh(t),i=JR(r,e),o=await new tP(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const aP=10*60*1e3;class lP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nw(e))}saveEventToCache(e){this.cachedEventUids.add(Nw(e)),this.lastProcessedEventTime=Date.now()}}function Nw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tI(t);default:return!1}}async function cP(t,e={}){return Pu(t,"GET","/v1/projects",e)}const dP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hP=/^https?/;async function fP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cP(t);for(const n of e)try{if(pP(n))return}catch{}yr(t,"unauthorized-domain")}function pP(t){const e=kg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!hP.test(n))return!1;if(dP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const mP=new Ru(3e4,6e4);function Ow(){const t=Lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gP(t){return new Promise((e,n)=>{var r,i,s;function o(){Ow(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ow(),n(Pr(t,"network-request-failed"))},timeout:mP.get()})}if(!((i=(r=Lr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Lr().gapi)===null||s===void 0)&&s.load)o();else{const a=GR("iframefcb");return Lr()[a]=()=>{gapi.load?o():n(Pr(t,"network-request-failed"))},KR(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw td=null,e})}let td=null;function yP(t){return td=td||gP(t),td}const vP=new Ru(5e3,15e3),wP="__/auth/iframe",SP="emulator/auth/iframe",kP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TP(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fv(e,SP):`https://${t.config.authDomain}/${wP}`,r={apiKey:e.apiKey,appName:t.name,v:Du},i=EP.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_u(r).slice(1)}`}async function CP(t){const e=await yP(t),n=Lr().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:TP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kP,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pr(t,"network-request-failed"),a=Lr().setTimeout(()=>{s(o)},vP.get());function l(){Lr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}const IP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bP=500,xP=600,AP="_blank",NP="http://localhost";class Mw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OP(t,e,n,r=bP,i=xP){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},IP),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Gt().toLowerCase();n&&(a=PC(u)?AP:n),RC(u)&&(e=e||NP,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(aR(u)&&a!=="_self")return MP(e||"",a),new Mw(null);const d=window.open(e||"",a,c);Z(d,t,"popup-blocked");try{d.focus()}catch{}return new Mw(d)}function MP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const _P="__/auth/handler",DP="emulator/auth/handler";function _w(t,e,n,r,i,s){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Du,eventId:i};if(e instanceof jC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",N_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof Lu){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${RP(t)}?${_u(a).slice(1)}`}function RP({config:t}){return t.emulator?fv(t,DP):`https://${t.authDomain}/${_P}`}const _p="webStorageSupport";class PP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JC,this._completeRedirectFn=oP,this._overrideRedirectResult=rP}async _openPopup(e,n,r,i){var s;li((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=_w(e,n,r,kg(),i);return OP(e,o,vv())}async _openRedirect(e,n,r,i){return await this._originValidation(e),LR(_w(e,n,r,kg(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(li(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CP(e),r=new lP(e);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_p,{type:_p},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[_p];o!==void 0&&n(!!o),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VC()||mv()||Uh()}}const LP=PP;var Dw="@firebase/auth",Rw="0.21.0";class FP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $P(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function BP(t){$r(new gr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{Z(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),Z(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zC(t)},c=new dR(a,l,u);return HD(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$r(new gr("auth-internal",e=>{const n=jh(e.getProvider("auth").getImmediate());return(r=>new FP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(Dw,Rw,$P(t)),Kn(Dw,Rw,"esm2017")}const VP=5*60,zP=SC("authIdTokenMaxAge")||VP;let Pw=null;const UP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zP)return;const i=n==null?void 0:n.token;Pw!==i&&(Pw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jP(t=cv()){const e=uo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jD(t,{popupRedirectResolver:LP,persistence:[WR,DR,JC]}),r=SC("authTokenSyncURL");if(r){const s=UP(r);xR(n,s,()=>s(n.currentUser)),bR(n,o=>s(o))}const i=wC("auth");return i&&hR(n,`http://${i}`),n}BP("Browser");function HP(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function WP(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Lo=function(){return Lo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Lo.apply(this,arguments)},nI=function(t){return{loading:t==null,value:t}},qP=function(){return function(t,e){switch(e.type){case"error":return Lo(Lo({},t),{error:e.error,loading:!1,value:void 0});case"reset":return nI(e.defaultValue);case"value":return Lo(Lo({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},KP=function(t){var e=t?t():void 0,n=qe.exports.useReducer(qP(),nI(e)),r=n[0],i=n[1],s=qe.exports.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=qe.exports.useCallback(function(l){i({type:"error",error:l})},[]),a=qe.exports.useCallback(function(l){i({type:"value",value:l})},[]);return qe.exports.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},GP=function(t,e){var n=KP(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return qe.exports.useEffect(function(){var l=AR(t,function(u){return HP(void 0,void 0,void 0,function(){var c;return WP(this,function(d){switch(d.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return d.sent(),[3,4];case 3:return c=d.sent(),s(c),[3,4];case 4:return o(u),[2]}})})},s);return function(){l()}},[t]),[a,i,r]},rI={exports:{}};(function(t,e){(function(n){t.exports=n(null)})(function n(r){var i=/^\0+/g,s=/[\0\r\f]/g,o=/: */g,a=/zoo|gra/,l=/([,: ])(transform)/g,u=/,+\s*(?![^(]*[)])/g,c=/ +\s*(?![^(]*[)])/g,d=/ *[\0] */g,h=/,\r+?/g,f=/([\t\r\n ])*\f?&/g,p=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,m=/\W+/g,S=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,g=/:(read-only)/g,v=/\s+(?=[{\];=:>])/g,k=/([[}=:>])\s+/g,b=/(\{[^{]+?);(?=\})/g,_=/\s{2,}/g,O=/([^\(])(:+) */g,I=/[svh]\w+-[tblr]{2}/,ee=/\(\s*(.*)\s*\)/g,X=/([\s\S]*?);/g,G=/-self|flex-/g,de=/[^]*?(:[rp][el]a[\w-]+)[^]*/,ve=/stretch|:\s*\w+\-(?:conte|avail)/,et=/([^-])(image-set\()/,ne="-webkit-",Je="-moz-",Ve="-ms-",R=59,q=125,J=123,ke=40,Ne=41,Xn=91,Zn=93,cn=10,ft=13,Ct=9,pi=64,Cn=32,Va=38,dn=45,tc=95,er=42,w=44,T=58,C=39,P=34,L=47,x=62,j=43,Oe=126,Me=0,nc=12,za=11,mi=107,Ua=109,ja=115,rc=112,Ha=111,ON=105,MN=99,j0=100,_N=112,Sr=1,gi=1,yi=0,kr=1,tr=1,jf=1,H0=0,W0=0,Hf=0,Wf=[],qf=[],zr=0,Kf=null,DN=-2,RN=-1,PN=0,LN=1,FN=2,$N=3,q0=0,Wa=1,ic="",vi="",qa="";function Gf(ie,K,W,oe,F){for(var Ie,E,we=0,fe=0,rt=0,pe=0,at=0,_e=0,ge=0,Qt=0,hn=0,po=0,fn=0,Ur=0,oc=0,Er=0,Ee=0,$n=0,mo=0,Ga=0,De=0,ys=W.length,Ja=ys-1,Lt="",se="",Le="",tt="",ac="",Yf="";Ee<ys;){if(ge=W.charCodeAt(Ee),Ee===Ja&&fe+pe+rt+we!==0&&(fe!==0&&(ge=fe===L?cn:L),pe=rt=we=0,ys++,Ja++),fe+pe+rt+we===0){if(Ee===Ja&&($n>0&&(se=se.replace(s,"")),se.trim().length>0)){switch(ge){case Cn:case Ct:case R:case ft:case cn:break;default:se+=W.charAt(Ee)}ge=R}if(mo===1)switch(ge){case J:case q:case R:case P:case C:case ke:case Ne:case w:mo=0;case Ct:case ft:case cn:case Cn:break;default:for(mo=0,De=Ee,at=ge,Ee--,ge=R;De<ys;)switch(W.charCodeAt(De++)){case cn:case ft:case R:++Ee,ge=at,De=ys;break;case T:$n>0&&(++Ee,ge=at);case J:De=ys}}switch(ge){case J:for(at=(se=se.trim()).charCodeAt(0),fn=1,De=++Ee;Ee<ys;){switch(ge=W.charCodeAt(Ee)){case J:fn++;break;case q:fn--;break;case L:switch(_e=W.charCodeAt(Ee+1)){case er:case L:Ee=VN(_e,Ee,Ja,W)}break;case Xn:ge++;case ke:ge++;case P:case C:for(;Ee++<Ja&&W.charCodeAt(Ee)!==ge;);}if(fn===0)break;Ee++}switch(Le=W.substring(De,Ee),at===Me&&(at=(se=se.replace(i,"").trim()).charCodeAt(0)),at){case pi:switch($n>0&&(se=se.replace(s,"")),_e=se.charCodeAt(1)){case j0:case Ua:case ja:case dn:Ie=K;break;default:Ie=Wf}if(De=(Le=Gf(K,Ie,Le,_e,F+1)).length,Hf>0&&De===0&&(De=se.length),zr>0&&(Ie=K0(Wf,se,Ga),E=fo($N,Le,Ie,K,gi,Sr,De,_e,F,oe),se=Ie.join(""),E!==void 0&&(De=(Le=E.trim()).length)===0&&(_e=0,Le="")),De>0)switch(_e){case ja:se=se.replace(ee,BN);case j0:case Ua:case dn:Le=se+"{"+Le+"}";break;case mi:Le=(se=se.replace(S,"$1 $2"+(Wa>0?ic:"")))+"{"+Le+"}",tr===1||tr===2&&sc("@"+Le,3)?Le="@"+ne+Le+"@"+Le:Le="@"+Le;break;default:Le=se+Le,oe===_N&&(tt+=Le,Le="")}else Le="";break;default:Le=Gf(K,K0(K,se,Ga),Le,oe,F+1)}ac+=Le,Ur=0,mo=0,Er=0,$n=0,Ga=0,oc=0,se="",Le="",ge=W.charCodeAt(++Ee);break;case q:case R:if((De=(se=($n>0?se.replace(s,""):se).trim()).length)>1)switch(Er===0&&((at=se.charCodeAt(0))===dn||at>96&&at<123)&&(De=(se=se.replace(" ",":")).length),zr>0&&(E=fo(LN,se,K,ie,gi,Sr,tt.length,oe,F,oe))!==void 0&&(De=(se=E.trim()).length)===0&&(se="\0\0"),at=se.charCodeAt(0),_e=se.charCodeAt(1),at){case Me:break;case pi:if(_e===ON||_e===MN){Yf+=se+W.charAt(Ee);break}default:if(se.charCodeAt(De-1)===T)break;tt+=Jf(se,at,_e,se.charCodeAt(2))}Ur=0,mo=0,Er=0,$n=0,Ga=0,se="",ge=W.charCodeAt(++Ee)}}switch(ge){case ft:case cn:if(fe+pe+rt+we+W0===0)switch(po){case Ne:case C:case P:case pi:case Oe:case x:case er:case j:case L:case dn:case T:case w:case R:case J:case q:break;default:Er>0&&(mo=1)}fe===L?fe=0:kr+Ur===0&&oe!==mi&&se.length>0&&($n=1,se+="\0"),zr*q0>0&&fo(PN,se,K,ie,gi,Sr,tt.length,oe,F,oe),Sr=1,gi++;break;case R:case q:if(fe+pe+rt+we===0){Sr++;break}default:switch(Sr++,Lt=W.charAt(Ee),ge){case Ct:case Cn:if(pe+we+fe===0)switch(Qt){case w:case T:case Ct:case Cn:Lt="";break;default:ge!==Cn&&(Lt=" ")}break;case Me:Lt="\\0";break;case nc:Lt="\\f";break;case za:Lt="\\v";break;case Va:pe+fe+we===0&&kr>0&&(Ga=1,$n=1,Lt="\f"+Lt);break;case 108:if(pe+fe+we+yi===0&&Er>0)switch(Ee-Er){case 2:Qt===rc&&W.charCodeAt(Ee-3)===T&&(yi=Qt);case 8:hn===Ha&&(yi=hn)}break;case T:pe+fe+we===0&&(Er=Ee);break;case w:fe+rt+pe+we===0&&($n=1,Lt+="\r");break;case P:case C:fe===0&&(pe=pe===ge?0:pe===0?ge:pe);break;case Xn:pe+fe+rt===0&&we++;break;case Zn:pe+fe+rt===0&&we--;break;case Ne:pe+fe+we===0&&rt--;break;case ke:if(pe+fe+we===0){if(Ur===0)switch(2*Qt+3*hn){case 533:break;default:fn=0,Ur=1}rt++}break;case pi:fe+rt+pe+we+Er+oc===0&&(oc=1);break;case er:case L:if(pe+we+rt>0)break;switch(fe){case 0:switch(2*ge+3*W.charCodeAt(Ee+1)){case 235:fe=L;break;case 220:De=Ee,fe=er}break;case er:ge===L&&Qt===er&&De+2!==Ee&&(W.charCodeAt(De+2)===33&&(tt+=W.substring(De,Ee+1)),Lt="",fe=0)}}if(fe===0){if(kr+pe+we+oc===0&&oe!==mi&&ge!==R)switch(ge){case w:case Oe:case x:case j:case Ne:case ke:if(Ur===0){switch(Qt){case Ct:case Cn:case cn:case ft:Lt+="\0";break;default:Lt="\0"+Lt+(ge===w?"":"\0")}$n=1}else switch(ge){case ke:Er+7===Ee&&Qt===108&&(Er=0),Ur=++fn;break;case Ne:(Ur=--fn)==0&&($n=1,Lt+="\0")}break;case Ct:case Cn:switch(Qt){case Me:case J:case q:case R:case w:case nc:case Ct:case Cn:case cn:case ft:break;default:Ur===0&&($n=1,Lt+="\0")}}se+=Lt,ge!==Cn&&ge!==Ct&&(po=ge)}}hn=Qt,Qt=ge,Ee++}if(De=tt.length,Hf>0&&De===0&&ac.length===0&&K[0].length!==0&&(oe!==Ua||K.length===1&&(kr>0?vi:qa)===K[0])&&(De=K.join(",").length+2),De>0){if(Ie=kr===0&&oe!==mi?function(J0){for(var jr,It,lc=0,Q0=J0.length,Y0=Array(Q0);lc<Q0;++lc){for(var Xf=J0[lc].split(d),uc="",go=0,Zf=0,X0=0,Z0=0,e1=Xf.length;go<e1;++go)if(!((Zf=(It=Xf[go]).length)===0&&e1>1)){if(X0=uc.charCodeAt(uc.length-1),Z0=It.charCodeAt(0),jr="",go!==0)switch(X0){case er:case Oe:case x:case j:case Cn:case ke:break;default:jr=" "}switch(Z0){case Va:It=jr+vi;case Oe:case x:case j:case Cn:case Ne:case ke:break;case Xn:It=jr+It+vi;break;case T:switch(2*It.charCodeAt(1)+3*It.charCodeAt(2)){case 530:if(jf>0){It=jr+It.substring(8,Zf-1);break}default:(go<1||Xf[go-1].length<1)&&(It=jr+vi+It)}break;case w:jr="";default:Zf>1&&It.indexOf(":")>0?It=jr+It.replace(O,"$1"+vi+"$2"):It=jr+It+vi}uc+=It}Y0[lc]=uc.replace(s,"").trim()}return Y0}(K):K,zr>0&&(E=fo(FN,tt,Ie,ie,gi,Sr,De,oe,F,oe))!==void 0&&(tt=E).length===0)return Yf+tt+ac;if(tt=Ie.join(",")+"{"+tt+"}",tr*yi!=0){switch(tr===2&&!sc(tt,2)&&(yi=0),yi){case Ha:tt=tt.replace(g,":"+Je+"$1")+tt;break;case rc:tt=tt.replace(y,"::"+ne+"input-$1")+tt.replace(y,"::"+Je+"$1")+tt.replace(y,":"+Ve+"input-$1")+tt}yi=0}}return Yf+tt+ac}function K0(ie,K,W){var oe=K.trim().split(h),F=oe,Ie=oe.length,E=ie.length;switch(E){case 0:case 1:for(var we=0,fe=E===0?"":ie[0]+" ";we<Ie;++we)F[we]=G0(fe,F[we],W,E).trim();break;default:we=0;var rt=0;for(F=[];we<Ie;++we)for(var pe=0;pe<E;++pe)F[rt++]=G0(ie[pe]+" ",oe[we],W,E).trim()}return F}function G0(ie,K,W,oe){var F=K,Ie=F.charCodeAt(0);switch(Ie<33&&(Ie=(F=F.trim()).charCodeAt(0)),Ie){case Va:switch(kr+oe){case 0:case 1:if(ie.trim().length===0)break;default:return F.replace(f,"$1"+ie.trim())}break;case T:switch(F.charCodeAt(1)){case 103:if(jf>0&&kr>0)return F.replace(p,"$1").replace(f,"$1"+qa);break;default:return ie.trim()+F.replace(f,"$1"+ie.trim())}default:if(W*kr>0&&F.indexOf("\f")>0)return F.replace(f,(ie.charCodeAt(0)===T?"":"$1")+ie.trim())}return ie+F}function Jf(ie,K,W,oe){var F,Ie=0,E=ie+";",we=2*K+3*W+4*oe;if(we===944)return function(fe){var rt=fe.length,pe=fe.indexOf(":",9)+1,at=fe.substring(0,pe).trim(),_e=fe.substring(pe,rt-1).trim();switch(fe.charCodeAt(9)*Wa){case 0:break;case dn:if(fe.charCodeAt(10)!==110)break;default:for(var ge=_e.split((_e="",u)),Qt=0,pe=0,rt=ge.length;Qt<rt;pe=0,++Qt){for(var hn=ge[Qt],po=hn.split(c);hn=po[pe];){var fn=hn.charCodeAt(0);if(Wa===1&&(fn>pi&&fn<90||fn>96&&fn<123||fn===tc||fn===dn&&hn.charCodeAt(1)!==dn))switch(isNaN(parseFloat(hn))+(hn.indexOf("(")!==-1)){case 1:switch(hn){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:hn+=ic}}po[pe++]=hn}_e+=(Qt===0?"":",")+po.join(" ")}}return _e=at+_e+";",tr===1||tr===2&&sc(_e,1)?ne+_e+_e:_e}(E);if(tr===0||tr===2&&!sc(E,1))return E;switch(we){case 1015:return E.charCodeAt(10)===97?ne+E+E:E;case 951:return E.charCodeAt(3)===116?ne+E+E:E;case 963:return E.charCodeAt(5)===110?ne+E+E:E;case 1009:if(E.charCodeAt(4)!==100)break;case 969:case 942:return ne+E+E;case 978:return ne+E+Je+E+E;case 1019:case 983:return ne+E+Je+E+Ve+E+E;case 883:return E.charCodeAt(8)===dn?ne+E+E:E.indexOf("image-set(",11)>0?E.replace(et,"$1"+ne+"$2")+E:E;case 932:if(E.charCodeAt(4)===dn)switch(E.charCodeAt(5)){case 103:return ne+"box-"+E.replace("-grow","")+ne+E+Ve+E.replace("grow","positive")+E;case 115:return ne+E+Ve+E.replace("shrink","negative")+E;case 98:return ne+E+Ve+E.replace("basis","preferred-size")+E}return ne+E+Ve+E+E;case 964:return ne+E+Ve+"flex-"+E+E;case 1023:if(E.charCodeAt(8)!==99)break;return F=E.substring(E.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),ne+"box-pack"+F+ne+E+Ve+"flex-pack"+F+E;case 1005:return a.test(E)?E.replace(o,":"+ne)+E.replace(o,":"+Je)+E:E;case 1e3:switch(Ie=(F=E.substring(13).trim()).indexOf("-")+1,F.charCodeAt(0)+F.charCodeAt(Ie)){case 226:F=E.replace(I,"tb");break;case 232:F=E.replace(I,"tb-rl");break;case 220:F=E.replace(I,"lr");break;default:return E}return ne+E+Ve+F+E;case 1017:if(E.indexOf("sticky",9)===-1)return E;case 975:switch(Ie=(E=ie).length-10,we=(F=(E.charCodeAt(Ie)===33?E.substring(0,Ie):E).substring(ie.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|F.charCodeAt(7))){case 203:if(F.charCodeAt(8)<111)break;case 115:E=E.replace(F,ne+F)+";"+E;break;case 207:case 102:E=E.replace(F,ne+(we>102?"inline-":"")+"box")+";"+E.replace(F,ne+F)+";"+E.replace(F,Ve+F+"box")+";"+E}return E+";";case 938:if(E.charCodeAt(5)===dn)switch(E.charCodeAt(6)){case 105:return F=E.replace("-items",""),ne+E+ne+"box-"+F+Ve+"flex-"+F+E;case 115:return ne+E+Ve+"flex-item-"+E.replace(G,"")+E;default:return ne+E+Ve+"flex-line-pack"+E.replace("align-content","").replace(G,"")+E}break;case 973:case 989:if(E.charCodeAt(3)!==dn||E.charCodeAt(4)===122)break;case 931:case 953:if(ve.test(ie)===!0)return(F=ie.substring(ie.indexOf(":")+1)).charCodeAt(0)===115?Jf(ie.replace("stretch","fill-available"),K,W,oe).replace(":fill-available",":stretch"):E.replace(F,ne+F)+E.replace(F,Je+F.replace("fill-",""))+E;break;case 962:if(E=ne+E+(E.charCodeAt(5)===102?Ve+E:"")+E,W+oe===211&&E.charCodeAt(13)===105&&E.indexOf("transform",10)>0)return E.substring(0,E.indexOf(";",27)+1).replace(l,"$1"+ne+"$2")+E}return E}function sc(ie,K){var W=ie.indexOf(K===1?":":"{"),oe=ie.substring(0,K!==3?W:10),F=ie.substring(W+1,ie.length-1);return Kf(K!==2?oe:oe.replace(de,"$1"),F,K)}function BN(ie,K){var W=Jf(K,K.charCodeAt(0),K.charCodeAt(1),K.charCodeAt(2));return W!==K+";"?W.replace(X," or ($1)").substring(4):"("+K+")"}function fo(ie,K,W,oe,F,Ie,E,we,fe,rt){for(var pe,at=0,_e=K;at<zr;++at)switch(pe=qf[at].call(Ka,ie,_e,W,oe,F,Ie,E,we,fe,rt)){case void 0:case!1:case!0:case null:break;default:_e=pe}if(_e!==K)return _e}function VN(ie,K,W,oe){for(var F=K+1;F<W;++F)switch(oe.charCodeAt(F)){case L:if(ie===er&&oe.charCodeAt(F-1)===er&&K+2!==F)return F+1;break;case cn:if(ie===L)return F+1}return F}function Qf(ie){for(var K in ie){var W=ie[K];switch(K){case"keyframe":Wa=0|W;break;case"global":jf=0|W;break;case"cascade":kr=0|W;break;case"compress":H0=0|W;break;case"semicolon":W0=0|W;break;case"preserve":Hf=0|W;break;case"prefix":Kf=null,W?typeof W!="function"?tr=1:(tr=2,Kf=W):tr=0}}return Qf}function Ka(ie,K){if(this!==void 0&&this.constructor===Ka)return n(ie);var W=ie,oe=W.charCodeAt(0);oe<33&&(oe=(W=W.trim()).charCodeAt(0)),Wa>0&&(ic=W.replace(m,oe===Xn?"":"-")),oe=1,kr===1?qa=W:vi=W;var F,Ie=[qa];zr>0&&(F=fo(RN,K,Ie,Ie,gi,Sr,0,0,0,0))!==void 0&&typeof F=="string"&&(K=F);var E=Gf(Wf,Ie,K,0,0);return zr>0&&(F=fo(DN,E,Ie,Ie,gi,Sr,E.length,0,0,0))!==void 0&&typeof(E=F)!="string"&&(oe=0),ic="",qa="",vi="",yi=0,gi=1,Sr=1,H0*oe==0?E:E.replace(s,"").replace(v,"").replace(k,"$1").replace(b,"$1").replace(_," ")}return Ka.use=function ie(K){switch(K){case void 0:case null:zr=qf.length=0;break;default:if(typeof K=="function")qf[zr++]=K;else if(typeof K=="object")for(var W=0,oe=K.length;W<oe;++W)ie(K[W]);else q0=0|!!K}return ie},Ka.set=Qf,r!==void 0&&Qf(r),Ka})})(rI);const iI=rI.exports;var sI={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function(n){var r="/*|*/",i=r+"}";function s(o){if(o)try{n(o+"}")}catch{}}return function(a,l,u,c,d,h,f,p,m,S){switch(a){case 1:if(m===0&&l.charCodeAt(0)===64)return n(l+";"),"";break;case 2:if(p===0)return l+r;break;case 3:switch(p){case 102:case 112:return n(u[0]+l),"";default:return l+(S===0?r:"")}case-2:l.split(i).forEach(s)}}}})})(sI);const JP=sI.exports;var QP={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Sv={exports:{}},Ae={};var Tt=typeof Symbol=="function"&&Symbol.for,kv=Tt?Symbol.for("react.element"):60103,Ev=Tt?Symbol.for("react.portal"):60106,qh=Tt?Symbol.for("react.fragment"):60107,Kh=Tt?Symbol.for("react.strict_mode"):60108,Gh=Tt?Symbol.for("react.profiler"):60114,Jh=Tt?Symbol.for("react.provider"):60109,Qh=Tt?Symbol.for("react.context"):60110,Tv=Tt?Symbol.for("react.async_mode"):60111,Yh=Tt?Symbol.for("react.concurrent_mode"):60111,Xh=Tt?Symbol.for("react.forward_ref"):60112,Zh=Tt?Symbol.for("react.suspense"):60113,YP=Tt?Symbol.for("react.suspense_list"):60120,ef=Tt?Symbol.for("react.memo"):60115,tf=Tt?Symbol.for("react.lazy"):60116,XP=Tt?Symbol.for("react.block"):60121,ZP=Tt?Symbol.for("react.fundamental"):60117,eL=Tt?Symbol.for("react.responder"):60118,tL=Tt?Symbol.for("react.scope"):60119;function Ln(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kv:switch(t=t.type,t){case Tv:case Yh:case qh:case Gh:case Kh:case Zh:return t;default:switch(t=t&&t.$$typeof,t){case Qh:case Xh:case tf:case ef:case Jh:return t;default:return e}}case Ev:return e}}}function oI(t){return Ln(t)===Yh}Ae.AsyncMode=Tv;Ae.ConcurrentMode=Yh;Ae.ContextConsumer=Qh;Ae.ContextProvider=Jh;Ae.Element=kv;Ae.ForwardRef=Xh;Ae.Fragment=qh;Ae.Lazy=tf;Ae.Memo=ef;Ae.Portal=Ev;Ae.Profiler=Gh;Ae.StrictMode=Kh;Ae.Suspense=Zh;Ae.isAsyncMode=function(t){return oI(t)||Ln(t)===Tv};Ae.isConcurrentMode=oI;Ae.isContextConsumer=function(t){return Ln(t)===Qh};Ae.isContextProvider=function(t){return Ln(t)===Jh};Ae.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kv};Ae.isForwardRef=function(t){return Ln(t)===Xh};Ae.isFragment=function(t){return Ln(t)===qh};Ae.isLazy=function(t){return Ln(t)===tf};Ae.isMemo=function(t){return Ln(t)===ef};Ae.isPortal=function(t){return Ln(t)===Ev};Ae.isProfiler=function(t){return Ln(t)===Gh};Ae.isStrictMode=function(t){return Ln(t)===Kh};Ae.isSuspense=function(t){return Ln(t)===Zh};Ae.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qh||t===Yh||t===Gh||t===Kh||t===Zh||t===YP||typeof t=="object"&&t!==null&&(t.$$typeof===tf||t.$$typeof===ef||t.$$typeof===Jh||t.$$typeof===Qh||t.$$typeof===Xh||t.$$typeof===ZP||t.$$typeof===eL||t.$$typeof===tL||t.$$typeof===XP)};Ae.typeOf=Ln;(function(t){t.exports=Ae})(Sv);var Lw=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function nL(t,e){return!!(t===e||Lw(t)&&Lw(e))}function rL(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!nL(t[n],e[n]))return!1;return!0}function aI(t,e){e===void 0&&(e=rL);var n,r=[],i,s=!1;function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return s&&n===this&&e(a,r)||(i=t.apply(this,a),s=!0,n=this,r=a),i}return o}function iL(t){var e={};return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var sL=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oL=iL(function(t){return sL.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Cv(t){return Object.prototype.toString.call(t).slice(8,-1)}function pl(t){return Cv(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Fw(t){return Cv(t)==="Array"}function $w(t){return Cv(t)==="Symbol"}function Bw(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Vw(t,e,n,r){var i=r.propertyIsEnumerable(e)?"enumerable":"nonenumerable";i==="enumerable"&&(t[e]=n),i==="nonenumerable"&&Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!0,configurable:!0})}function lI(t,e,n){if(!pl(e))return n&&Fw(n)&&n.forEach(function(u){e=u(t,e)}),e;var r={};if(pl(t)){var i=Object.getOwnPropertyNames(t),s=Object.getOwnPropertySymbols(t);r=Bw(i,s).reduce(function(u,c){var d=t[c];return(!$w(c)&&!Object.getOwnPropertyNames(e).includes(c)||$w(c)&&!Object.getOwnPropertySymbols(e).includes(c))&&Vw(u,c,d,t),u},{})}var o=Object.getOwnPropertyNames(e),a=Object.getOwnPropertySymbols(e),l=Bw(o,a).reduce(function(u,c){var d=e[c],h=pl(t)?t[c]:void 0;return n&&Fw(n)&&n.forEach(function(f){d=f(h,d)}),h!==void 0&&pl(d)&&(d=lI(h,d,n)),Vw(u,c,d,e),u},r);return l}function aL(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=null,i=t;return pl(t)&&t.extensions&&Object.keys(t).length===1&&(i={},r=t.extensions),e.reduce(function(s,o){return lI(s,o,r)},i)}var zw=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},uI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fi=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},lL=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Nn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$u=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},uL=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},pa=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Iv=function(t){return(typeof t>"u"?"undefined":uI(t))==="object"&&t.constructor===Object},$d=Object.freeze([]),Ol=Object.freeze({});function ui(t){return typeof t=="function"}function cI(t){return t.displayName||t.name||"Component"}function cL(t){return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)}function nf(t){return t&&typeof t.styledComponentId=="string"}var uu=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",rf="data-styled-version",dL="data-styled-streamed",Js=typeof window<"u"&&"HTMLElement"in window,dI=typeof SC_DISABLE_SPEEDY=="boolean"&&SC_DISABLE_SPEEDY||typeof process<"u"&&({}.REACT_APP_SC_DISABLE_SPEEDY||{}.SC_DISABLE_SPEEDY)||!1,hL={},cs=function(t){$u(e,t);function e(n){fi(this,e);for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o,o=pa(this,t.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/packages/styled-components/src/utils/errors.md#"+n+" for more information."+(i.length>0?" Additional arguments: "+i.join(", "):"")));return pa(o)}return e}(Error),fL=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,pL=function(t){var e=""+(t||""),n=[];return e.replace(fL,function(r,i,s){return n.push({componentId:i,matchIndex:s}),r}),n.map(function(r,i){var s=r.componentId,o=r.matchIndex,a=n[i+1],l=a?e.slice(o,a.matchIndex):e.slice(o);return{componentId:s,cssFromDOM:l}})},mL=/^\s*\/\/.*$/gm,hI=new iI({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),fI=new iI({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),Tg=[],pI=function(e){if(e===-2){var n=Tg;return Tg=[],n}},mI=JP(function(t){Tg.push(t)}),gI=void 0,Yo=void 0,yI=void 0,gL=function(e,n,r){return n>0&&r.slice(0,n).indexOf(Yo)!==-1&&r.slice(n-Yo.length,n)!==Yo?"."+gI:e},yL=function(e,n,r){e===2&&r.length&&r[0].lastIndexOf(Yo)>0&&(r[0]=r[0].replace(yI,gL))};fI.use([yL,mI,pI]);hI.use([mI,pI]);var vL=function(e){return hI("",e)};function vI(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"&",i=t.join("").replace(mL,""),s=e&&n?n+" "+e+" { "+i+" }":i;return gI=r,Yo=e,yI=new RegExp("\\"+Yo+"\\b","g"),fI(n||!e?"":e,s)}var bv=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},xv=function(e,n,r){if(r){var i=e[n]||(e[n]=Object.create(null));i[r]=!0}},Bd=function(e,n){e[n]=Object.create(null)},Av=function(e){return function(n,r){return e[n]!==void 0&&e[n][r]}},wI=function(e){var n="";for(var r in e)n+=Object.keys(e[r]).join(" ")+" ";return n.trim()},wL=function(e){var n=Object.create(null);for(var r in e)n[r]=Nn({},e[r]);return n},Dp=function(e){if(e.sheet)return e.sheet;for(var n=e.ownerDocument.styleSheets.length,r=0;r<n;r+=1){var i=e.ownerDocument.styleSheets[r];if(i.ownerNode===e)return i}throw new cs(10)},SL=function(e,n,r){if(!n)return!1;var i=e.cssRules.length;try{e.insertRule(n,r<=i?r:i)}catch{return!1}return!0},kL=function(e,n,r){for(var i=n-r,s=n;s>i;s-=1)e.deleteRule(s)},Nv=function(e){return`
/* sc-component-id: `+e+` */
`},Rp=function(e,n){for(var r=0,i=0;i<=n;i+=1)r+=e[i];return r},EL=function(e,n,r){var i=document;e?i=e.ownerDocument:n&&(i=n.ownerDocument);var s=i.createElement("style");s.setAttribute(uu,""),s.setAttribute(rf,"4.4.1");var o=bv();if(o&&s.setAttribute("nonce",o),s.appendChild(i.createTextNode("")),e&&!n)e.appendChild(s);else{if(!n||!e||!n.parentNode)throw new cs(6);n.parentNode.insertBefore(s,r?n:n.nextSibling)}return s},Ov=function(e,n){return function(r){var i=bv(),s=[i&&'nonce="'+i+'"',uu+'="'+wI(n)+'"',rf+'="4.4.1"',r],o=s.filter(Boolean).join(" ");return"<style "+o+">"+e()+"</style>"}},Mv=function(e,n){return function(){var r,i=(r={},r[uu]=wI(n),r[rf]="4.4.1",r),s=bv();return s&&(i.nonce=s),Te.createElement("style",Nn({},i,{dangerouslySetInnerHTML:{__html:e()}}))}},_v=function(e){return function(){return Object.keys(e)}},TL=function(e,n){var r=Object.create(null),i=Object.create(null),s=[],o=n!==void 0,a=!1,l=function(f){var p=i[f];return p!==void 0?p:(i[f]=s.length,s.push(0),Bd(r,f),i[f])},u=function(f,p,m){for(var S=l(f),y=Dp(e),g=Rp(s,S),v=0,k=[],b=p.length,_=0;_<b;_+=1){var O=p[_],I=o;I&&O.indexOf("@import")!==-1?k.push(O):SL(y,O,g+v)&&(I=!1,v+=1)}o&&k.length>0&&(a=!0,n().insertRules(f+"-import",k)),s[S]+=v,xv(r,f,m)},c=function(f){var p=i[f];if(p!==void 0&&e.isConnected!==!1){var m=s[p],S=Dp(e),y=Rp(s,p)-1;kL(S,y,m),s[p]=0,Bd(r,f),o&&a&&n().removeRules(f+"-import")}},d=function(){var f=Dp(e),p=f.cssRules,m="";for(var S in i){m+=Nv(S);for(var y=i[S],g=Rp(s,y),v=s[y],k=g-v;k<g;k+=1){var b=p[k];b!==void 0&&(m+=b.cssText)}}return m};return{clone:function(){throw new cs(5)},css:d,getIds:_v(i),hasNameForId:Av(r),insertMarker:l,insertRules:u,removeRules:c,sealed:!1,styleTag:e,toElement:Mv(d,r),toHTML:Ov(d,r)}},Uw=function(e,n){return e.createTextNode(Nv(n))},CL=function(e,n){var r=Object.create(null),i=Object.create(null),s=n!==void 0,o=!1,a=function(h){var f=i[h];return f!==void 0?f:(i[h]=Uw(e.ownerDocument,h),e.appendChild(i[h]),r[h]=Object.create(null),i[h])},l=function(h,f,p){for(var m=a(h),S=[],y=f.length,g=0;g<y;g+=1){var v=f[g],k=s;if(k&&v.indexOf("@import")!==-1)S.push(v);else{k=!1;var b=g===y-1?"":" ";m.appendData(""+v+b)}}xv(r,h,p),s&&S.length>0&&(o=!0,n().insertRules(h+"-import",S))},u=function(h){var f=i[h];if(f!==void 0){var p=Uw(e.ownerDocument,h);e.replaceChild(p,f),i[h]=p,Bd(r,h),s&&o&&n().removeRules(h+"-import")}},c=function(){var h="";for(var f in i)h+=i[f].data;return h};return{clone:function(){throw new cs(5)},css:c,getIds:_v(i),hasNameForId:Av(r),insertMarker:a,insertRules:l,removeRules:u,sealed:!1,styleTag:e,toElement:Mv(c,r),toHTML:Ov(c,r)}},IL=function t(e,n){var r=e===void 0?Object.create(null):e,i=n===void 0?Object.create(null):n,s=function(h){var f=i[h];return f!==void 0?f:i[h]=[""]},o=function(h,f,p){var m=s(h);m[0]+=f.join(" "),xv(r,h,p)},a=function(h){var f=i[h];f!==void 0&&(f[0]="",Bd(r,h))},l=function(){var h="";for(var f in i){var p=i[f][0];p&&(h+=Nv(f)+p)}return h},u=function(){var h=wL(r),f=Object.create(null);for(var p in i)f[p]=[i[p][0]];return t(h,f)},c={clone:u,css:l,getIds:_v(i),hasNameForId:Av(r),insertMarker:s,insertRules:o,removeRules:a,sealed:!1,styleTag:null,toElement:Mv(l,r),toHTML:Ov(l,r)};return c},jw=function(e,n,r,i,s){if(Js&&!r){var o=EL(e,n,i);return dI?CL(o,s):TL(o,s)}return IL()},bL=function(e,n,r){for(var i=0,s=r.length;i<s;i+=1){var o=r[i],a=o.componentId,l=o.cssFromDOM,u=vL(l);e.insertRules(a,u)}for(var c=0,d=n.length;c<d;c+=1){var h=n[c];h.parentNode&&h.parentNode.removeChild(h)}},xL=/\s+/,Vd=void 0;Js?Vd=dI?40:1e3:Vd=-1;var Hw=0,Pp=void 0,Qs=function(){function t(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Js?document.head:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;fi(this,t),this.getImportRuleTag=function(){var i=e.importRuleTag;if(i!==void 0)return i;var s=e.tags[0],o=!0;return e.importRuleTag=jw(e.target,s?s.styleTag:null,e.forceServer,o)},Hw+=1,this.id=Hw,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return t.prototype.rehydrate=function(){if(!Js||this.forceServer)return this;var n=[],r=[],i=!1,s=document.querySelectorAll("style["+uu+"]["+rf+'="4.4.1"]'),o=s.length;if(!o)return this;for(var a=0;a<o;a+=1){var l=s[a];i||(i=!!l.getAttribute(dL));for(var u=(l.getAttribute(uu)||"").trim().split(xL),c=u.length,d=0,h;d<c;d+=1)h=u[d],this.rehydratedNames[h]=!0;r.push.apply(r,pL(l.textContent)),n.push(l)}var f=r.length;if(!f)return this;var p=this.makeTag(null);bL(p,n,r),this.capacity=Math.max(1,Vd-f),this.tags.push(p);for(var m=0;m<f;m+=1)this.tagMap[r[m].componentId]=p;return this},t.reset=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Pp=new t(void 0,n).rehydrate()},t.prototype.clone=function(){var n=new t(this.target,this.forceServer);return this.clones.push(n),n.tags=this.tags.map(function(r){for(var i=r.getIds(),s=r.clone(),o=0;o<i.length;o+=1)n.tagMap[i[o]]=s;return s}),n.rehydratedNames=Nn({},this.rehydratedNames),n.deferred=Nn({},this.deferred),n},t.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach(function(n){n.sealed=!0})},t.prototype.makeTag=function(n){var r=n?n.styleTag:null,i=!1;return jw(this.target,r,this.forceServer,i,this.getImportRuleTag)},t.prototype.getTagForId=function(n){var r=this.tagMap[n];if(r!==void 0&&!r.sealed)return r;var i=this.tags[this.tags.length-1];return this.capacity-=1,this.capacity===0&&(this.capacity=Vd,i=this.makeTag(i),this.tags.push(i)),this.tagMap[n]=i},t.prototype.hasId=function(n){return this.tagMap[n]!==void 0},t.prototype.hasNameForId=function(n,r){if(this.ignoreRehydratedNames[n]===void 0&&this.rehydratedNames[r])return!0;var i=this.tagMap[n];return i!==void 0&&i.hasNameForId(n,r)},t.prototype.deferredInject=function(n,r){if(this.tagMap[n]===void 0){for(var i=this.clones,s=0;s<i.length;s+=1)i[s].deferredInject(n,r);this.getTagForId(n).insertMarker(n),this.deferred[n]=r}},t.prototype.inject=function(n,r,i){for(var s=this.clones,o=0;o<s.length;o+=1)s[o].inject(n,r,i);var a=this.getTagForId(n);if(this.deferred[n]!==void 0){var l=this.deferred[n].concat(r);a.insertRules(n,l,i),this.deferred[n]=void 0}else a.insertRules(n,r,i)},t.prototype.remove=function(n){var r=this.tagMap[n];if(r!==void 0){for(var i=this.clones,s=0;s<i.length;s+=1)i[s].remove(n);r.removeRules(n),this.ignoreRehydratedNames[n]=!0,this.deferred[n]=void 0}},t.prototype.toHTML=function(){return this.tags.map(function(n){return n.toHTML()}).join("")},t.prototype.toReactElements=function(){var n=this.id;return this.tags.map(function(r,i){var s="sc-"+n+"-"+i;return qe.exports.cloneElement(r.toElement(),{key:s})})},lL(t,null,[{key:"master",get:function(){return Pp||(Pp=new t().rehydrate())}},{key:"instance",get:function(){return t.master}}]),t}(),AL=function(){function t(e,n){var r=this;fi(this,t),this.inject=function(i){i.hasNameForId(r.id,r.name)||i.inject(r.id,r.rules,r.name)},this.toString=function(){throw new cs(12,String(r.name))},this.name=e,this.rules=n,this.id="sc-keyframes-"+e}return t.prototype.getName=function(){return this.name},t}(),NL=/([A-Z])/g,OL=/^ms-/;function Ww(t){return t.replace(NL,"-$1").toLowerCase().replace(OL,"-ms-")}function ML(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!(t in QP)?e+"px":String(e).trim()}var SI=function(e){return e==null||e===!1||e===""},_L=function t(e,n){var r=[],i=Object.keys(e);return i.forEach(function(s){if(!SI(e[s])){if(Iv(e[s]))return r.push.apply(r,t(e[s],s)),r;if(ui(e[s]))return r.push(Ww(s)+":",e[s],";"),r;r.push(Ww(s)+": "+ML(s,e[s])+";")}return r}),n?[n+" {"].concat(r,["}"]):r};function ma(t,e,n){if(Array.isArray(t)){for(var r=[],i=0,s=t.length,o;i<s;i+=1)o=ma(t[i],e,n),o!==null&&(Array.isArray(o)?r.push.apply(r,o):r.push(o));return r}if(SI(t))return null;if(nf(t))return"."+t.styledComponentId;if(ui(t))if(cL(t)&&e){var a=t(e);return ma(a,e,n)}else return t;return t instanceof AL?n?(t.inject(n),t.getName()):t:Iv(t)?_L(t):t.toString()}function kI(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ui(t)||Iv(t)?ma(zw($d,[t].concat(n))):ma(zw(t,n))}function Cg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ol;if(!Sv.exports.isValidElementType(e))throw new cs(1,String(e));var r=function(){return t(e,n,kI.apply(void 0,arguments))};return r.withConfig=function(i){return Cg(t,e,Nn({},n,i))},r.attrs=function(i){return Cg(t,e,Nn({},n,{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r}function EI(t){for(var e=t.length|0,n=e|0,r=0,i;e>=4;)i=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,i=1540483477*(i&65535)+((1540483477*(i>>>16)&65535)<<16),i^=i>>>24,i=1540483477*(i&65535)+((1540483477*(i>>>16)&65535)<<16),n=1540483477*(n&65535)+((1540483477*(n>>>16)&65535)<<16)^i,e-=4,++r;switch(e){case 3:n^=(t.charCodeAt(r+2)&255)<<16;case 2:n^=(t.charCodeAt(r+1)&255)<<8;case 1:n^=t.charCodeAt(r)&255,n=1540483477*(n&65535)+((1540483477*(n>>>16)&65535)<<16)}return n^=n>>>13,n=1540483477*(n&65535)+((1540483477*(n>>>16)&65535)<<16),(n^n>>>15)>>>0}var Ac=52,qw=function(e){return String.fromCharCode(e+(e>25?39:97))};function DL(t){var e="",n=void 0;for(n=t;n>Ac;n=Math.floor(n/Ac))e=qw(n%Ac)+e;return qw(n%Ac)+e}function RL(t){for(var e in t)if(ui(t[e]))return!0;return!1}function Dv(t,e){for(var n=0;n<t.length;n+=1){var r=t[n];if(Array.isArray(r)&&!Dv(r,e))return!1;if(ui(r)&&!nf(r))return!1}return!e.some(function(i){return ui(i)||RL(i)})}var Kw=function(e){return DL(EI(e))},Gw=function(){function t(e,n,r){fi(this,t),this.rules=e,this.isStatic=Dv(e,n),this.componentId=r,Qs.master.hasId(r)||Qs.master.deferredInject(r,[])}return t.prototype.generateAndInjectStyles=function(n,r){var i=this.isStatic,s=this.componentId,o=this.lastClassName;if(Js&&i&&typeof o=="string"&&r.hasNameForId(s,o))return o;var a=ma(this.rules,n,r),l=Kw(this.componentId+a.join(""));return r.hasNameForId(s,l)||r.inject(this.componentId,vI(a,"."+l,void 0,s),l),this.lastClassName=l,l},t.generateName=function(n){return Kw(n)},t}(),TI=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ol,r=n?t.theme===n.theme:!1,i=t.theme&&!r?t.theme:e||n.theme;return i},PL=/[[\].#*$><+~=|^:(),"'`-]+/g,LL=/(^-|-$)/g;function Ig(t){return t.replace(PL,"-").replace(LL,"")}function zd(t){return typeof t=="string"&&!0}function FL(t){return zd(t)?"styled."+t:"Styled("+cI(t)+")"}var Lp,Jw={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDerivedStateFromProps:!0,propTypes:!0,type:!0},$L={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Qw=(Lp={},Lp[Sv.exports.ForwardRef]={$$typeof:!0,render:!0},Lp),BL=Object.defineProperty,VL=Object.getOwnPropertyNames,Yw=Object.getOwnPropertySymbols,zL=Yw===void 0?function(){return[]}:Yw,UL=Object.getOwnPropertyDescriptor,jL=Object.getPrototypeOf,HL=Object.prototype,WL=Array.prototype;function CI(t,e,n){if(typeof e!="string"){var r=jL(e);r&&r!==HL&&CI(t,r,n);for(var i=WL.concat(VL(e),zL(e)),s=Qw[t.$$typeof]||Jw,o=Qw[e.$$typeof]||Jw,a=i.length,l=void 0,u=void 0;a--;)if(u=i[a],!$L[u]&&!(n&&n[u])&&!(o&&o[u])&&!(s&&s[u])&&(l=UL(e,u),l))try{BL(t,u,l)}catch{}return t}return t}function qL(t){return!!(t&&t.prototype&&t.prototype.isReactComponent)}var bg=qe.exports.createContext(),II=bg.Consumer;(function(t){$u(e,t);function e(n){fi(this,e);var r=pa(this,t.call(this,n));return r.getContext=aI(r.getContext.bind(r)),r.renderInner=r.renderInner.bind(r),r}return e.prototype.render=function(){return this.props.children?Te.createElement(bg.Consumer,null,this.renderInner):null},e.prototype.renderInner=function(r){var i=this.getContext(this.props.theme,r);return Te.createElement(bg.Provider,{value:i},this.props.children)},e.prototype.getTheme=function(r,i){if(ui(r)){var s=r(i);return s}if(r===null||Array.isArray(r)||(typeof r>"u"?"undefined":uI(r))!=="object")throw new cs(8);return Nn({},i,r)},e.prototype.getContext=function(r,i){return this.getTheme(r,i)},e})(qe.exports.Component);var bI=qe.exports.createContext(),xI=bI.Consumer;(function(t){$u(e,t);function e(n){fi(this,e);var r=pa(this,t.call(this,n));return r.getContext=aI(r.getContext),r}return e.prototype.getContext=function(r,i){if(r)return r;if(i)return new Qs(i);throw new cs(4)},e.prototype.render=function(){var r=this.props,i=r.children,s=r.sheet,o=r.target;return Te.createElement(bI.Provider,{value:this.getContext(s,o)},i)},e})(qe.exports.Component);var Xw={};function KL(t,e,n){var r=typeof e!="string"?"sc":Ig(e),i=(Xw[r]||0)+1;Xw[r]=i;var s=r+"-"+t.generateName(r+i);return n?n+"-"+s:s}var GL=function(t){$u(e,t);function e(){fi(this,e);var n=pa(this,t.call(this));return n.attrs={},n.renderOuter=n.renderOuter.bind(n),n.renderInner=n.renderInner.bind(n),n}return e.prototype.render=function(){return Te.createElement(xI,null,this.renderOuter)},e.prototype.renderOuter=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qs.master;return this.styleSheet=r,this.props.forwardedComponent.componentStyle.isStatic?this.renderInner():Te.createElement(II,null,this.renderInner)},e.prototype.renderInner=function(r){var i=this.props.forwardedComponent,s=i.componentStyle,o=i.defaultProps;i.displayName;var a=i.foldedComponentIds,l=i.styledComponentId,u=i.target,c=void 0;s.isStatic?c=this.generateAndInjectStyles(Ol,this.props):c=this.generateAndInjectStyles(TI(this.props,r,o)||Ol,this.props);var d=this.props.as||this.attrs.as||u,h=zd(d),f={},p=Nn({},this.props,this.attrs),m=void 0;for(m in p)m==="forwardedComponent"||m==="as"||(m==="forwardedRef"?f.ref=p[m]:m==="forwardedAs"?f.as=p[m]:(!h||oL(m))&&(f[m]=p[m]));return this.props.style&&this.attrs.style&&(f.style=Nn({},this.attrs.style,this.props.style)),f.className=Array.prototype.concat(a,l,c!==l?c:null,this.props.className,this.attrs.className).filter(Boolean).join(" "),qe.exports.createElement(d,f)},e.prototype.buildExecutionContext=function(r,i,s){var o=this,a=Nn({},i,{theme:r});return s.length&&(this.attrs={},s.forEach(function(l){var u=l,c=!1,d=void 0,h=void 0;ui(u)&&(u=u(a),c=!0);for(h in u)d=u[h],c||ui(d)&&!qL(d)&&!nf(d)&&(d=d(a)),o.attrs[h]=d,a[h]=d})),a},e.prototype.generateAndInjectStyles=function(r,i){var s=i.forwardedComponent,o=s.attrs,a=s.componentStyle;if(s.warnTooManyClasses,a.isStatic&&!o.length)return a.generateAndInjectStyles(Ol,this.styleSheet);var l=a.generateAndInjectStyles(this.buildExecutionContext(r,i,o),this.styleSheet);return l},e}(qe.exports.Component);function AI(t,e,n){var r=nf(t),i=!zd(t),s=e.displayName,o=s===void 0?FL(t):s,a=e.componentId,l=a===void 0?KL(Gw,e.displayName,e.parentComponentId):a,u=e.ParentComponent,c=u===void 0?GL:u,d=e.attrs,h=d===void 0?$d:d,f=e.displayName&&e.componentId?Ig(e.displayName)+"-"+e.componentId:e.componentId||l,p=r&&t.attrs?Array.prototype.concat(t.attrs,h).filter(Boolean):h,m=new Gw(r?t.componentStyle.rules.concat(n):n,p,f),S=void 0,y=function(v,k){return Te.createElement(c,Nn({},v,{forwardedComponent:S,forwardedRef:k}))};return y.displayName=o,S=Te.forwardRef(y),S.displayName=o,S.attrs=p,S.componentStyle=m,S.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):$d,S.styledComponentId=f,S.target=r?t.target:t,S.withComponent=function(v){var k=e.componentId,b=uL(e,["componentId"]),_=k&&k+"-"+(zd(v)?v:Ig(cI(v))),O=Nn({},b,{attrs:p,componentId:_,ParentComponent:c});return AI(v,O,n)},Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(v){this._foldedDefaultProps=r?aL(t.defaultProps,v):v}}),S.toString=function(){return"."+S.styledComponentId},i&&CI(S,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,styledComponentId:!0,target:!0,withComponent:!0}),S}var JL=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xg=function(e){return Cg(AI,e)};JL.forEach(function(t){xg[t]=xg(t)});var QL=function(){function t(e,n){fi(this,t),this.rules=e,this.componentId=n,this.isStatic=Dv(e,$d),Qs.master.hasId(n)||Qs.master.deferredInject(n,[])}return t.prototype.createStyles=function(n,r){var i=ma(this.rules,n,r),s=vI(i,"");r.inject(this.componentId,s)},t.prototype.removeStyles=function(n){var r=this.componentId;n.hasId(r)&&n.remove(r)},t.prototype.renderStyles=function(n,r){this.removeStyles(r),this.createStyles(n,r)},t}();Js&&(window.scCGSHMRCache={});function YL(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=kI.apply(void 0,[t].concat(n)),s="sc-global-"+EI(JSON.stringify(i)),o=new QL(i,s),a=function(l){$u(u,l);function u(c){fi(this,u);var d=pa(this,l.call(this,c)),h=d.constructor,f=h.globalStyle,p=h.styledComponentId;return Js&&(window.scCGSHMRCache[p]=(window.scCGSHMRCache[p]||0)+1),d.state={globalStyle:f,styledComponentId:p},d}return u.prototype.componentWillUnmount=function(){window.scCGSHMRCache[this.state.styledComponentId]&&(window.scCGSHMRCache[this.state.styledComponentId]-=1),window.scCGSHMRCache[this.state.styledComponentId]===0&&this.state.globalStyle.removeStyles(this.styleSheet)},u.prototype.render=function(){var d=this;return Te.createElement(xI,null,function(h){d.styleSheet=h||Qs.master;var f=d.state.globalStyle;return f.isStatic?(f.renderStyles(hL,d.styleSheet),null):Te.createElement(II,null,function(p){var m=d.constructor.defaultProps,S=Nn({},d.props);return typeof p<"u"&&(S.theme=TI(d.props,p,m)),f.renderStyles(S,d.styleSheet),null})})},u}(Te.Component);return a.globalStyle=o,a.styledComponentId=s,a}const Fn=xg;var XL="firebase",ZL="9.15.0";Kn(XL,ZL,"app");const NI="@firebase/installations",Rv="0.6.0";const OI=1e4,MI=`w:${Rv}`,_I="FIS_v2",eF="https://firebaseinstallations.googleapis.com/v1",tF=60*60*1e3,nF="installations",rF="Installations";const iF={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Ys=new lo(nF,rF,iF);function DI(t){return t instanceof wr&&t.code.includes("request-failed")}function RI({projectId:t}){return`${eF}/projects/${t}/installations`}function PI(t){return{token:t.token,requestStatus:2,expiresIn:oF(t.expiresIn),creationTime:Date.now()}}async function LI(t,e){const r=(await e.json()).error;return Ys.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function FI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sF(t,{refreshToken:e}){const n=FI(t);return n.append("Authorization",aF(e)),n}async function $I(t){const e=await t();return e.status>=500&&e.status<600?t():e}function oF(t){return Number(t.replace("s","000"))}function aF(t){return`${_I} ${t}`}async function lF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=RI(t),i=FI(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:_I,appId:t.appId,sdkVersion:MI},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await $I(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:PI(u.authToken)}}else throw await LI("Create Installation",l)}function BI(t){return new Promise(e=>{setTimeout(e,t)})}function uF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const cF=/^[cdef][\w-]{21}$/,Ag="";function dF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=hF(t);return cF.test(n)?n:Ag}catch{return Ag}}function hF(t){return uF(t).substr(0,22)}function sf(t){return`${t.appName}!${t.appId}`}const VI=new Map;function zI(t,e){const n=sf(t);UI(n,e),fF(n,e)}function UI(t,e){const n=VI.get(t);if(n)for(const r of n)r(e)}function fF(t,e){const n=pF();n&&n.postMessage({key:t,fid:e}),mF()}let bs=null;function pF(){return!bs&&"BroadcastChannel"in self&&(bs=new BroadcastChannel("[Firebase] FID Change"),bs.onmessage=t=>{UI(t.data.key,t.data.fid)}),bs}function mF(){VI.size===0&&bs&&(bs.close(),bs=null)}const gF="firebase-installations-database",yF=1,Xs="firebase-installations-store";let Fp=null;function Pv(){return Fp||(Fp=TC(gF,yF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Xs)}}})),Fp}async function Ud(t,e){const n=sf(t),i=(await Pv()).transaction(Xs,"readwrite"),s=i.objectStore(Xs),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&zI(t,e.fid),e}async function jI(t){const e=sf(t),r=(await Pv()).transaction(Xs,"readwrite");await r.objectStore(Xs).delete(e),await r.done}async function of(t,e){const n=sf(t),i=(await Pv()).transaction(Xs,"readwrite"),s=i.objectStore(Xs),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&zI(t,a.fid),a}async function Lv(t){let e;const n=await of(t.appConfig,r=>{const i=vF(r),s=wF(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Ag?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function vF(t){const e=t||{fid:dF(),registrationStatus:0};return HI(e)}function wF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ys.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=SF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kF(t)}:{installationEntry:e}}async function SF(t,e){try{const n=await lF(t,e);return Ud(t.appConfig,n)}catch(n){throw DI(n)&&n.customData.serverCode===409?await jI(t.appConfig):await Ud(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function kF(t){let e=await Zw(t.appConfig);for(;e.registrationStatus===1;)await BI(100),e=await Zw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Lv(t);return r||n}return e}function Zw(t){return of(t,e=>{if(!e)throw Ys.create("installation-not-found");return HI(e)})}function HI(t){return EF(t)?{fid:t.fid,registrationStatus:0}:t}function EF(t){return t.registrationStatus===1&&t.registrationTime+OI<Date.now()}async function TF({appConfig:t,heartbeatServiceProvider:e},n){const r=CF(t,n),i=sF(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:MI,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await $I(()=>fetch(r,a));if(l.ok){const u=await l.json();return PI(u)}else throw await LI("Generate Auth Token",l)}function CF(t,{fid:e}){return`${RI(t)}/${e}/authTokens:generate`}async function Fv(t,e=!1){let n;const r=await of(t.appConfig,s=>{if(!WI(s))throw Ys.create("not-registered");const o=s.authToken;if(!e&&xF(o))return s;if(o.requestStatus===1)return n=IF(t,e),s;{if(!navigator.onLine)throw Ys.create("app-offline");const a=NF(s);return n=bF(t,a),a}});return n?await n:r.authToken}async function IF(t,e){let n=await eS(t.appConfig);for(;n.authToken.requestStatus===1;)await BI(100),n=await eS(t.appConfig);const r=n.authToken;return r.requestStatus===0?Fv(t,e):r}function eS(t){return of(t,e=>{if(!WI(e))throw Ys.create("not-registered");const n=e.authToken;return OF(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function bF(t,e){try{const n=await TF(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Ud(t.appConfig,r),n}catch(n){if(DI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await jI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ud(t.appConfig,r)}throw n}}function WI(t){return t!==void 0&&t.registrationStatus===2}function xF(t){return t.requestStatus===2&&!AF(t)}function AF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+tF}function NF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function OF(t){return t.requestStatus===1&&t.requestTime+OI<Date.now()}async function MF(t){const e=t,{installationEntry:n,registrationPromise:r}=await Lv(e);return r?r.catch(console.error):Fv(e).catch(console.error),n.fid}async function _F(t,e=!1){const n=t;return await DF(n),(await Fv(n,e)).token}async function DF(t){const{registrationPromise:e}=await Lv(t);e&&await e}function RF(t){if(!t||!t.options)throw $p("App Configuration");if(!t.name)throw $p("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw $p(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function $p(t){return Ys.create("missing-app-config-values",{valueName:t})}const qI="installations",PF="installations-internal",LF=t=>{const e=t.getProvider("app").getImmediate(),n=RF(e),r=uo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},FF=t=>{const e=t.getProvider("app").getImmediate(),n=uo(e,qI).getImmediate();return{getId:()=>MF(n),getToken:i=>_F(n,i)}};function $F(){$r(new gr(qI,LF,"PUBLIC")),$r(new gr(PF,FF,"PRIVATE"))}$F();Kn(NI,Rv);Kn(NI,Rv,"esm2017");const jd="analytics",BF="firebase_id",VF="origin",zF=60*1e3,UF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",KI="https://www.googletagmanager.com/gtag/js";const On=new Bh("@firebase/analytics");function GI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function jF(t,e){const n=document.createElement("script");n.src=`${KI}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function HF(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function WF(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await GI(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){On.error(a)}t("config",i,s)}async function qF(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await GI(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){On.error(s)}}function KF(t,e,n,r){async function i(s,o,a){try{s==="event"?await qF(t,e,n,o,a):s==="config"?await WF(t,e,n,r,o,a):s==="consent"?t("consent","update",a):t("set",o)}catch(l){On.error(l)}}return i}function GF(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=KF(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function JF(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(KI)&&n.src.includes(t))return n;return null}const QF={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},Gn=new lo("analytics","Analytics",QF);const YF=30,XF=1e3;class ZF{constructor(e={},n=XF){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const JI=new ZF;function e$(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function t$(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:e$(r)},s=UF.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Gn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function n$(t,e=JI,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Gn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Gn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new s$;return setTimeout(async()=>{a.abort()},n!==void 0?n:zF),QI({appId:r,apiKey:i,measurementId:s},o,a,e)}async function QI(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=JI){var s;const{appId:o,measurementId:a}=t;try{await r$(r,e)}catch(l){if(a)return On.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await t$(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!i$(u)){if(i.deleteThrottleMetadata(o),a)return On.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?dw(n,i.intervalMillis,YF):dw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),On.debug(`Calling attemptFetch again in ${c} millis`),QI(t,d,r,i)}}function r$(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function i$(t){if(!(t instanceof wr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class s${constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function o$(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}async function a$(){if(yC())try{await vC()}catch(t){return On.warn(Gn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return On.warn(Gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function l$(t,e,n,r,i,s,o){var a;const l=n$(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&On.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>On.error(f)),e.push(l);const u=a$().then(f=>{if(f)return r.getId()}),[c,d]=await Promise.all([l,u]);JF(s)||jF(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[VF]="firebase",h.update=!0,d!=null&&(h[BF]=d),i("config",c.measurementId,h),c.measurementId}class u${constructor(e){this.app=e}_delete(){return delete Ml[this.app.options.appId],Promise.resolve()}}let Ml={},tS=[];const nS={};let Bp="dataLayer",c$="gtag",rS,YI,iS=!1;function d$(){const t=[];if(gC()&&t.push("This is a browser extension environment."),y_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Gn.create("invalid-analytics-context",{errorInfo:e});On.warn(n.message)}}function h$(t,e,n){d$();const r=t.options.appId;if(!r)throw Gn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)On.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gn.create("no-api-key");if(Ml[r]!=null)throw Gn.create("already-exists",{id:r});if(!iS){HF(Bp);const{wrappedGtag:s,gtagCore:o}=GF(Ml,tS,nS,Bp,c$);YI=s,rS=o,iS=!0}return Ml[r]=l$(t,tS,nS,e,rS,Bp,n),new u$(t)}function f$(t=cv()){t=Jt(t);const e=uo(t,jd);return e.isInitialized()?e.getImmediate():p$(t)}function p$(t,e={}){const n=uo(t,jd);if(n.isInitialized()){const i=n.getImmediate();if(iu(e,n.getOptions()))return i;throw Gn.create("already-initialized")}return n.initialize({options:e})}function m$(t,e,n,r){t=Jt(t),o$(YI,Ml[t.app.options.appId],e,n,r).catch(i=>On.error(i))}const sS="@firebase/analytics",oS="0.9.0";function g$(){$r(new gr(jd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return h$(r,i,n)},"PUBLIC")),$r(new gr("analytics-internal",t,"PRIVATE")),Kn(sS,oS),Kn(sS,oS,"esm2017");function t(e){try{const n=e.getProvider(jd).getImmediate();return{logEvent:(r,i,s)=>m$(n,r,i,s)}}catch(n){throw Gn.create("interop-component-reg-failed",{reason:n})}}}g$();var y$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U,$v=$v||{},te=y$||self;function Hd(){}function af(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Bu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function v$(t){return Object.prototype.hasOwnProperty.call(t,Vp)&&t[Vp]||(t[Vp]=++w$)}var Vp="closure_uid_"+(1e9*Math.random()>>>0),w$=0;function S$(t,e,n){return t.call.apply(t.bind,arguments)}function k$(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Wt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wt=S$:Wt=k$,Wt.apply(null,arguments)}function Nc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Pt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ds(){this.s=this.s,this.o=this.o}var E$=0;ds.prototype.s=!1;ds.prototype.na=function(){!this.s&&(this.s=!0,this.M(),E$!=0)&&v$(this)};ds.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Bv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function aS(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(af(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function qt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var T$=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",Hd,e),te.removeEventListener("test",Hd,e)}catch{}return t}();function Wd(t){return/^[\s\xa0]*$/.test(t)}var lS=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function zp(t,e){return t<e?-1:t>e?1:0}function lf(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function xr(t){return lf().indexOf(t)!=-1}function Vv(t){return Vv[" "](t),t}Vv[" "]=Hd;function C$(t){var e=x$;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var I$=xr("Opera"),ga=xr("Trident")||xr("MSIE"),ZI=xr("Edge"),Ng=ZI||ga,eb=xr("Gecko")&&!(lf().toLowerCase().indexOf("webkit")!=-1&&!xr("Edge"))&&!(xr("Trident")||xr("MSIE"))&&!xr("Edge"),b$=lf().toLowerCase().indexOf("webkit")!=-1&&!xr("Edge");function tb(){var t=te.document;return t?t.documentMode:void 0}var qd;e:{var Up="",jp=function(){var t=lf();if(eb)return/rv:([^\);]+)(\)|;)/.exec(t);if(ZI)return/Edge\/([\d\.]+)/.exec(t);if(ga)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(b$)return/WebKit\/(\S+)/.exec(t);if(I$)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(jp&&(Up=jp?jp[1]:""),ga){var Hp=tb();if(Hp!=null&&Hp>parseFloat(Up)){qd=String(Hp);break e}}qd=Up}var x$={};function A$(){return C$(function(){let t=0;const e=lS(String(qd)).split("."),n=lS("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=zp(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||zp(i[2].length==0,s[2].length==0)||zp(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Og;if(te.document&&ga){var uS=tb();Og=uS||parseInt(qd,10)||void 0}else Og=void 0;var N$=Og;function cu(t,e){if(qt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(eb){e:{try{Vv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:O$[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&cu.X.h.call(this)}}Pt(cu,qt);var O$={2:"touch",3:"pen",4:"mouse"};cu.prototype.h=function(){cu.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vu="closure_listenable_"+(1e6*Math.random()|0),M$=0;function _$(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++M$,this.ba=this.ea=!1}function uf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function zv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nb(t){const e={};for(const n in t)e[n]=t[n];return e}const cS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rb(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<cS.length;s++)n=cS[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cf(t){this.src=t,this.g={},this.h=0}cf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=_g(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new _$(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Mg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=XI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(uf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function _g(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Uv="closure_lm_"+(1e6*Math.random()|0),Wp={};function ib(t,e,n,r,i){if(r&&r.once)return ob(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ib(t,e[s],n,r,i);return null}return n=Wv(n),t&&t[Vu]?t.N(e,n,Bu(r)?!!r.capture:!!r,i):sb(t,e,n,!1,r,i)}function sb(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Bu(i)?!!i.capture:!!i,a=Hv(t);if(a||(t[Uv]=a=new cf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=D$(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)T$||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(lb(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function D$(){function t(n){return e.call(t.src,t.listener,n)}const e=R$;return t}function ob(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ob(t,e[s],n,r,i);return null}return n=Wv(n),t&&t[Vu]?t.O(e,n,Bu(r)?!!r.capture:!!r,i):sb(t,e,n,!0,r,i)}function ab(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ab(t,e[s],n,r,i);else r=Bu(r)?!!r.capture:!!r,n=Wv(n),t&&t[Vu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=_g(s,n,r,i),-1<n&&(uf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Hv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_g(e,n,r,i)),(n=-1<t?e[t]:null)&&jv(n))}function jv(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Vu])Mg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(lb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hv(e))?(Mg(n,t),n.h==0&&(n.src=null,e[Uv]=null)):uf(t)}}}function lb(t){return t in Wp?Wp[t]:Wp[t]="on"+t}function R$(t,e){if(t.ba)t=!0;else{e=new cu(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&jv(t),t=n.call(r,e)}return t}function Hv(t){return t=t[Uv],t instanceof cf?t:null}var qp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wv(t){return typeof t=="function"?t:(t[qp]||(t[qp]=function(e){return t.handleEvent(e)}),t[qp])}function St(){ds.call(this),this.i=new cf(this),this.P=this,this.I=null}Pt(St,ds);St.prototype[Vu]=!0;St.prototype.removeEventListener=function(t,e,n,r){ab(this,t,e,n,r)};function _t(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new qt(e,t);else if(e instanceof qt)e.target=e.target||t;else{var i=e;e=new qt(r,t),rb(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Oc(o,r,!0,e)&&i}if(o=e.g=t,i=Oc(o,r,!0,e)&&i,i=Oc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Oc(o,r,!1,e)&&i}St.prototype.M=function(){if(St.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)uf(n[r]);delete t.g[e],t.h--}}this.I=null};St.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};St.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Oc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Mg(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var qv=te.JSON.stringify;function P$(){var t=db;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class L${constructor(){this.h=this.g=null}add(e,n){const r=ub.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var ub=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new F$,t=>t.reset());class F${constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $$(t){te.setTimeout(()=>{throw t},0)}function cb(t,e){Dg||B$(),Rg||(Dg(),Rg=!0),db.add(t,e)}var Dg;function B$(){var t=te.Promise.resolve(void 0);Dg=function(){t.then(V$)}}var Rg=!1,db=new L$;function V$(){for(var t;t=P$();){try{t.h.call(t.g)}catch(n){$$(n)}var e=ub;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rg=!1}function df(t,e){St.call(this),this.h=t||1,this.g=e||te,this.j=Wt(this.lb,this),this.l=Date.now()}Pt(df,St);U=df.prototype;U.ca=!1;U.R=null;U.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),_t(this,"tick"),this.ca&&(Kv(this),this.start()))}};U.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Kv(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}U.M=function(){df.X.M.call(this),Kv(this),delete this.g};function Gv(t,e,n){if(typeof t=="function")n&&(t=Wt(t,n));else if(t&&typeof t.handleEvent=="function")t=Wt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function hb(t){t.g=Gv(()=>{t.g=null,t.i&&(t.i=!1,hb(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class z$ extends ds{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hb(this)}M(){super.M(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function du(t){ds.call(this),this.h=t,this.g={}}Pt(du,ds);var dS=[];function fb(t,e,n,r){Array.isArray(n)||(n&&(dS[0]=n.toString()),n=dS);for(var i=0;i<n.length;i++){var s=ib(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function pb(t){zv(t.g,function(e,n){this.g.hasOwnProperty(n)&&jv(e)},t),t.g={}}du.prototype.M=function(){du.X.M.call(this),pb(this)};du.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function hf(){this.g=!0}hf.prototype.Aa=function(){this.g=!1};function U$(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function j$(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Fo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+W$(t,n)+(r?" "+r:"")})}function H$(t,e){t.info(function(){return"TIMEOUT: "+e})}hf.prototype.info=function(){};function W$(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return qv(n)}catch{return e}}var co={},hS=null;function ff(){return hS=hS||new St}co.Pa="serverreachability";function mb(t){qt.call(this,co.Pa,t)}Pt(mb,qt);function hu(t){const e=ff();_t(e,new mb(e))}co.STAT_EVENT="statevent";function gb(t,e){qt.call(this,co.STAT_EVENT,t),this.stat=e}Pt(gb,qt);function en(t){const e=ff();_t(e,new gb(e,t))}co.Qa="timingevent";function yb(t,e){qt.call(this,co.Qa,t),this.size=e}Pt(yb,qt);function zu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}var pf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},vb={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Jv(){}Jv.prototype.h=null;function fS(t){return t.h||(t.h=t.i())}function wb(){}var Uu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Qv(){qt.call(this,"d")}Pt(Qv,qt);function Yv(){qt.call(this,"c")}Pt(Yv,qt);var Pg;function mf(){}Pt(mf,Jv);mf.prototype.g=function(){return new XMLHttpRequest};mf.prototype.i=function(){return{}};Pg=new mf;function ju(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new du(this),this.O=q$,t=Ng?125:void 0,this.T=new df(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Sb}function Sb(){this.i=null,this.g="",this.h=!1}var q$=45e3,Lg={},Kd={};U=ju.prototype;U.setTimeout=function(t){this.O=t};function Fg(t,e,n){t.K=1,t.v=yf(ci(e)),t.s=n,t.P=!0,kb(t,null)}function kb(t,e){t.F=Date.now(),Hu(t),t.A=ci(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),Nb(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Sb,t.g=Qb(t.l,n?e:null,!t.s),0<t.N&&(t.L=new z$(Wt(t.La,t,t.g),t.N)),fb(t.S,t.g,"readystatechange",t.ib),e=t.H?nb(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),hu(),U$(t.j,t.u,t.A,t.m,t.U,t.s)}U.ib=function(t){t=t.target;const e=this.L;e&&Xr(t)==3?e.l():this.La(t)};U.La=function(t){try{if(t==this.g)e:{const c=Xr(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||Ng||this.g&&(this.h.h||this.g.fa()||yS(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?hu(3):hu(2)),gf(this);var n=this.g.aa();this.Y=n;t:if(Eb(this)){var r=yS(this.g);t="";var i=r.length,s=Xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xs(this),_l(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,j$(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wd(a)){var u=a;break t}}u=null}if(n=u)Fo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$g(this,n);else{this.i=!1,this.o=3,en(12),xs(this),_l(this);break e}}this.P?(Tb(this,c,o),Ng&&this.i&&c==3&&(fb(this.S,this.T,"tick",this.hb),this.T.start())):(Fo(this.j,this.m,o,null),$g(this,o)),c==4&&xs(this),this.i&&!this.I&&(c==4?qb(this.l,this):(this.i=!1,Hu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,en(12)):(this.o=0,en(13)),xs(this),_l(this)}}}catch{}finally{}};function Eb(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Tb(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=K$(t,n),i==Kd){e==4&&(t.o=4,en(14),r=!1),Fo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Lg){t.o=4,en(15),Fo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Fo(t.j,t.m,i,null),$g(t,i);Eb(t)&&i!=Kd&&i!=Lg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,en(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),i0(e),e.K=!0,en(11))):(Fo(t.j,t.m,n,"[Invalid Chunked Response]"),xs(t),_l(t))}U.hb=function(){if(this.g){var t=Xr(this.g),e=this.g.fa();this.C<e.length&&(gf(this),Tb(this,t,e),this.i&&t!=4&&Hu(this))}};function K$(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Kd:(n=Number(e.substring(n,r)),isNaN(n)?Lg:(r+=1,r+n>e.length?Kd:(e=e.substr(r,n),t.C=r+n,e)))}U.cancel=function(){this.I=!0,xs(this)};function Hu(t){t.V=Date.now()+t.O,Cb(t,t.O)}function Cb(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=zu(Wt(t.gb,t),e)}function gf(t){t.B&&(te.clearTimeout(t.B),t.B=null)}U.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(H$(this.j,this.A),this.K!=2&&(hu(),en(17)),xs(this),this.o=2,_l(this)):Cb(this,this.V-t)};function _l(t){t.l.G==0||t.I||qb(t.l,t)}function xs(t){gf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Kv(t.T),pb(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function $g(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Bg(n.h,t))){if(!t.J&&Bg(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Qd(n),Sf(n);else break e;r0(n),en(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=zu(Wt(n.cb,n),6e3));if(1>=_b(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else As(n,11)}else if((t.J||n.g==t)&&Qd(n),!Wd(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Xv(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,je(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=Jb(r,r.H?r.ka:null,r.V),o.J){Db(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(gf(a),Hu(a)),r.g=o}else Hb(r);0<n.i.length&&kf(n)}else u[0]!="stop"&&u[0]!="close"||As(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?As(n,7):n0(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}hu(4)}catch{}}function G$(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(af(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function J$(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(af(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Ib(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(af(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=J$(t),r=G$(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var bb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Q$(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ls(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ls){this.h=e!==void 0?e:t.h,Gd(this,t.j),this.s=t.s,this.g=t.g,Jd(this,t.m),this.l=t.l,e=t.i;var n=new fu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pS(this,n),this.o=t.o}else t&&(n=String(t).match(bb))?(this.h=!!e,Gd(this,n[1]||"",!0),this.s=ml(n[2]||""),this.g=ml(n[3]||"",!0),Jd(this,n[4]),this.l=ml(n[5]||"",!0),pS(this,n[6]||"",!0),this.o=ml(n[7]||"")):(this.h=!!e,this.i=new fu(null,this.h))}Ls.prototype.toString=function(){var t=[],e=this.j;e&&t.push(gl(e,mS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(gl(e,mS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(gl(n,n.charAt(0)=="/"?Z$:X$,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",gl(n,t2)),t.join("")};function ci(t){return new Ls(t)}function Gd(t,e,n){t.j=n?ml(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function pS(t,e,n){e instanceof fu?(t.i=e,n2(t.i,t.h)):(n||(e=gl(e,e2)),t.i=new fu(e,t.h))}function je(t,e,n){t.i.set(e,n)}function yf(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ml(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Y$),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Y$(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var mS=/[#\/\?@]/g,X$=/[#\?:]/g,Z$=/[#\?]/g,e2=/[#\?@]/g,t2=/#/g;function fu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function hs(t){t.g||(t.g=new Map,t.h=0,t.i&&Q$(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}U=fu.prototype;U.add=function(t,e){hs(this),this.i=null,t=Pa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function xb(t,e){hs(t),e=Pa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ab(t,e){return hs(t),e=Pa(t,e),t.g.has(e)}U.forEach=function(t,e){hs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};U.oa=function(){hs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};U.W=function(t){hs(this);let e=[];if(typeof t=="string")Ab(this,t)&&(e=e.concat(this.g.get(Pa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};U.set=function(t,e){return hs(this),this.i=null,t=Pa(this,t),Ab(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};U.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function Nb(t,e,n){xb(t,e),0<n.length&&(t.i=null,t.g.set(Pa(t,e),Bv(n)),t.h+=n.length)}U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Pa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function n2(t,e){e&&!t.j&&(hs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(xb(this,r),Nb(this,i,n))},t)),t.j=e}var r2=class{constructor(e,n){this.h=e,this.g=n}};function Ob(t){this.l=t||i2,te.PerformanceNavigationTiming?(t=te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(te.g&&te.g.Ga&&te.g.Ga()&&te.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var i2=10;function Mb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function _b(t){return t.h?1:t.g?t.g.size:0}function Bg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Xv(t,e){t.g?t.g.add(e):t.h=e}function Db(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Ob.prototype.cancel=function(){if(this.i=Rb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Rb(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Bv(t.i)}function Zv(){}Zv.prototype.stringify=function(t){return te.JSON.stringify(t,void 0)};Zv.prototype.parse=function(t){return te.JSON.parse(t,void 0)};function s2(){this.g=new Zv}function o2(t,e,n){const r=n||"";try{Ib(t,function(i,s){let o=i;Bu(i)&&(o=qv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function a2(t,e){const n=new hf;if(te.Image){const r=new Image;r.onload=Nc(Mc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Nc(Mc,n,r,"TestLoadImage: error",!1,e),r.onabort=Nc(Mc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nc(Mc,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Mc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Wu(t){this.l=t.ac||null,this.j=t.jb||!1}Pt(Wu,Jv);Wu.prototype.g=function(){return new vf(this.l,this.j)};Wu.prototype.i=function(t){return function(){return t}}({});function vf(t,e){St.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=e0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pt(vf,St);var e0=0;U=vf.prototype;U.open=function(t,e){if(this.readyState!=e0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,pu(this)};U.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||te).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qu(this)),this.readyState=e0};U.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,pu(this)),this.g&&(this.readyState=3,pu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pb(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function Pb(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}U.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?qu(this):pu(this),this.readyState==3&&Pb(this)}};U.Va=function(t){this.g&&(this.response=this.responseText=t,qu(this))};U.Ua=function(t){this.g&&(this.response=t,qu(this))};U.ga=function(){this.g&&qu(this)};function qu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,pu(t)}U.setRequestHeader=function(t,e){this.v.append(t,e)};U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function pu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(vf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var l2=te.JSON.parse;function Ze(t){St.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Lb,this.K=this.L=!1}Pt(Ze,St);var Lb="",u2=/^https?$/i,c2=["POST","PUT"];U=Ze.prototype;U.Ka=function(t){this.L=t};U.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pg.g(),this.C=this.u?fS(this.u):fS(Pg),this.g.onreadystatechange=Wt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){gS(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=te.FormData&&t instanceof te.FormData,!(0<=XI(c2,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bb(this),0<this.B&&((this.K=d2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.qa,this)):this.A=Gv(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){gS(this,s)}};function d2(t){return ga&&A$()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}U.qa=function(){typeof $v<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_t(this,"timeout"),this.abort(8))};function gS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Fb(t),wf(t)}function Fb(t){t.D||(t.D=!0,_t(t,"complete"),_t(t,"error"))}U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,_t(this,"complete"),_t(this,"abort"),wf(this))};U.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wf(this,!0)),Ze.X.M.call(this)};U.Ha=function(){this.s||(this.F||this.v||this.l?$b(this):this.fb())};U.fb=function(){$b(this)};function $b(t){if(t.h&&typeof $v<"u"&&(!t.C[1]||Xr(t)!=4||t.aa()!=2)){if(t.v&&Xr(t)==4)Gv(t.Ha,0,t);else if(_t(t,"readystatechange"),Xr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(bb)[1]||null;if(!i&&te.self&&te.self.location){var s=te.self.location.protocol;i=s.substr(0,s.length-1)}r=!u2.test(i?i.toLowerCase():"")}n=r}if(n)_t(t,"complete"),_t(t,"success");else{t.m=6;try{var o=2<Xr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",Fb(t)}}finally{wf(t)}}}}function wf(t,e){if(t.g){Bb(t);const n=t.g,r=t.C[0]?Hd:null;t.g=null,t.C=null,e||_t(t,"ready");try{n.onreadystatechange=r}catch{}}}function Bb(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}function Xr(t){return t.g?t.g.readyState:0}U.aa=function(){try{return 2<Xr(this)?this.g.status:-1}catch{return-1}};U.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),l2(e)}};function yS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Lb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}U.Ea=function(){return this.m};U.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Vb(t){let e="";return zv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function t0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):je(t,e,n))}function il(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zb(t){this.Ca=0,this.i=[],this.j=new hf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=il("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=il("baseRetryDelayMs",5e3,t),this.bb=il("retryDelaySeedMs",1e4,t),this.$a=il("forwardChannelMaxRetries",2,t),this.ta=il("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Ob(t&&t.concurrentRequestLimit),this.Fa=new s2,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}U=zb.prototype;U.ma=8;U.G=1;function n0(t){if(Ub(t),t.G==3){var e=t.U++,n=ci(t.F);je(n,"SID",t.I),je(n,"RID",e),je(n,"TYPE","terminate"),Ku(t,n),e=new ju(t,t.j,e,void 0),e.K=2,e.v=yf(ci(n)),n=!1,te.navigator&&te.navigator.sendBeacon&&(n=te.navigator.sendBeacon(e.v.toString(),"")),!n&&te.Image&&(new Image().src=e.v,n=!0),n||(e.g=Qb(e.l,null),e.g.da(e.v)),e.F=Date.now(),Hu(e)}Gb(t)}function Sf(t){t.g&&(i0(t),t.g.cancel(),t.g=null)}function Ub(t){Sf(t),t.u&&(te.clearTimeout(t.u),t.u=null),Qd(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&te.clearTimeout(t.m),t.m=null)}function kf(t){Mb(t.h)||t.m||(t.m=!0,cb(t.Ja,t),t.C=0)}function h2(t,e){return _b(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=zu(Wt(t.Ja,t,e),Kb(t,t.C)),t.C++,!0)}U.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new ju(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=nb(s),rb(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=jb(this,i,e),n=ci(this.F),je(n,"RID",t),je(n,"CVER",22),this.D&&je(n,"X-HTTP-Session-Id",this.D),Ku(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(Vb(s)))+"&"+e:this.o&&t0(n,this.o,s)),Xv(this.h,i),this.Ya&&je(n,"TYPE","init"),this.O?(je(n,"$req",e),je(n,"SID","null"),i.Z=!0,Fg(i,n,null)):Fg(i,n,e),this.G=2}}else this.G==3&&(t?vS(this,t):this.i.length==0||Mb(this.h)||vS(this))};function vS(t,e){var n;e?n=e.m:n=t.U++;const r=ci(t.F);je(r,"SID",t.I),je(r,"RID",n),je(r,"AID",t.T),Ku(t,r),t.o&&t.s&&t0(r,t.o,t.s),n=new ju(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=jb(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Xv(t.h,n),Fg(n,r,e)}function Ku(t,e){t.ia&&zv(t.ia,function(n,r){je(e,r,n)}),t.l&&Ib({},function(n,r){je(e,r,n)})}function jb(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Wt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{o2(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function Hb(t){t.g||t.u||(t.Z=1,cb(t.Ia,t),t.A=0)}function r0(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=zu(Wt(t.Ia,t),Kb(t,t.A)),t.A++,!0)}U.Ia=function(){if(this.u=null,Wb(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=zu(Wt(this.eb,this),t)}};U.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,en(10),Sf(this),Wb(this))};function i0(t){t.B!=null&&(te.clearTimeout(t.B),t.B=null)}function Wb(t){t.g=new ju(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=ci(t.sa);je(e,"RID","rpc"),je(e,"SID",t.I),je(e,"CI",t.L?"0":"1"),je(e,"AID",t.T),je(e,"TYPE","xmlhttp"),Ku(t,e),t.o&&t.s&&t0(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=yf(ci(e)),n.s=null,n.P=!0,kb(n,t)}U.cb=function(){this.v!=null&&(this.v=null,Sf(this),r0(this),en(19))};function Qd(t){t.v!=null&&(te.clearTimeout(t.v),t.v=null)}function qb(t,e){var n=null;if(t.g==e){Qd(t),i0(t),t.g=null;var r=2}else if(Bg(t.h,e))n=e.D,Db(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=ff(),_t(r,new yb(r,n)),kf(t)}else Hb(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&h2(t,e)||r==2&&r0(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:As(t,5);break;case 4:As(t,10);break;case 3:As(t,6);break;default:As(t,2)}}}function Kb(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function As(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Wt(t.kb,t);n||(n=new Ls("//www.google.com/images/cleardot.gif"),te.location&&te.location.protocol=="http"||Gd(n,"https"),yf(n)),a2(n.toString(),r)}else en(2);t.G=0,t.l&&t.l.va(e),Gb(t),Ub(t)}U.kb=function(t){t?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function Gb(t){if(t.G=0,t.la=[],t.l){const e=Rb(t.h);(e.length!=0||t.i.length!=0)&&(aS(t.la,e),aS(t.la,t.i),t.h.i.length=0,Bv(t.i),t.i.length=0),t.l.ua()}}function Jb(t,e,n){var r=n instanceof Ls?ci(n):new Ls(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Jd(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ls(null,void 0);r&&Gd(s,r),e&&(s.g=e),i&&Jd(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&je(r,n,e),je(r,"VER",t.ma),Ku(t,r),r}function Qb(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ze(new Wu({jb:!0})):new Ze(t.ra),e.Ka(t.H),e}function Yb(){}U=Yb.prototype;U.xa=function(){};U.wa=function(){};U.va=function(){};U.ua=function(){};U.Ra=function(){};function Yd(){if(ga&&!(10<=Number(N$)))throw Error("Environmental error: no available transport.")}Yd.prototype.g=function(t,e){return new _n(t,e)};function _n(t,e){St.call(this),this.g=new zb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Wd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wd(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new La(this)}Pt(_n,St);_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;en(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Jb(t,null,t.V),kf(t)};_n.prototype.close=function(){n0(this.g)};_n.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=qv(t),t=n);e.i.push(new r2(e.ab++,t)),e.G==3&&kf(e)};_n.prototype.M=function(){this.g.l=null,delete this.j,n0(this.g),delete this.g,_n.X.M.call(this)};function Xb(t){Qv.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Pt(Xb,Qv);function Zb(){Yv.call(this),this.status=1}Pt(Zb,Yv);function La(t){this.g=t}Pt(La,Yb);La.prototype.xa=function(){_t(this.g,"a")};La.prototype.wa=function(t){_t(this.g,new Xb(t))};La.prototype.va=function(t){_t(this.g,new Zb)};La.prototype.ua=function(){_t(this.g,"b")};Yd.prototype.createWebChannel=Yd.prototype.g;_n.prototype.send=_n.prototype.u;_n.prototype.open=_n.prototype.m;_n.prototype.close=_n.prototype.close;pf.NO_ERROR=0;pf.TIMEOUT=8;pf.HTTP_ERROR=6;vb.COMPLETE="complete";wb.EventType=Uu;Uu.OPEN="a";Uu.CLOSE="b";Uu.ERROR="c";Uu.MESSAGE="d";St.prototype.listen=St.prototype.N;Ze.prototype.listenOnce=Ze.prototype.O;Ze.prototype.getLastError=Ze.prototype.Oa;Ze.prototype.getLastErrorCode=Ze.prototype.Ea;Ze.prototype.getStatus=Ze.prototype.aa;Ze.prototype.getResponseJson=Ze.prototype.Sa;Ze.prototype.getResponseText=Ze.prototype.fa;Ze.prototype.send=Ze.prototype.da;Ze.prototype.setWithCredentials=Ze.prototype.Ka;var f2=function(){return new Yd},p2=function(){return ff()},Kp=pf,m2=vb,g2=co,wS={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},y2=Wu,_c=wb,v2=Ze;const SS="@firebase/firestore";class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");let Fa="9.15.0";const Zs=new Bh("@firebase/firestore");function kS(){return Zs.logLevel}function Q(t,...e){if(Zs.logLevel<=Ce.DEBUG){const n=e.map(s0);Zs.debug(`Firestore (${Fa}): ${t}`,...n)}}function eo(t,...e){if(Zs.logLevel<=Ce.ERROR){const n=e.map(s0);Zs.error(`Firestore (${Fa}): ${t}`,...n)}}function Vg(t,...e){if(Zs.logLevel<=Ce.WARN){const n=e.map(s0);Zs.warn(`Firestore (${Fa}): ${t}`,...n)}}function s0(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}function me(t="Unexpected state"){const e=`FIRESTORE (${Fa}) INTERNAL ASSERTION FAILED: `+t;throw eo(e),new Error(e)}function ht(t,e){t||me()}function Be(t,e){return t}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ex{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class S2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class k2{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string"),new ex(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string"),new Vt(e)}}class E2{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ht(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class T2{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new E2(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I2{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string"),this.A=n.token,new C2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function b2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class tx{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=b2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function ya(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class He{constructor(e){this.timestamp=e}static fromTimestamp(e){return new He(e)}static min(){return new He(new vt(0,0))}static max(){return new He(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mu{constructor(e,n,r){n===void 0?n=0:n>e.length&&me(),r===void 0?r=e.length-n:r>e.length-n&&me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends mu{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const x2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends mu{construct(e,n,r){return new Ht(e,n,r)}static isValidIdentifier(e){return x2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new re(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new re(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new re(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Xe.fromString(e))}static fromName(e){return new ue(Xe.fromString(e).popFirst(5))}static empty(){return new ue(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Xe(e.slice()))}}function A2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new es(i,ue.empty(),e)}function N2(t){return new es(t.readTime,t.key,-1)}class es{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new es(He.min(),ue.empty(),-1)}static max(){return new es(He.max(),ue.empty(),-1)}}function O2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}const M2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function nx(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==M2)throw t;Q("LocalStore","Unexpectedly lost primary lease")}class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ef(t){return t.name==="IndexedDbTransactionError"}class rx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}rx.at=-1;class D2{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Xd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Xd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Xd&&e.projectId===this.projectId&&e.database===this.database}}function ES(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ix(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function o0(t){return t==null}function Zd(t){return t===0&&1/t==-1/0}function R2(t){return typeof t=="number"&&Number.isInteger(t)&&!Zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class di{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new di(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new di(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}di.EMPTY_BYTE_STRING=new di("");const P2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(t){if(ht(!!t),typeof t=="string"){let e=0;const n=P2.exec(t);if(ht(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gu(t){return typeof t=="string"?di.fromBase64String(t):di.fromUint8Array(t)}function L2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function eh(t){const e=to(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}const Dc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function va(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?L2(t)?4:F2(t)?9007199254740991:10:me()}function Br(t,e){if(t===e)return!0;const n=va(t);if(n!==va(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eh(t).isEqual(eh(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=to(r.timestampValue),o=to(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return gu(r.bytesValue).isEqual(gu(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return At(r.geoPointValue.latitude)===At(i.geoPointValue.latitude)&&At(r.geoPointValue.longitude)===At(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return At(r.integerValue)===At(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=At(r.doubleValue),o=At(i.doubleValue);return s===o?Zd(s)===Zd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ya(t.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(ES(s)!==ES(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Br(s[a],o[a])))return!1;return!0}(t,e);default:return me()}}function yu(t,e){return(t.values||[]).find(n=>Br(n,e))!==void 0}function wa(t,e){if(t===e)return 0;const n=va(t),r=va(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=At(i.integerValue||i.doubleValue),a=At(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return TS(t.timestampValue,e.timestampValue);case 4:return TS(eh(t),eh(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,s){const o=gu(i),a=gu(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Re(o[l],a[l]);if(u!==0)return u}return Re(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Re(At(i.latitude),At(s.latitude));return o!==0?o:Re(At(i.longitude),At(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=wa(o[l],a[l]);if(u)return u}return Re(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Dc.mapValue&&s===Dc.mapValue)return 0;if(i===Dc.mapValue)return 1;if(s===Dc.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Re(a[c],u[c]);if(d!==0)return d;const h=wa(o[a[c]],l[u[c]]);if(h!==0)return h}return Re(a.length,u.length)}(t.mapValue,e.mapValue);default:throw me()}}function TS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=to(t),r=to(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function Sa(t){return zg(t)}function zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=to(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?gu(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ue.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=zg(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${zg(r.fields[a])}`;return s+"}"}(t.mapValue):me();var e,n}function Ug(t){return!!t&&"integerValue"in t}function a0(t){return!!t&&"arrayValue"in t}function nd(t){return!!t&&"mapValue"in t}function Dl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Dl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function F2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class th{constructor(e,n){this.position=e,this.inclusive=n}}function CS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=wa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function IS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Br(t.position[n],e.position[n]))return!1;return!0}class sx{}class gt extends sx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new V2(e,n,r):n==="array-contains"?new j2(e,r):n==="in"?new H2(e,r):n==="not-in"?new W2(e,r):n==="array-contains-any"?new q2(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new z2(e,r):new U2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wa(n,this.value)):n!==null&&va(this.value)===va(n)&&this.matchesComparison(wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ts extends sx{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new ts(e,n)}matches(e){return ox(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ox(t){return t.op==="and"}function $2(t){return B2(t)&&ox(t)}function B2(t){for(const e of t.filters)if(e instanceof ts)return!1;return!0}function ax(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+Sa(t.value);{const e=t.filters.map(n=>ax(n)).join(",");return`${t.op}(${e})`}}function lx(t,e){return t instanceof gt?function(n,r){return r instanceof gt&&n.op===r.op&&n.field.isEqual(r.field)&&Br(n.value,r.value)}(t,e):t instanceof ts?function(n,r){return r instanceof ts&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&lx(s,r.filters[o]),!0):!1}(t,e):void me()}function ux(t){return t instanceof gt?function(e){return`${e.field.canonicalString()} ${e.op} ${Sa(e.value)}`}(t):t instanceof ts?function(e){return e.op.toString()+" {"+e.getFilters().map(ux).join(" ,")+"}"}(t):"Filter"}class V2 extends gt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class z2 extends gt{constructor(e,n){super(e,"in",n),this.keys=cx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class U2 extends gt{constructor(e,n){super(e,"not-in",n),this.keys=cx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class j2 extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a0(n)&&yu(n.arrayValue,this.value)}}class H2 extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class W2 extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yu(this.value.arrayValue,n)}}class q2 extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yu(this.value.arrayValue,r))}}class Rl{constructor(e,n="asc"){this.field=e,this.dir=n}}function K2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class kn{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new kn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=s??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Nt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new kn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bS(this.data.getIterator())}getIteratorFrom(e){return new bS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class bS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fr{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Fr([])}unionWith(e){let n=new nn(Ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(n)}setAll(e){let n=Ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Dl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ar(Dl(this.value))}}function dx(t){const e=[];return Gu(t.fields,(n,r)=>{const i=new Ht([n]);if(nd(r)){const s=dx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fr(e)}class or{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new or(e,0,He.min(),He.min(),He.min(),ar.empty(),0)}static newFoundDocument(e,n,r,i){return new or(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new or(e,2,n,He.min(),He.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new or(e,3,n,He.min(),He.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class G2{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function xS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new G2(t,e,n,r,i,s,o)}function l0(t){const e=Be(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ax(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),o0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sa(r)).join(",")),e.ft=n}return e.ft}function u0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!IS(t.startAt,e.startAt)&&IS(t.endAt,e.endAt)}class Tf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function J2(t,e,n,r,i,s,o,a){return new Tf(t,e,n,r,i,s,o,a)}function Q2(t){return new Tf(t)}function AS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Y2(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function X2(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Z2(t){return t.collectionGroup!==null}function Xo(t){const e=Be(t);if(e.dt===null){e.dt=[];const n=X2(e),r=Y2(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Rl(n)),e.dt.push(new Rl(Ht.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Rl(Ht.keyField(),s))}}}return e.dt}function ka(t){const e=Be(t);if(!e._t)if(e.limitType==="F")e._t=xS(e.path,e.collectionGroup,Xo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Xo(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Rl(s.field,o))}const r=e.endAt?new th(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new th(e.startAt.position,e.startAt.inclusive):null;e._t=xS(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function jg(t,e,n){return new Tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hx(t,e){return u0(ka(t),ka(e))&&t.limitType===e.limitType}function fx(t){return`${l0(ka(t))}|lt:${t.limitType}`}function NS(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>ux(r)).join(", ")}]`),o0(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sa(r)).join(",")),`Target(${n})`}(ka(t))}; limitType=${t.limitType})`}function px(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ue.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Xo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=CS(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Xo(n),r)||n.endAt&&!function(i,s,o){const a=CS(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Xo(n),r))}(t,e)}function eB(t){return(e,n)=>{let r=!1;for(const i of Xo(t)){const s=tB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function tB(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?wa(a,l):me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}function mx(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function gx(t){return{integerValue:""+t}}function nB(t,e){return R2(e)?gx(e):mx(t,e)}class Cf{constructor(){this._=void 0}}function rB(t,e,n){return t instanceof vu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof wu?vx(t,e):t instanceof Su?wx(t,e):function(r,i){const s=yx(r,i),o=OS(s)+OS(r.gt);return Ug(s)&&Ug(r.gt)?gx(o):mx(r.yt,o)}(t,e)}function iB(t,e,n){return t instanceof wu?vx(t,e):t instanceof Su?wx(t,e):n}function yx(t,e){return t instanceof nh?Ug(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class vu extends Cf{}class wu extends Cf{constructor(e){super(),this.elements=e}}function vx(t,e){const n=Sx(e);for(const r of t.elements)n.some(i=>Br(i,r))||n.push(r);return{arrayValue:{values:n}}}class Su extends Cf{constructor(e){super(),this.elements=e}}function wx(t,e){let n=Sx(e);for(const r of t.elements)n=n.filter(i=>!Br(i,r));return{arrayValue:{values:n}}}class nh extends Cf{constructor(e,n){super(),this.yt=e,this.gt=n}}function OS(t){return At(t.integerValue||t.doubleValue)}function Sx(t){return a0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class sB{constructor(e,n){this.field=e,this.transform=n}}function oB(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof wu&&r instanceof wu||n instanceof Su&&r instanceof Su?ya(n.elements,r.elements,Br):n instanceof nh&&r instanceof nh?Br(n.gt,r.gt):n instanceof vu&&r instanceof vu}(t.transform,e.transform)}class aB{constructor(e,n){this.version=e,this.transformResults=n}}class ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class If{}function kx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tx(t.key,ei.none()):new Ju(t.key,t.data,ei.none());{const n=t.data,r=ar.empty();let i=new nn(Ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ho(t.key,r,new Fr(i.toArray()),ei.none())}}function lB(t,e,n){t instanceof Ju?function(r,i,s){const o=r.value.clone(),a=_S(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ho?function(r,i,s){if(!rd(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=_S(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Ex(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Pl(t,e,n,r){return t instanceof Ju?function(i,s,o,a){if(!rd(i.precondition,s))return o;const l=i.value.clone(),u=DS(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ho?function(i,s,o,a){if(!rd(i.precondition,s))return o;const l=DS(i.fieldTransforms,a,s),u=s.data;return u.setAll(Ex(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return rd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function uB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=yx(r.transform,i||null);s!=null&&(n===null&&(n=ar.empty()),n.set(r.field,s))}return n||null}function MS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ya(n,r,(i,s)=>oB(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ju extends If{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ho extends If{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ex(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _S(t,e,n){const r=new Map;ht(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,iB(o,a,n[i]))}return r}function DS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,rB(s,o,e))}return r}class Tx extends If{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cB extends If{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}var it,ye;function dB(t){switch(t){default:return me();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function hB(t){if(t===void 0)return eo("GRPC error has no .code"),D.UNKNOWN;switch(t){case it.OK:return D.OK;case it.CANCELLED:return D.CANCELLED;case it.UNKNOWN:return D.UNKNOWN;case it.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case it.INTERNAL:return D.INTERNAL;case it.UNAVAILABLE:return D.UNAVAILABLE;case it.UNAUTHENTICATED:return D.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case it.NOT_FOUND:return D.NOT_FOUND;case it.ALREADY_EXISTS:return D.ALREADY_EXISTS;case it.PERMISSION_DENIED:return D.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case it.ABORTED:return D.ABORTED;case it.OUT_OF_RANGE:return D.OUT_OF_RANGE;case it.UNIMPLEMENTED:return D.UNIMPLEMENTED;case it.DATA_LOSS:return D.DATA_LOSS;default:return me()}}(ye=it||(it={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";class $a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ix(this.inner)}size(){return this.innerSize}}const fB=new kn(ue.comparator);function rh(){return fB}const Cx=new kn(ue.comparator);function Pc(...t){let e=Cx;for(const n of t)e=e.insert(n.key,n);return e}function Ix(t){let e=Cx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ns(){return Ll()}function bx(){return Ll()}function Ll(){return new $a(t=>t.toString(),(t,e)=>t.isEqual(e))}const pB=new kn(ue.comparator),mB=new nn(ue.comparator);function Ut(...t){let e=mB;for(const n of t)e=e.add(n);return e}const gB=new nn(Re);function yB(){return gB}class vB{constructor(e,n){this.databaseId=e,this.wt=n}}function Hg(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wB(t,e){return t.wt?e.toBase64():e.toUint8Array()}function SB(t,e){return Hg(t,e.toTimestamp())}function Zo(t){return ht(!!t),He.fromTimestamp(function(e){const n=to(e);return new vt(n.seconds,n.nanos)}(t))}function xx(t,e){return function(n){return new Xe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function kB(t){const e=Xe.fromString(t);return ht(NB(e)),e}function Wg(t,e){return xx(t.databaseId,e.path)}function EB(t){const e=kB(t);return e.length===4?Xe.emptyPath():CB(e)}function TB(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CB(t){return ht(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function RS(t,e,n){return{name:Wg(t,e),fields:n.value.mapValue.fields}}function IB(t,e){let n;if(e instanceof Ju)n={update:RS(t,e.key,e.value)};else if(e instanceof Tx)n={delete:Wg(t,e.key)};else if(e instanceof ho)n={update:RS(t,e.key,e.data),updateMask:AB(e.fieldMask)};else{if(!(e instanceof cB))return me();n={verify:Wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof vu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof wu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Su)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof nh)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:SB(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:me()}(t,e.precondition)),n}function bB(t,e){return t&&t.length>0?(ht(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Zo(r.updateTime):Zo(i);return s.isEqual(He.min())&&(s=Zo(i)),new aB(s,r.transformResults||[])}(n,e))):[]}function xB(t){let e=EB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ht(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=Ax(c);return d instanceof ts&&$2(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Rl(So(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,o0(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new th(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new th(h,d)}(n.endAt)),J2(e,i,o,s,a,"F",l,u)}function Ax(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=So(e.unaryFilter.field);return gt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=So(e.unaryFilter.field);return gt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=So(e.unaryFilter.field);return gt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=So(e.unaryFilter.field);return gt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(e){return gt.create(So(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return ts.create(e.compositeFilter.filters.map(n=>Ax(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return me()}}(e.compositeFilter.op))}(t):me()}function So(t){return Ht.fromServerFormat(t.fieldPath)}function AB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class OB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&lB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=kx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ut())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(n,r)=>MS(n,r))&&ya(this.baseMutations,e.baseMutations,(n,r)=>MS(n,r))}}class c0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ht(e.mutations.length===r.length);let i=pB;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new c0(e,n,r,i)}}class MB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _B{constructor(e){this.ie=e}}function DB(t){const e=xB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jg(e,e.limit,"L"):e}class RB{constructor(){this.Je=new PB}addToCollectionParentIndex(e,n){return this.Je.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(es.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class PB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nn(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nn(Xe.comparator)).toArray()}}class Ea{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ea(0)}static vn(){return new Ea(-1)}}class LB{constructor(){this.changes=new $a(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,or.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $B{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Pl(r.mutation,i,Fr.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ut()){const i=Ns();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Pc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ut()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=rh();const o=Ll(),a=Ll();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ho)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),Pl(c.mutation,u,c.mutation.getFieldMask(),vt.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new FB(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ll();let i=new kn((o,a)=>o-a),s=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Fr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ut()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=bx();c.forEach(h=>{if(!s.has(h)){const f=kx(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ue.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Z2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Ns());let a=-1,l=s;return o.next(u=>M.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?M.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ut())).next(c=>({batchId:a,changes:Ix(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=Pc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Pc();return this.indexManager.getCollectionParents(e,i).next(o=>M.forEach(o,a=>{const l=function(u,c){return new Tf(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,or.newInvalidDocument(u)))});let o=Pc();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Pl(u.mutation,l,Fr.empty(),vt.now()),px(n,l)&&(o=o.insert(a,l))}),o})}}class BB{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return M.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Zo(r.createTime)}),M.resolve()}getNamedQuery(e,n){return M.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:DB(r.bundledQuery),readTime:Zo(r.readTime)}}(n)),M.resolve()}}class VB{constructor(){this.overlays=new kn(ue.comparator),this.es=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ns();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Ns(),s=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new kn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ns(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ns(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return M.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new MB(n,r));let s=this.es.get(n);s===void 0&&(s=Ut(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}class d0{constructor(){this.ns=new nn(pt.ss),this.rs=new nn(pt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new pt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new pt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new ue(new Xe([])),r=new pt(n,e),i=new pt(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new ue(new Xe([])),r=new pt(n,e),i=new pt(n,e+1);let s=Ut();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new pt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return ue.comparator(e.key,n.key)||Re(e._s,n._s)}static os(e,n){return Re(e._s,n._s)||ue.comparator(e.key,n.key)}}class zB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new nn(pt.ss)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OB(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),i=new pt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn(Re);return n.forEach(i=>{const s=new pt(i,0),o=new pt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),M.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ue.isDocumentKey(s)||(s=s.child(""));const o=new pt(new ue(s),0);let a=new nn(Re);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),M.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ht(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return M.forEach(n.mutations,i=>{const s=new pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new pt(n,0),i=this.gs.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class UB{constructor(e){this.Es=e,this.docs=new kn(ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():or.newInvalidDocument(n))}getEntries(e,n){let r=rh();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():or.newInvalidDocument(i))}),M.resolve(r)}getAllFromCollection(e,n,r){let i=rh();const s=new ue(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||O2(N2(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,i){me()}As(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jB(this)}getSize(e){return M.resolve(this.size)}}class jB extends LB{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class HB{constructor(e){this.persistence=e,this.Rs=new $a(n=>l0(n),u0),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.bs=0,this.Ps=new d0,this.targetCount=0,this.vs=Ea.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),M.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Ea(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Dn(n),M.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Ps.containsKey(n))}}class WB{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new rx(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new HB(this),this.indexManager=new RB,this.remoteDocumentCache=function(r){return new UB(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new _B(n),this.Ns=new BB(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new zB(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new qB(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return M.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class qB extends _2{constructor(e){super(),this.currentSequenceNumber=e}}class h0{constructor(e){this.persistence=e,this.Fs=new d0,this.$s=null}static Bs(e){return new h0(e)}get Ls(){if(this.$s)return this.$s;throw me()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),M.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Ls,r=>{const i=ue.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,He.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return M.or([()=>M.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class f0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=Ut(),i=Ut();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new f0(e,n.fromCache,r,i)}}class KB{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(AS(n))return M.resolve(null);let r=ka(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jg(n,null,"F"),r=ka(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ut(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,jg(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return AS(n)||i.isEqual(He.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(kS()<=Ce.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),NS(n)),this.Bi(e,o,n,A2(i,-1)))})}Fi(e,n){let r=new nn(eB(e));return n.forEach((i,s)=>{px(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return kS()<=Ce.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",NS(n)),this.Ni.getDocumentsMatchingQuery(e,n,es.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class GB{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new kn(Re),this.Ui=new $a(s=>l0(s),u0),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $B(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function JB(t,e,n,r){return new GB(t,e,n,r)}async function Nx(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ut();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function QB(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=M.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);ht(m!==null),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ut();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YB(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function XB(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class PS{constructor(){this.activeTargetIds=yB()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZB{constructor(){this.Lr=new PS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new PS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eV{Ur(e){}shutdown(){}}class LS{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}const tV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nV{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class rV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);Q("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(Q("RestConnection","Received: ",l),l),l=>{throw Vg("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=tV[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new v2;a.setWithCredentials(!0),a.listenOnce(m2.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Kp.NO_ERROR:const u=a.getResponseJson();Q("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Kp.TIMEOUT:Q("Connection",'RPC "'+e+'" timed out'),o(new re(D.DEADLINE_EXCEEDED,"Request time out"));break;case Kp.HTTP_ERROR:const c=a.getStatus();if(Q("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(m)>=0?m:D.UNKNOWN}(h.status);o(new re(f,h.message))}else o(new re(D.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new re(D.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{Q("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=f2(),o=p2(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new y2({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");Q("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const h=new nV({Hr:p=>{d?Q("Connection","Not sending because WebChannel is closed:",p):(c||(Q("Connection","Opening WebChannel transport."),u.open(),c=!0),Q("Connection","WebChannel sending:",p),u.send(p))},Jr:()=>u.close()}),f=(p,m,S)=>{p.listen(m,y=>{try{S(y)}catch(g){setTimeout(()=>{throw g},0)}})};return f(u,_c.EventType.OPEN,()=>{d||Q("Connection","WebChannel transport opened.")}),f(u,_c.EventType.CLOSE,()=>{d||(d=!0,Q("Connection","WebChannel transport closed"),h.io())}),f(u,_c.EventType.ERROR,p=>{d||(d=!0,Vg("Connection","WebChannel transport errored:",p),h.io(new re(D.UNAVAILABLE,"The operation could not be completed")))}),f(u,_c.EventType.MESSAGE,p=>{var m;if(!d){const S=p.data[0];ht(!!S);const y=S,g=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(g){Q("Connection","WebChannel received error:",g);const v=g.status;let k=function(_){const O=it[_];if(O!==void 0)return hB(O)}(v),b=g.message;k===void 0&&(k=D.INTERNAL,b="Unknown error status: "+v+" with message "+g.message),d=!0,h.io(new re(k,b)),u.close()}else Q("Connection","WebChannel received:",S),h.ro(S)}}),f(o,g2.STAT_EVENT,p=>{p.stat===wS.PROXY?Q("Connection","Detected buffering proxy"):p.stat===wS.NOPROXY&&Q("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Gp(){return typeof document<"u"?document:null}function bf(t){return new vB(t,!0)}class Ox{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class iV{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ox(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(eo(n.toString()),eo("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new re(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sV extends iV{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=bB(e.writeResults,e.commitTime),r=Zo(e.commitTime);return this.listener.Zo(r,n)}return ht(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=TB(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IB(this.yt,r))};this.Bo(n)}}class oV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new re(D.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(D.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(D.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class aV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(eo(n),this.ou=!1):Q("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}class lV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{Yu(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Be(a);l._u.add(4),await Qu(l),l.gu.set("Unknown"),l._u.delete(4),await xf(l)}(this))})}),this.gu=new aV(r,i)}}async function xf(t){if(Yu(t))for(const e of t.wu)await e(!0)}async function Qu(t){for(const e of t.wu)await e(!1)}function Yu(t){return Be(t)._u.size===0}async function Mx(t,e,n){if(!Ef(e))throw e;t._u.add(1),await Qu(t),t.gu.set("Offline"),n||(n=()=>YB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await xf(t)})}function _x(t,e){return e().catch(n=>Mx(t,n,e))}async function Af(t){const e=Be(t),n=ns(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;uV(e);)try{const i=await XB(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,cV(e,i)}catch(i){await Mx(e,i)}Dx(e)&&Rx(e)}function uV(t){return Yu(t)&&t.fu.length<10}function cV(t,e){t.fu.push(e);const n=ns(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function Dx(t){return Yu(t)&&!ns(t).No()&&t.fu.length>0}function Rx(t){ns(t).start()}async function dV(t){ns(t).eu()}async function hV(t){const e=ns(t);for(const n of t.fu)e.Xo(n.mutations)}async function fV(t,e,n){const r=t.fu.shift(),i=c0.from(r,e,n);await _x(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Af(t)}async function pV(t,e){e&&ns(t).Yo&&await async function(n,r){if(i=r.code,dB(i)&&i!==D.ABORTED){const s=n.fu.shift();ns(n).Mo(),await _x(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Af(n)}var i}(t,e),Dx(t)&&Rx(t)}async function FS(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Yu(n);n._u.add(3),await Qu(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await xf(n)}async function mV(t,e){const n=Be(t);e?(n._u.delete(2),await xf(n)):e||(n._u.add(2),await Qu(n),n.gu.set("Unknown"))}function ns(t){return t.Iu||(t.Iu=function(e,n,r){const i=Be(e);return i.su(),new sV(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:dV.bind(null,t),Zr:pV.bind(null,t),tu:hV.bind(null,t),Zo:fV.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await Af(t)):(await t.Iu.stop(),t.fu.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}class p0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new p0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Px(t,e){if(eo("AsyncQueue",`${e}: ${t}`),Ef(t))return new re(D.UNAVAILABLE,`${e}: ${t}`);throw t}class gV{constructor(){this.queries=new $a(e=>fx(e),hx),this.onlineState="Unknown",this.Ru=new Set}}function yV(t){t.Ru.forEach(e=>{e.next()})}class vV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new $a(a=>fx(a),hx),this.rc=new Map,this.oc=new Set,this.uc=new kn(ue.comparator),this.cc=new Map,this.ac=new d0,this.hc={},this.lc=new Map,this.fc=Ea.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function wV(t,e,n){const r=TV(t);try{const i=await function(s,o){const a=Be(s),l=vt.now(),u=o.reduce((h,f)=>h.add(f.key),Ut());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=rh(),p=Ut();return a.Gi.getEntries(h,u).next(m=>{f=m,f.forEach((S,y)=>{y.isValidDocument()||(p=p.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{c=m;const S=[];for(const y of o){const g=uB(y,c.get(y.key).overlayedDocument);g!=null&&S.push(new ho(y.key,g,dx(g.value.mapValue),ei.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,S,o)}).next(m=>{d=m;const S=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,S)})}).then(()=>({batchId:d.batchId,changes:Ix(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new kn(Re)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Nf(r,i.changes),await Af(r.remoteStore)}catch(i){const s=Px(i,"Failed to persist write");n.reject(s)}}function $S(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Be(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&yV(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SV(t,e){const n=Be(t),r=e.batch.batchId;try{const i=await QB(n.localStore,e);Fx(n,r,null),Lx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nf(n,i)}catch(i){await nx(i)}}async function kV(t,e,n){const r=Be(t);try{const i=await function(s,o){const a=Be(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(ht(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Fx(r,e,n),Lx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nf(r,i)}catch(i){await nx(i)}}function Lx(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function Fx(t,e,n){const r=Be(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}async function Nf(t,e,n){const r=Be(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=f0.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const u=Be(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>M.forEach(l,d=>M.forEach(d.Si,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>M.forEach(d.Di,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Ef(c))throw c;Q("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.qi.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);u.qi=u.qi.insert(d,p)}}}(r.localStore,s))}async function EV(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await Nx(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new re(D.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nf(n,r.ji)}}function TV(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kV.bind(null,e),e}class CV{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=bf(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return JB(this.persistence,new KB,e.initialUser,this.yt)}yc(e){return new WB(h0.Bs,this.yt)}gc(e){return new ZB}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class IV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$S(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EV.bind(null,this.syncEngine),await mV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new gV}createDatastore(e){const n=bf(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new rV(i));var i;return function(s,o,a,l){return new oV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>$S(this.syncEngine,a,0),o=LS.C()?new LS:new eV,new lV(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new vV(r,i,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Be(e);Q("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Qu(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}function $x(t,e,n){if(!n)throw new re(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bV(t,e,n,r){if(e===!0&&r===!0)throw new re(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BS(t){if(!ue.isDocumentKey(t))throw new re(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VS(t){if(ue.isDocumentKey(t))throw new re(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function m0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function Bx(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=m0(t);throw new re(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const zS=new Map;class US{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new re(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,bV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Of{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new US({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new US(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new w2;switch(n.type){case"gapi":const r=n.client;return new T2(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new re(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=zS.get(e);n&&(Q("ComponentProvider","Removing Datastore"),zS.delete(e),n.terminate())}(this),Promise.resolve()}}function xV(t,e,n,r={}){var i;const s=(t=Bx(t,Of))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Vg("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Vt.MOCK_USER;else{o=I_(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new re(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Vt(l)}t._authCredentials=new S2(new ex(o,a))}}class ti{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ti(this.firestore,e,this._key)}}class g0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new g0(this.firestore,e,this._query)}}class Gi extends g0{constructor(e,n,r){super(e,n,Q2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ti(this.firestore,null,new ue(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function AV(t,e,...n){if(t=Jt(t),$x("collection","path",e),t instanceof Of){const r=Xe.fromString(e,...n);return VS(r),new Gi(t,null,r)}{if(!(t instanceof ti||t instanceof Gi))throw new re(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return VS(r),new Gi(t.firestore,null,r)}}function NV(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=tx.R()),$x("doc","path",e),t instanceof Of){const r=Xe.fromString(e,...n);return BS(r),new ti(t,null,new ue(r))}{if(!(t instanceof ti||t instanceof Gi))throw new re(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return BS(r),new ti(t.firestore,t instanceof Gi?t.converter:null,new ue(r))}}class OV{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=tx.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Px(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function MV(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Nx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function _V(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DV(t);Q("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>FS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>FS(e.remoteStore,s)),t.onlineComponents=e}async function DV(t){return t.offlineComponents||(Q("FirestoreClient","Using default OfflineComponentProvider"),await MV(t,new CV)),t.offlineComponents}async function RV(t){return t.onlineComponents||(Q("FirestoreClient","Using default OnlineComponentProvider"),await _V(t,new IV)),t.onlineComponents}function PV(t){return RV(t).then(e=>e.syncEngine)}class LV{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Ox(this,"async_queue_retry"),this.Wc=()=>{const n=Gp();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Gp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Fs;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Ef(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw eo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=p0.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&me()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class Vx extends Of{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new LV,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zx(this),this._firestoreClient.terminate()}}function FV(t,e){const n=typeof t=="object"?t:cv(),r=typeof t=="string"?t:e||"(default)",i=uo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=E_("firestore");s&&xV(i,...s)}return i}function $V(t){return t._firestoreClient||zx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function zx(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new D2(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new OV(t._authCredentials,t._appCheckCredentials,t._queue,r)}class ku{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ku(di.fromBase64String(e))}catch(n){throw new re(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ku(di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ux{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class y0{constructor(e){this._methodName=e}}class jx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}const BV=/^__.*__$/;class VV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ju(e,this.data,n,this.fieldTransforms)}}function Hx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class v0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new v0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return ih(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(Hx(this.sa)&&BV.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class zV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||bf(e)}da(e,n,r,i=!1){return new v0({sa:e,methodName:n,fa:r,path:Ht.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function UV(t){const e=t._freezeSettings(),n=bf(t._databaseId);return new zV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jV(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);Gx("Data must be an object, but it was:",o,r);const a=qx(r,o);let l,u;if(s.merge)l=new Fr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=HV(e,d,n);if(!o.contains(h))throw new re(D.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);KV(c,h)||c.push(h)}l=new Fr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new VV(new ar(a),l,u)}class w0 extends y0{_toFieldTransform(e){return new sB(e.path,new vu)}isEqual(e){return e instanceof w0}}function Wx(t,e){if(Kx(t=Jt(t)))return Gx("Unsupported field value:",e,t),qx(t,e);if(t instanceof y0)return function(n,r){if(!Hx(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Wx(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Jt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return nB(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=vt.fromDate(n);return{timestampValue:Hg(r.yt,i)}}if(n instanceof vt){const i=new vt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Hg(r.yt,i)}}if(n instanceof jx)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ku)return{bytesValue:wB(r.yt,n._byteString)};if(n instanceof ti){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:xx(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${m0(n)}`)}(t,e)}function qx(t,e){const n={};return ix(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gu(t,(r,i)=>{const s=Wx(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Kx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof jx||t instanceof ku||t instanceof ti||t instanceof y0)}function Gx(t,e,n){if(!Kx(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=m0(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function HV(t,e,n){if((e=Jt(e))instanceof Ux)return e._internalPath;if(typeof e=="string")return qV(t,e);throw ih("Field path arguments must be of type string or ",t,!1,void 0,n)}const WV=new RegExp("[~\\*/\\[\\]]");function qV(t,e,n){if(e.search(WV)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ux(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ih(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new re(D.INVALID_ARGUMENT,a+t+l)}function KV(t,e){return t.some(n=>n.isEqual(e))}function GV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function JV(t,e){const n=Bx(t.firestore,Vx),r=NV(t),i=GV(t.converter,e);return QV(n,[jV(UV(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ei.exists(!1))]).then(()=>r)}function QV(t,e){return function(n,r){const i=new Fs;return n.asyncQueue.enqueueAndForget(async()=>wV(await PV(n),r,i)),i.promise}($V(t),e)}function YV(){return new w0("serverTimestamp")}(function(t,e=!0){(function(n){Fa=n})(Du),$r(new gr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Vx(new k2(n.getProvider("auth-internal")),new I2(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new re(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Kn(SS,"3.8.0",t),Kn(SS,"3.8.0","esm2017")})();const XV={apiKey:"AIzaSyCumCuqk-iqtE1tWp7Uwt7vFWR9RZyMYs0",authDomain:"larissa-b36e0.firebaseapp.com",projectId:"larissa-b36e0",storageBucket:"larissa-b36e0.appspot.com",messagingSenderId:"555065936796",appId:"1:555065936796:web:e870dc7136b46bb77d5659",measurementId:"G-C2EB5C5RM8"},S0=CC(XV);f$(S0);const sl=jP(S0),ZV=FV(S0);var Xu=t=>t.type==="checkbox",$o=t=>t instanceof Date,Zt=t=>t==null;const Jx=t=>typeof t=="object";var kt=t=>!Zt(t)&&!Array.isArray(t)&&Jx(t)&&!$o(t),ez=t=>kt(t)&&t.target?Xu(t.target)?t.target.checked:t.target.value:t,tz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,nz=(t,e)=>t.has(tz(e)),Zu=t=>Array.isArray(t)?t.filter(Boolean):[],st=t=>t===void 0,z=(t,e,n)=>{if(!e||!kt(t))return n;const r=Zu(e.split(/[,[\].]+?/)).reduce((i,s)=>Zt(i)?i:i[s],t);return st(r)||r===t?st(t[e])?n:t[e]:r};const jS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},lr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Te.createContext(null);var rz=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==lr.all&&(e._proxyFormState[o]=!r||lr.all),n&&(n[o]=!0),t[o]}});return i},Bn=t=>kt(t)&&!Object.keys(t).length,iz=(t,e,n)=>{const{name:r,...i}=t;return Bn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(s=>e[s]===(!n||lr.all))},Jp=t=>Array.isArray(t)?t:[t];function sz(t){const e=Te.useRef(t);e.current=t,Te.useEffect(()=>{const n=!t.disabled&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Or=t=>typeof t=="string",oz=(t,e,n,r)=>Or(t)?(r&&e.watch.add(t),z(n,t)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),z(n,i))):(r&&(e.watchAll=!0),n),az=t=>{const e=t.constructor&&t.constructor.prototype;return kt(e)&&e.hasOwnProperty("isPrototypeOf")},qg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ks(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(qg&&(t instanceof Blob||t instanceof FileList))&&(n||kt(t)))if(e=n?[]:{},!Array.isArray(t)&&!az(t))e=t;else for(const r in t)e[r]=ks(t[r]);else return t;return e}var lz=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},k0=t=>/^\w*$/.test(t),Qx=t=>Zu(t.replace(/["|']|\]/g,"").split(/\.|\[/));function ze(t,e,n){let r=-1;const i=k0(e)?[e]:Qx(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=kt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}const Kg=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=z(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else kt(o)&&Kg(o,e)}}};var HS=t=>({isOnSubmit:!t||t===lr.onSubmit,isOnBlur:t===lr.onBlur,isOnChange:t===lr.onChange,isOnAll:t===lr.all,isOnTouch:t===lr.onTouched}),WS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),uz=(t,e,n)=>{const r=Zu(z(t,n));return ze(r,"root",e[n]),ze(t,n,r),t},ea=t=>typeof t=="boolean",E0=t=>t.type==="file",ta=t=>typeof t=="function",id=t=>Or(t)||Te.isValidElement(t),T0=t=>t.type==="radio",sh=t=>t instanceof RegExp;const qS={value:!1,isValid:!1},KS={value:!0,isValid:!0};var Yx=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!st(t[0].attributes.value)?st(t[0].value)||t[0].value===""?KS:{value:t[0].value,isValid:!0}:KS:qS}return qS};const GS={isValid:!1,value:null};var Xx=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,GS):GS;function JS(t,e,n="validate"){if(id(t)||Array.isArray(t)&&t.every(id)||ea(t)&&!t)return{type:n,message:id(t)?t:"",ref:e}}var vo=t=>kt(t)&&!sh(t)?t:{value:t,message:""},QS=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:h,validate:f,name:p,valueAsNumber:m,mount:S,disabled:y}=t._f;if(!S||y)return{};const g=o?o[0]:s,v=G=>{r&&g.reportValidity&&(g.setCustomValidity(ea(G)?"":G||""),g.reportValidity())},k={},b=T0(s),_=Xu(s),O=b||_,I=(m||E0(s))&&st(s.value)&&st(e)||e===""||Array.isArray(e)&&!e.length,ee=lz.bind(null,p,n,k),X=(G,de,ve,et=Hr.maxLength,ne=Hr.minLength)=>{const Je=G?de:ve;k[p]={type:G?et:ne,message:Je,ref:s,...ee(G?et:ne,Je)}};if(i?!Array.isArray(e)||!e.length:a&&(!O&&(I||Zt(e))||ea(e)&&!e||_&&!Yx(o).isValid||b&&!Xx(o).isValid)){const{value:G,message:de}=id(a)?{value:!!a,message:a}:vo(a);if(G&&(k[p]={type:Hr.required,message:de,ref:g,...ee(Hr.required,de)},!n))return v(de),k}if(!I&&(!Zt(c)||!Zt(d))){let G,de;const ve=vo(d),et=vo(c);if(!Zt(e)&&!isNaN(e)){const ne=s.valueAsNumber||e&&+e;Zt(ve.value)||(G=ne>ve.value),Zt(et.value)||(de=ne<et.value)}else{const ne=s.valueAsDate||new Date(e),Je=q=>new Date(new Date().toDateString()+" "+q),Ve=s.type=="time",R=s.type=="week";Or(ve.value)&&e&&(G=Ve?Je(e)>Je(ve.value):R?e>ve.value:ne>new Date(ve.value)),Or(et.value)&&e&&(de=Ve?Je(e)<Je(et.value):R?e<et.value:ne<new Date(et.value))}if((G||de)&&(X(!!G,ve.message,et.message,Hr.max,Hr.min),!n))return v(k[p].message),k}if((l||u)&&!I&&(Or(e)||i&&Array.isArray(e))){const G=vo(l),de=vo(u),ve=!Zt(G.value)&&e.length>G.value,et=!Zt(de.value)&&e.length<de.value;if((ve||et)&&(X(ve,G.message,de.message),!n))return v(k[p].message),k}if(h&&!I&&Or(e)){const{value:G,message:de}=vo(h);if(sh(G)&&!e.match(G)&&(k[p]={type:Hr.pattern,message:de,ref:s,...ee(Hr.pattern,de)},!n))return v(de),k}if(f){if(ta(f)){const G=await f(e),de=JS(G,g);if(de&&(k[p]={...de,...ee(Hr.validate,de.message)},!n))return v(de.message),k}else if(kt(f)){let G={};for(const de in f){if(!Bn(G)&&!n)break;const ve=JS(await f[de](e),g,de);ve&&(G={...ve,...ee(de,ve.message)},v(ve.message),n&&(k[p]=G))}if(!Bn(G)&&(k[p]={ref:g,...G},!n))return k}}return v(!0),k};function cz(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=st(t)?r++:t[e[r++]];return t}function dz(t){for(const e in t)if(!st(t[e]))return!1;return!0}function Yt(t,e){const n=k0(e)?[e]:Qx(e),r=n.length==1?t:cz(t,n),i=n[n.length-1];let s;r&&delete r[i];for(let o=0;o<n.slice(0,-1).length;o++){let a=-1,l;const u=n.slice(0,-(o+1)),c=u.length-1;for(o>0&&(s=t);++a<u.length;){const d=u[a];l=l?l[d]:t[d],c===a&&(kt(l)&&Bn(l)||Array.isArray(l)&&dz(l))&&(s?delete s[d]:delete t[d]),s=l}}return t}function Qp(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var Eu=t=>Zt(t)||!Jx(t);function Os(t,e){if(Eu(t)||Eu(e))return t===e;if($o(t)&&$o(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if($o(s)&&$o(o)||kt(s)&&kt(o)||Array.isArray(s)&&Array.isArray(o)?!Os(s,o):s!==o)return!1}}return!0}var Gg=t=>{const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Zx=t=>t.type==="select-multiple",hz=t=>T0(t)||Xu(t),Yp=t=>Gg(t)&&t.isConnected,eA=t=>{for(const e in t)if(ta(t[e]))return!0;return!1};function oh(t,e={}){const n=Array.isArray(t);if(kt(t)||n)for(const r in t)Array.isArray(t[r])||kt(t[r])&&!eA(t[r])?(e[r]=Array.isArray(t[r])?[]:{},oh(t[r],e[r])):Zt(t[r])||(e[r]=!0);return e}function tA(t,e,n){const r=Array.isArray(t);if(kt(t)||r)for(const i in t)Array.isArray(t[i])||kt(t[i])&&!eA(t[i])?st(e)||Eu(n[i])?n[i]=Array.isArray(t[i])?oh(t[i],[]):{...oh(t[i])}:tA(t[i],Zt(e)?{}:e[i],n[i]):Os(t[i],e[i])?delete n[i]:n[i]=!0;return n}var Xp=(t,e)=>tA(t,e,oh(e)),nA=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>st(t)?t:e?t===""?NaN:t&&+t:n&&Or(t)?new Date(t):r?r(t):t;function Zp(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return E0(e)?e.files:T0(e)?Xx(t.refs).value:Zx(e)?[...e.selectedOptions].map(({value:n})=>n):Xu(e)?Yx(t.refs).value:nA(st(e.value)?t.ref.value:e.value,t)}var fz=(t,e,n,r)=>{const i={};for(const s of t){const o=z(e,s);o&&ze(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},ol=t=>st(t)?t:sh(t)?t.source:kt(t)?sh(t.value)?t.value.source:t.value:t,pz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function YS(t,e,n){const r=z(t,n);if(r||k0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=z(e,s),a=z(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var mz=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,gz=(t,e)=>!Zu(z(t,e)).length&&Yt(t,e);const yz={mode:lr.onSubmit,reValidateMode:lr.onChange,shouldFocusError:!0};function vz(t={},e){let n={...yz,...t};const r=t.resetOptions&&t.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},o=kt(n.defaultValues)?ks(n.defaultValues)||{}:{},a=n.shouldUnregister?{}:ks(o),l={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={watch:Qp(),array:Qp(),state:Qp()},p=HS(n.mode),m=HS(n.reValidateMode),S=n.criteriaMode===lr.all,y=w=>T=>{clearTimeout(d),d=window.setTimeout(w,T)},g=async()=>{if(h.isValid){const w=n.resolver?Bn((await ee()).errors):await G(s,!0);w!==i.isValid&&(i.isValid=w,f.state.next({isValid:w}))}},v=w=>h.isValidating&&f.state.next({isValidating:w}),k=(w,T=[],C,P,L=!0,x=!0)=>{if(P&&C){if(l.action=!0,x&&Array.isArray(z(s,w))){const j=C(z(s,w),P.argA,P.argB);L&&ze(s,w,j)}if(x&&Array.isArray(z(i.errors,w))){const j=C(z(i.errors,w),P.argA,P.argB);L&&ze(i.errors,w,j),gz(i.errors,w)}if(h.touchedFields&&x&&Array.isArray(z(i.touchedFields,w))){const j=C(z(i.touchedFields,w),P.argA,P.argB);L&&ze(i.touchedFields,w,j)}h.dirtyFields&&(i.dirtyFields=Xp(o,a)),f.state.next({name:w,isDirty:ve(w,T),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else ze(a,w,T)},b=(w,T)=>{ze(i.errors,w,T),f.state.next({errors:i.errors})},_=(w,T,C,P)=>{const L=z(s,w);if(L){const x=z(a,w,st(C)?z(o,w):C);st(x)||P&&P.defaultChecked||T?ze(a,w,T?x:Zp(L._f)):Je(w,x),l.mount&&g()}},O=(w,T,C,P,L)=>{let x=!1,j=!1;const Oe={name:w};if(!C||P){h.isDirty&&(j=i.isDirty,i.isDirty=Oe.isDirty=ve(),x=j!==Oe.isDirty);const Me=Os(z(o,w),T);j=z(i.dirtyFields,w),Me?Yt(i.dirtyFields,w):ze(i.dirtyFields,w,!0),Oe.dirtyFields=i.dirtyFields,x=x||h.dirtyFields&&j!==!Me}if(C){const Me=z(i.touchedFields,w);Me||(ze(i.touchedFields,w,C),Oe.touchedFields=i.touchedFields,x=x||h.touchedFields&&Me!==C)}return x&&L&&f.state.next(Oe),x?Oe:{}},I=(w,T,C,P)=>{const L=z(i.errors,w),x=h.isValid&&ea(T)&&i.isValid!==T;if(t.delayError&&C?(c=y(()=>b(w,C)),c(t.delayError)):(clearTimeout(d),c=null,C?ze(i.errors,w,C):Yt(i.errors,w)),(C?!Os(L,C):L)||!Bn(P)||x){const j={...P,...x&&ea(T)?{isValid:T}:{},errors:i.errors,name:w};i={...i,...j},f.state.next(j)}v(!1)},ee=async w=>await n.resolver(a,n.context,fz(w||u.mount,s,n.criteriaMode,n.shouldUseNativeValidation)),X=async w=>{const{errors:T}=await ee();if(w)for(const C of w){const P=z(T,C);P?ze(i.errors,C,P):Yt(i.errors,C)}else i.errors=T;return T},G=async(w,T,C={valid:!0})=>{for(const P in w){const L=w[P];if(L){const{_f:x,...j}=L;if(x){const Oe=u.array.has(x.name),Me=await QS(L,z(a,x.name),S,n.shouldUseNativeValidation,Oe);if(Me[x.name]&&(C.valid=!1,T))break;!T&&(z(Me,x.name)?Oe?uz(i.errors,Me,x.name):ze(i.errors,x.name,Me[x.name]):Yt(i.errors,x.name))}j&&await G(j,T,C)}}return C.valid},de=()=>{for(const w of u.unMount){const T=z(s,w);T&&(T._f.refs?T._f.refs.every(C=>!Yp(C)):!Yp(T._f.ref))&&ft(w)}u.unMount=new Set},ve=(w,T)=>(w&&T&&ze(a,w,T),!Os(ke(),o)),et=(w,T,C)=>oz(w,u,{...l.mount?a:st(T)?o:Or(w)?{[w]:T}:T},C),ne=w=>Zu(z(l.mount?a:o,w,t.shouldUnregister?z(o,w,[]):[])),Je=(w,T,C={})=>{const P=z(s,w);let L=T;if(P){const x=P._f;x&&(!x.disabled&&ze(a,w,nA(T,x)),L=qg&&Gg(x.ref)&&Zt(T)?"":T,Zx(x.ref)?[...x.ref.options].forEach(j=>j.selected=L.includes(j.value)):x.refs?Xu(x.ref)?x.refs.length>1?x.refs.forEach(j=>(!j.defaultChecked||!j.disabled)&&(j.checked=Array.isArray(L)?!!L.find(Oe=>Oe===j.value):L===j.value)):x.refs[0]&&(x.refs[0].checked=!!L):x.refs.forEach(j=>j.checked=j.value===L):E0(x.ref)?x.ref.value="":(x.ref.value=L,x.ref.type||f.watch.next({name:w})))}(C.shouldDirty||C.shouldTouch)&&O(w,L,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&J(w)},Ve=(w,T,C)=>{for(const P in T){const L=T[P],x=`${w}.${P}`,j=z(s,x);(u.array.has(w)||!Eu(L)||j&&!j._f)&&!$o(L)?Ve(x,L,C):Je(x,L,C)}},R=(w,T,C={})=>{const P=z(s,w),L=u.array.has(w),x=ks(T);ze(a,w,x),L?(f.array.next({name:w,values:a}),(h.isDirty||h.dirtyFields)&&C.shouldDirty&&(i.dirtyFields=Xp(o,a),f.state.next({name:w,dirtyFields:i.dirtyFields,isDirty:ve(w,x)}))):P&&!P._f&&!Zt(x)?Ve(w,x,C):Je(w,x,C),WS(w,u)&&f.state.next({}),f.watch.next({name:w}),!l.mount&&e()},q=async w=>{const T=w.target;let C=T.name;const P=z(s,C),L=()=>T.type?Zp(P._f):ez(w);if(P){let x,j;const Oe=L(),Me=w.type===jS.BLUR||w.type===jS.FOCUS_OUT,nc=!pz(P._f)&&!n.resolver&&!z(i.errors,C)&&!P._f.deps||mz(Me,z(i.touchedFields,C),i.isSubmitted,m,p),za=WS(C,u,Me);ze(a,C,Oe),Me?(P._f.onBlur&&P._f.onBlur(w),c&&c(0)):P._f.onChange&&P._f.onChange(w);const mi=O(C,Oe,Me,!1),Ua=!Bn(mi)||za;if(!Me&&f.watch.next({name:C,type:w.type}),nc)return h.isValid&&g(),Ua&&f.state.next({name:C,...za?{}:mi});if(!Me&&za&&f.state.next({}),v(!0),n.resolver){const{errors:ja}=await ee([C]),rc=YS(i.errors,s,C),Ha=YS(ja,s,rc.name||C);x=Ha.error,C=Ha.name,j=Bn(ja)}else x=(await QS(P,z(a,C),S,n.shouldUseNativeValidation))[C],x?j=!1:h.isValid&&(j=await G(s,!0));!Eu(Oe)||L()===Oe?(P._f.deps&&J(P._f.deps),I(C,j,x,mi)):v(!1)}},J=async(w,T={})=>{let C,P;const L=Jp(w);if(v(!0),n.resolver){const x=await X(st(w)?w:L);C=Bn(x),P=w?!L.some(j=>z(x,j)):C}else w?(P=(await Promise.all(L.map(async x=>{const j=z(s,x);return await G(j&&j._f?{[x]:j}:j)}))).every(Boolean),!(!P&&!i.isValid)&&g()):P=C=await G(s);return f.state.next({...!Or(w)||h.isValid&&C!==i.isValid?{}:{name:w},...n.resolver||!w?{isValid:C}:{},errors:i.errors,isValidating:!1}),T.shouldFocus&&!P&&Kg(s,x=>x&&z(i.errors,x),w?L:u.mount),P},ke=w=>{const T={...o,...l.mount?a:{}};return st(w)?T:Or(w)?z(T,w):w.map(C=>z(T,C))},Ne=(w,T)=>({invalid:!!z((T||i).errors,w),isDirty:!!z((T||i).dirtyFields,w),isTouched:!!z((T||i).touchedFields,w),error:z((T||i).errors,w)}),Xn=w=>{w?Jp(w).forEach(T=>Yt(i.errors,T)):i.errors={},f.state.next({errors:i.errors})},Zn=(w,T,C)=>{const P=(z(s,w,{_f:{}})._f||{}).ref;ze(i.errors,w,{...T,ref:P}),f.state.next({name:w,errors:i.errors,isValid:!1}),C&&C.shouldFocus&&P&&P.focus&&P.focus()},cn=(w,T)=>ta(w)?f.watch.subscribe({next:C=>w(et(void 0,T),C)}):et(w,T,!0),ft=(w,T={})=>{for(const C of w?Jp(w):u.mount)u.mount.delete(C),u.array.delete(C),z(s,C)&&(T.keepValue||(Yt(s,C),Yt(a,C)),!T.keepError&&Yt(i.errors,C),!T.keepDirty&&Yt(i.dirtyFields,C),!T.keepTouched&&Yt(i.touchedFields,C),!n.shouldUnregister&&!T.keepDefaultValue&&Yt(o,C));f.watch.next({}),f.state.next({...i,...T.keepDirty?{isDirty:ve()}:{}}),!T.keepIsValid&&g()},Ct=(w,T={})=>{let C=z(s,w);const P=ea(T.disabled);return ze(s,w,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:w}},name:w,mount:!0,...T}}),u.mount.add(w),C?P&&ze(a,w,T.disabled?void 0:z(a,w,Zp(C._f))):_(w,!0,T.value),{...P?{disabled:T.disabled}:{},...n.shouldUseNativeValidation?{required:!!T.required,min:ol(T.min),max:ol(T.max),minLength:ol(T.minLength),maxLength:ol(T.maxLength),pattern:ol(T.pattern)}:{},name:w,onChange:q,onBlur:q,ref:L=>{if(L){Ct(w,T),C=z(s,w);const x=st(L.value)&&L.querySelectorAll&&L.querySelectorAll("input,select,textarea")[0]||L,j=hz(x),Oe=C._f.refs||[];if(j?Oe.find(Me=>Me===x):x===C._f.ref)return;ze(s,w,{_f:{...C._f,...j?{refs:[...Oe.filter(Yp),x,...Array.isArray(z(o,w))?[{}]:[]],ref:{type:x.type,name:w}}:{ref:x}}}),_(w,!1,void 0,x)}else C=z(s,w,{}),C._f&&(C._f.mount=!1),(n.shouldUnregister||T.shouldUnregister)&&!(nz(u.array,w)&&l.action)&&u.unMount.add(w)}}},pi=()=>n.shouldFocusError&&Kg(s,w=>w&&z(i.errors,w),u.mount),Cn=(w,T)=>async C=>{C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let P=!0,L=ks(a);f.state.next({isSubmitting:!0});try{if(n.resolver){const{errors:x,values:j}=await ee();i.errors=x,L=j}else await G(s);Bn(i.errors)?(f.state.next({errors:{},isSubmitting:!0}),await w(L,C)):(T&&await T({...i.errors},C),pi())}catch(x){throw P=!1,x}finally{i.isSubmitted=!0,f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bn(i.errors)&&P,submitCount:i.submitCount+1,errors:i.errors})}},Va=(w,T={})=>{z(s,w)&&(st(T.defaultValue)?R(w,z(o,w)):(R(w,T.defaultValue),ze(o,w,T.defaultValue)),T.keepTouched||Yt(i.touchedFields,w),T.keepDirty||(Yt(i.dirtyFields,w),i.isDirty=T.defaultValue?ve(w,z(o,w)):ve()),T.keepError||(Yt(i.errors,w),h.isValid&&g()),f.state.next({...i}))},dn=(w,T={})=>{const C=w||o,P=ks(C),L=w&&!Bn(w)?P:o;if(T.keepDefaultValues||(o=C),!T.keepValues){if(T.keepDirtyValues||r)for(const x of u.mount)z(i.dirtyFields,x)?ze(L,x,z(a,x)):R(x,z(L,x));else{if(qg&&st(w))for(const x of u.mount){const j=z(s,x);if(j&&j._f){const Oe=Array.isArray(j._f.refs)?j._f.refs[0]:j._f.ref;if(Gg(Oe)){const Me=Oe.closest("form");if(Me){Me.reset();break}}}}s={}}a=t.shouldUnregister?T.keepDefaultValues?ks(o):{}:P,f.array.next({values:L}),f.watch.next({values:L})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&e(),l.mount=!h.isValid||!!T.keepIsValid,l.watch=!!t.shouldUnregister,f.state.next({submitCount:T.keepSubmitCount?i.submitCount:0,isDirty:T.keepDirty||T.keepDirtyValues?i.isDirty:!!(T.keepDefaultValues&&!Os(w,o)),isSubmitted:T.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:T.keepDirty||T.keepDirtyValues?i.dirtyFields:T.keepDefaultValues&&w?Xp(o,w):{},touchedFields:T.keepTouched?i.touchedFields:{},errors:T.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},tc=(w,T)=>dn(ta(w)?w(a):w,T),er=(w,T={})=>{const C=z(s,w),P=C&&C._f;if(P){const L=P.refs?P.refs[0]:P.ref;L.focus&&(L.focus(),T.shouldSelect&&L.select())}};return ta(n.defaultValues)&&n.defaultValues().then(w=>{tc(w,n.resetOptions),f.state.next({isLoading:!1})}),{control:{register:Ct,unregister:ft,getFieldState:Ne,_executeSchema:ee,_focusError:pi,_getWatch:et,_getDirty:ve,_updateValid:g,_removeUnmounted:de,_updateFieldArray:k,_getFieldArray:ne,_reset:dn,_subjects:f,_proxyFormState:h,get _fields(){return s},get _formValues(){return a},get _stateFlags(){return l},set _stateFlags(w){l=w},get _defaultValues(){return o},get _names(){return u},set _names(w){u=w},get _formState(){return i},set _formState(w){i=w},get _options(){return n},set _options(w){n={...n,...w}}},trigger:J,register:Ct,handleSubmit:Cn,watch:cn,setValue:R,getValues:ke,reset:tc,resetField:Va,clearErrors:Xn,unregister:ft,setError:Zn,setFocus:er,getFieldState:Ne}}function wz(t={}){const e=Te.useRef(),[n,r]=Te.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:ta(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...vz(t,()=>r(s=>({...s}))),formState:n});const i=e.current.control;return i._options=t,sz({subject:i._subjects.state,next:s=>{iz(s,i._proxyFormState,!0)&&(i._formState={...i._formState,...s},r({...i._formState}))}}),Te.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),Te.useEffect(()=>{t.values&&!Os(t.values,i._defaultValues)&&i._reset(t.values,i._options.resetOptions)},[t.values,i]),Te.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),e.current.formState=rz(n,i),e.current}const Sz=Fn.div`
    display: flex;
`,kz=Fn.div`
    background: linear-gradient(90deg, #574AE8, #3EA1DB);
    padding: 50px;
    width: 50%;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;

    p {
        color: #FFF;
        font-size: 5vw;
    }

    @media (max-width: 800px) {
        display: none;
    }
`,Ez=Fn.section`
    background-color: #FFF;

    width: 50%;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;

    @media (max-width: 800px) {
        width: 100%;
    }
`,Tz=Fn.div`
    width: 400px;
    padding: 0 20px;
    h1 {
        text-align: left;
    }
`,Cz=Fn.form`
    font-size: 1.3rem;
    padding: 20px;

    width: 400px;

    border-radius: 10px;

    display: flex;
    flex-direction: column;
`,XS=Fn.input`
    outline: 0;
    border:1px solid #E8E8E8;
    border-radius: 5px;
    padding: 10px;
    margin-bottom: 15px;
`,Iz=Fn.button`
    background-color: #3EA1DB;
    color: #FFF;
    padding: 10px;

    width: 100%;

    border: 0;
    border-radius: 5px;

    &:hover {
        cursor: pointer;
        background: blueviolet;
    }
`;function bz({login:t,isloading:e,error:n}){const{register:r,handleSubmit:i,formState:{errors:s}}=wz();return cr(Sz,{children:[H(kz,{children:H("p",{children:"Compartilhe seu conhecimento com o Mundo!"})}),cr(Ez,{children:[cr(Tz,{children:[H("p",{children:"Seja bem vinda de volta Larissa!"}),H("h1",{children:"Faça Login na sua conta"})]}),cr(Cz,{onSubmit:i(o=>t(o)),children:[H("label",{htmlFor:"email",children:"Email"}),H(XS,{type:"email",name:"email",id:"email",required:!0,placeholder:"nome@email.com",...r("email",{required:!0})}),H("label",{htmlFor:"password",children:"Senha"}),H(XS,{type:"password",name:"password",id:"password",required:!0,placeholder:"Senha",...r("password",{required:!0})}),H(Iz,{type:"submit",children:e?"Carregando":"Entrar"}),H("p",{children:n})]})]})]})}function xt(t){this.content=t}xt.prototype={constructor:xt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new xt(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new xt(n)},addToStart:function(t,e){return new xt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new xt(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new xt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=xt.from(t),t.size?new xt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=xt.from(t),t.size?new xt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=xt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};xt.from=function(t){if(t instanceof xt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new xt(e)};function rA(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=rA(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function iA(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let u=0,c=Math.min(o.text.length,a.text.length);for(;u<c&&o.text[o.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let u=iA(o.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class A{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],u=a+l.nodeSize;if(u>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,n-c),r,i+c)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{a.isText?(s+=a.text.slice(Math.max(e,l)-l,n-l),o=!r):a.isLeaf?(i?s+=typeof i=="function"?i(a):i:a.type.spec.leafText&&(s+=a.type.spec.leafText(a)),o=!r):!o&&a.isBlock&&(s+=r,o=!0)},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new A(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new A(r,i)}cutByIndex(e,n){return e==n?A.empty:e==0&&n==this.content.length?this:new A(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new A(i,s)}addToStart(e){return new A([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new A(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return rA(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return iA(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Lc(0,e);if(e==this.size)return Lc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?Lc(r+1,o):Lc(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return A.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new A(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return A.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new A(n||e,r)}static from(e){if(!e)return A.empty;if(e instanceof A)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new A([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}A.empty=new A([],0);const em={index:0,offset:0};function Lc(t,e){return em.index=t,em.offset=e,em}function ah(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!ah(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!ah(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let be=class{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ah(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return be.none;if(e instanceof be)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};be.none=[];class lh extends Error{}class ${constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=oA(this.content,e+this.openStart,n);return r&&new $(r,this.openStart,this.openEnd)}removeBetween(e,n){return new $(sA(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return $.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new $(A.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new $(e,r,i)}}$.empty=new $(A.empty,0,0);function sA(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(sA(s.content,e-i-1,n-i-1)))}function oA(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=oA(o.content,e-s-1,n);return a&&t.replaceChild(i,o.copy(a))}function xz(t,e,n){if(n.openStart>t.depth)throw new lh("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new lh("Inconsistent open depths");return aA(t,e,n,0)}function aA(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=aA(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Bs(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=Az(n,t);return Bs(s,uA(t,o,a,e,r))}else return Bs(s,uh(t,e,r))}function lA(t,e){if(!e.type.compatibleContent(t.type))throw new lh("Cannot join "+e.type.name+" onto "+t.type.name)}function Jg(t,e,n){let r=t.node(n);return lA(r,e.node(n)),r}function $s(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Fl(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&($s(t.nodeAfter,r),s++));for(let a=s;a<o;a++)$s(i.child(a),r);e&&e.depth==n&&e.textOffset&&$s(e.nodeBefore,r)}function Bs(t,e){return t.type.checkContent(e),t.copy(e)}function uA(t,e,n,r,i){let s=t.depth>i&&Jg(t,e,i+1),o=r.depth>i&&Jg(n,r,i+1),a=[];return Fl(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(lA(s,o),$s(Bs(s,uA(t,e,n,r,i+1)),a)):(s&&$s(Bs(s,uh(t,e,i+1)),a),Fl(e,n,i,a),o&&$s(Bs(o,uh(n,r,i+1)),a)),Fl(r,null,i,a),new A(a)}function uh(t,e,n){let r=[];if(Fl(null,t,n,r),t.depth>n){let i=Jg(t,e,n+1);$s(Bs(i,uh(t,e,n+1)),r)}return Fl(e,null,n,r),new A(r)}function Az(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(A.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Tu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return be.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new ch(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),u=s-l;if(r.push(o,a,i+l),!u||(o=o.child(a),o.isText))break;s=u-1,i+=l+1}return new Tu(n,r,s)}static resolveCached(e,n){for(let i=0;i<tm.length;i++){let s=tm[i];if(s.pos==n&&s.doc==e)return s}let r=tm[nm]=Tu.resolve(e,n);return nm=(nm+1)%Nz,r}}let tm=[],nm=0,Nz=12;class ch{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Oz=Object.create(null);let ni=class{constructor(e,n,r,i=be.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||A.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&ah(this.attrs,n||e.defaultAttrs||Oz)&&be.sameSet(this.marks,r||be.none)}copy(e=null){return e==this.content?this:new ni(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ni(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return $.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),u=i.node(o).content.cut(i.pos-a,s.pos-a);return new $(u,i.depth-o,s.depth-o)}replace(e,n,r){return xz(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Tu.resolveCached(this,e)}resolveNoCache(e){return Tu.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),cA(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=A.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=be.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!be.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=A.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}};ni.prototype.text=void 0;class dh extends ni{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):cA(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new dh(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new dh(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function cA(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class no{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Mz(e,n);if(r.next==null)return no.empty;let i=dA(r);r.next&&r.err("Unexpected trailing text");let s=$z(Fz(i));return Bz(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return A.from(a.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:d}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let h=s(d,a.concat(c));if(h)return h}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}no.empty=new no(!0);class Mz{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function dA(t){let e=[];do e.push(_z(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function _z(t){let e=[];do e.push(Dz(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Dz(t){let e=Lz(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Rz(t,e);else break;return e}function ZS(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Rz(t,e){let n=ZS(t),r=n;return t.eat(",")&&(t.next!="}"?r=ZS(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Pz(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.groups.indexOf(e)>-1&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Lz(t){if(t.eat("(")){let e=dA(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Pz(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Fz(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let u={term:l,to:a};return e[o].push(u),u}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(s(u,a)),[]);if(o.type=="seq")for(let l=0;;l++){let u=s(o.exprs[l],a);if(l==o.exprs.length-1)return u;i(u,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let u=0;u<o.min;u++){let c=n();i(s(o.expr,l),c),l=c}if(o.max==-1)i(s(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let c=n();r(l,c),i(s(o.expr,l),c),l=c}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function hA(t,e){return e-t}function ek(t,e){let n=[];return r(e),n.sort(hA);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function $z(t){let e=Object.create(null);return n(ek(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<i.length;c++)i[c][0]==a&&(u=i[c][1]);ek(t,l).forEach(c=>{u||i.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let s=e[r.join(",")]=new no(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(hA);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function Bz(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function fA(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function pA(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function mA(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new Vz(t[n]);return e}let Qg=class{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=mA(r.attrs),this.defaultAttrs=fA(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==no.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:pA(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ni(this,this.computeAttrs(e),A.from(n),be.setFrom(r))}createChecked(e=null,n,r){return n=A.from(n),this.checkContent(n),new ni(this,this.computeAttrs(e),n,be.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=A.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(A.empty,!0);return s?new ni(this,e,n.append(s),be.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:be.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new Qg(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class Vz{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Mf{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=mA(i.attrs),this.excluded=null;let s=fA(this.attrs);this.instance=s?new be(this,s):null}create(e=null){return!e&&this.instance?this.instance:new be(this,pA(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Mf(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class zz{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=xt.from(e.nodes),n.marks=xt.from(e.marks||{}),this.nodes=Qg.compile(this.spec.nodes,this),this.marks=Mf.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;s.contentMatch=r[o]||(r[o]=no.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.markSet=a=="_"?null:a?tk(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:tk(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Qg){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new dh(r,r.defaultAttrs,e,be.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return ni.fromJSON(this,e)}markFromJSON(e){return be.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function tk(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class Ta{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new rk(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new rk(this,n,!0);return r.addAll(e,n.from,n.to),$.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Hz(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=ik(o)),o.mark=i})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=ik(o)),o.node=i})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ta(e,Ta.schemaRules(e)))}}const gA={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Uz={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},yA={ol:!0,ul:!0},hh=1,fh=2,$l=4;function nk(t,e,n){return e!=null?(e?hh:0)|(e==="full"?fh:0):t&&t.whitespace=="pre"?hh|fh:n&~$l}class Fc{constructor(e,n,r,i,s,o,a){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=a,this.content=[],this.activeMarks=be.none,this.stashMarks=[],this.match=o||(a&$l?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(A.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&hh)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=A.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(A.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):qz(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!gA.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class rk{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=nk(null,n.preserveWhitespace,0)|(r?$l:0);i?s=new Fc(i.type,i.attrs,be.none,be.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new Fc(null,null,be.none,be.none,!0,null,o):s=new Fc(e.schema.topNodeType,null,be.none,be.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style"),r=n?this.readStyles(Wz(n)):null,i=this.top;if(r!=null)for(let s=0;s<r.length;s++)this.addPendingMark(r[s]);if(this.addElement(e),r!=null)for(let s=0;s<r.length;s++)this.removePendingMark(r[s],i)}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&fh||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&hh)r.options&fh?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=e.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;yA.hasOwnProperty(r)&&this.parser.normalizeLists&&jz(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(s?s.ignore:Uz.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let o,a=this.top,l=this.needsBlock;if(gA.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),o=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),o&&this.sync(a),this.needsBlock=l}else this.addElementByRule(e,s,s.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=be.none;e:for(let r=0;r<e.length;r+=2)for(let i=void 0;;){let s=this.parser.matchStyle(e[r],e[r+1],this,i);if(!s)continue e;if(s.ignore)return null;if(n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)i=s;else break}return n}addElementByRule(e,n,r){let i,s,o;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(e):i=this.enter(s,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(e,n,r){let i=n||0;for(let s=n?e.childNodes[n]:e.firstChild,o=r==null?null:e.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(e);if(o&&(!n||n.length>o.length)&&(n=o,r=s,!o.length)||s.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(e),s.match=s.match&&s.match.matchType(e);let o=nk(e,i,s.options);s.options&$l&&s.content.length==0&&(o|=$l),this.nodes.push(new Fc(e,n,s.activeMarks,s.pendingMarks,r,null,o)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=Kz(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let o=i.popFromStashMark(e);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==n)break}}}function jz(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&yA.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Hz(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Wz(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function ik(t){let e={};for(let n in t)e[n]=t[n];return e}function qz(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==e||s.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}function Kz(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Mr{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=rm(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],c=this.serializeMark(u,o.isInline,n);c&&(s.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Mr.renderSpec(rm(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Mr.renderSpec(rm(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let o,a=r?e.createElementNS(r,i):e.createElement(i),l=n[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let c in l)if(l[c]!=null){let d=c.indexOf(" ");d>0?a.setAttributeNS(c.slice(0,d),c.slice(d+1),l[c]):a.setAttribute(c,l[c])}}for(let c=u;c<n.length;c++){let d=n[c];if(d===0){if(c<n.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:h,contentDOM:f}=Mr.renderSpec(e,d,r);if(a.appendChild(h),f){if(o)throw new RangeError("Multiple content holes");o=f}}}return{dom:a,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Mr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=sk(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return sk(e.marks)}}function sk(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function rm(t){return t.document||window.document}const vA=65535,wA=Math.pow(2,16);function Gz(t,e){return t+e*wA}function ok(t){return t&vA}function Jz(t){return(t-(t&vA))/wA}const SA=1,kA=2,sd=4,EA=8;class Yg{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&EA)>0}get deletedBefore(){return(this.delInfo&(SA|sd))>0}get deletedAfter(){return(this.delInfo&(kA|sd))>0}get deletedAcross(){return(this.delInfo&sd)>0}}class jn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&jn.empty)return jn.empty}recover(e){let n=0,r=ok(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Jz(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+s],c=this.ranges[a+o],d=l+u;if(e<=d){let h=u?e==l?-1:e==d?1:n:n,f=l+i+(h<0?0:c);if(r)return f;let p=e==(n<0?l:d)?null:Gz(a/3,e-l),m=e==l?kA:e==d?SA:sd;return(n<0?e!=l:e!=d)&&(m|=EA),new Yg(f,m,p)}i+=c-u}return r?e+i:new Yg(e+i,0,null)}touches(e,n){let r=0,i=ok(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+s],c=l+u;if(e<=c&&a==i*3)return!0;r+=this.ranges[a+o]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),u=this.ranges[i+n],c=this.ranges[i+r];e(a,a+u,l,l+c),s+=c-u}}invert(){return new jn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?jn.empty:new jn(e<0?[0,-e,0]:[0,0,e])}}jn.empty=new jn([]);class na{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new na(this.maps,this.mirror,e,n)}copy(){return new na(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new na;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Yg(e,i,null)}}const im=Object.create(null);class Tn{getMap(){return jn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=im[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in im)throw new RangeError("Duplicate use of step JSON ID "+e);return im[e]=n,n.prototype.jsonID=e,n}}class dt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new dt(e,null)}static fail(e){return new dt(null,e)}static fromReplace(e,n,r,i){try{return dt.ok(e.replace(n,r,i))}catch(s){if(s instanceof lh)return dt.fail(s.message);throw s}}}function C0(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(C0(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return A.fromArray(r)}class Pi extends Tn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new $(C0(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return dt.fromReplace(e,this.from,this.to,s)}invert(){return new _r(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Pi(n.pos,r.pos,this.mark)}merge(e){return e instanceof Pi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Pi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Pi(n.from,n.to,e.markFromJSON(n.mark))}}Tn.jsonID("addMark",Pi);class _r extends Tn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new $(C0(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return dt.fromReplace(e,this.from,this.to,r)}invert(){return new Pi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new _r(n.pos,r.pos,this.mark)}merge(e){return e instanceof _r&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new _r(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new _r(n.from,n.to,e.markFromJSON(n.mark))}}Tn.jsonID("removeMark",_r);class Li extends Tn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return dt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return dt.fromReplace(e,this.pos,this.pos+1,new $(A.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Li(this.pos,n.marks[i]);return new Li(this.pos,this.mark)}}return new Ca(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Li(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Li(n.pos,e.markFromJSON(n.mark))}}Tn.jsonID("addNodeMark",Li);class Ca extends Tn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return dt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return dt.fromReplace(e,this.pos,this.pos+1,new $(A.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Li(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ca(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ca(n.pos,e.markFromJSON(n.mark))}}Tn.jsonID("removeNodeMark",Ca);class jt extends Tn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Xg(e,this.from,this.to)?dt.fail("Structure replace would overwrite content"):dt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new jn([this.from,this.to-this.from,this.slice.size])}invert(e){return new jt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new jt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof jt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?$.empty:new $(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new jt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?$.empty:new $(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new jt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new jt(n.from,n.to,$.fromJSON(e,n.slice),!!n.structure)}}Tn.jsonID("replace",jt);class wt extends Tn{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Xg(e,this.from,this.gapFrom)||Xg(e,this.gapTo,this.to)))return dt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return dt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?dt.fromReplace(e,this.from,this.to,r):dt.fail("Content does not fit in gap")}getMap(){return new jn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new wt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),s=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new wt(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new wt(n.from,n.to,n.gapFrom,n.gapTo,$.fromJSON(e,n.slice),n.insert,!!n.structure)}}Tn.jsonID("replaceAround",wt);function Xg(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Qz(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let h=Math.max(u,e),f=Math.min(u+l.nodeSize,n),p=r.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(p)||(o&&o.to==h&&o.mark.eq(d[m])?o.to=f:i.push(o=new _r(h,f,d[m])));a&&a.to==h?a.to=f:s.push(a=new Pi(h,f,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function Yz(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Mf){let u=o.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let u=Math.min(a+o.nodeSize,n);for(let c=0;c<l.length;c++){let d=l[c],h;for(let f=0;f<i.length;f++){let p=i[f];p.step==s-1&&d.eq(i[f].style)&&(h=p)}h?(h.to=u,h.step=s):i.push({style:d,from:Math.max(a,e),to:u,step:s})}}}),i.forEach(o=>t.step(new _r(o.from,o.to,o.style)))}function Xz(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),s=[],o=e+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),u=o+l.nodeSize,c=r.matchType(l.type);if(!c)s.push(new jt(o,u,$.empty));else{r=c;for(let d=0;d<l.marks.length;d++)n.allowsMarkType(l.marks[d].type)||t.step(new _r(o,u,l.marks[d]))}o=u}if(!r.validEnd){let a=r.fillBefore(A.empty,!0);t.replace(o,o,new $(a,0,0))}for(let a=s.length-1;a>=0;a--)t.step(s[a])}function Zz(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ba(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!Zz(i,s,o))break}return null}function eU(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,u=a,c=A.empty,d=0;for(let p=s,m=!1;p>n;p--)m||r.index(p)>0?(m=!0,c=A.from(r.node(p).copy(c)),d++):l--;let h=A.empty,f=0;for(let p=s,m=!1;p>n;p--)m||i.after(p+1)<i.end(p)?(m=!0,h=A.from(i.node(p).copy(h)),f++):u++;t.step(new wt(l,u,o,a,new $(c.append(h),d,f),c.size-d,!0))}function I0(t,e,n=null,r=t){let i=tU(t,e),s=i&&nU(r,e);return s?i.map(ak).concat({type:e,attrs:n}).concat(s.map(ak)):null}function ak(t){return{type:t,attrs:null}}function tU(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function nU(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:o}function rU(t,e,n){let r=A.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=A.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new wt(i,s,i,s,new $(r,0,0),n.length,!0))}function iU(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&sU(t.doc,t.mapping.slice(s).map(a),r)){t.clearIncompatible(t.mapping.slice(s).map(a,1),r);let l=t.mapping.slice(s),u=l.map(a,1),c=l.map(a+o.nodeSize,1);return t.step(new wt(u,c,u+1,c-1,new $(A.from(r.create(i,null,o.marks)),0,0),1,!0)),!1}})}function sU(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function oU(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new wt(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new $(A.from(o),0,0),1,!0))}function ra(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>s;u--,c--){let d=i.node(u),h=i.index(u);if(d.type.spec.isolating)return!1;let f=d.content.cutByIndex(h,d.childCount),p=r&&r[c]||d;if(p!=d&&(f=f.replaceChild(0,p.type.create(p.attrs))),!d.canReplace(h+1,d.childCount)||!p.type.validContent(f))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function aU(t,e,n=1,r){let i=t.doc.resolve(e),s=A.empty,o=A.empty;for(let a=i.depth,l=i.depth-n,u=n-1;a>l;a--,u--){s=A.from(i.node(a).copy(s));let c=r&&r[u];o=A.from(c?c.type.create(c.attrs,o):i.node(a).copy(o))}t.step(new jt(e,e,new $(s.append(o),n,n),!0))}function fs(t,e){let n=t.resolve(e),r=n.index();return TA(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function TA(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function CA(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&TA(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function lU(t,e,n){let r=new jt(e-n,e+n,$.empty,!0);t.step(r)}function uU(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function IA(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),u=r.node(o),c=!1;if(s==1)c=u.canReplace(l,l,i);else{let d=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(l,l,d[0])}if(c)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function b0(t,e,n=e,r=$.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return bA(i,s,r)?new jt(e,n,r):new cU(i,s,r).fit()}function bA(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class cU{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=A.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=A.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new $(s,o,a);return e>-1?new wt(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new jt(r.pos,i.pos,l):null}findFittable(){for(let e=1;e<=2;e++)for(let n=this.unplaced.openStart;n>=0;n--){let r,i=null;n?(i=sm(this.unplaced.content,n-1).firstChild,r=i.content):r=this.unplaced.content;let s=r.firstChild;for(let o=this.depth;o>=0;o--){let{type:a,match:l}=this.frontier[o],u,c=null;if(e==1&&(s?l.matchType(s.type)||(c=l.fillBefore(A.from(s),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:o,parent:i,inject:c};if(e==2&&s&&(u=l.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:o,parent:i,wrap:u};if(i&&l.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=sm(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new $(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=sm(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new $(yl(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new $(yl(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,u=0,c=[],{match:d,type:h}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)c.push(i.child(m));d=d.matchFragment(i)}let f=a.size+e-(o.content.size-o.openEnd);for(;u<a.childCount;){let m=a.child(u),S=d.matchType(m.type);if(!S)break;u++,(u>1||l==0||m.content.size)&&(d=S,c.push(xA(m.mark(h.allowedMarks(m.marks)),u==1?l:0,u==a.childCount?f:-1)))}let p=u==a.childCount;p||(f=-1),this.placed=vl(this.placed,n,A.from(c)),this.frontier[n].match=d,p&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,S=a;m<f;m++){let y=S.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),S=y.content}this.unplaced=p?e==0?$.empty:new $(yl(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new $(yl(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!om(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=om(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=om(e,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=vl(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=vl(this.placed,this.depth,A.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(A.empty,!0);n.childCount&&(this.placed=vl(this.placed,this.frontier.length,n))}}function yl(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(yl(t.firstChild.content,e-1,n)))}function vl(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(vl(t.lastChild.content,e-1,n)))}function sm(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function xA(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,xA(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(A.empty,!0)))),t.copy(r)}function om(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!dU(n,s.content,o)?a:null}function dU(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function hU(t){return t.spec.defining||t.spec.definingForContent}function fU(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(bA(i,s,r))return t.step(new jt(e,n,r));let o=NA(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let h=i.depth,f=i.pos-1;h>0;h--,f--){let p=i.node(h).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(h)>-1?a=h:i.before(h)==f&&o.splice(1,0,-h)}let l=o.indexOf(a),u=[],c=r.openStart;for(let h=r.content,f=0;;f++){let p=h.firstChild;if(u.push(p),f==r.openStart)break;h=p.content}for(let h=c-1;h>=0;h--){let f=u[h].type,p=hU(f);if(p&&i.node(l).type!=f)c=h;else if(p||!f.isTextblock)break}for(let h=r.openStart;h>=0;h--){let f=(h+c+1)%(r.openStart+1),p=u[f];if(p)for(let m=0;m<o.length;m++){let S=o[(m+l)%o.length],y=!0;S<0&&(y=!1,S=-S);let g=i.node(S-1),v=i.index(S-1);if(g.canReplaceWith(v,v,p.type,p.marks))return t.replace(i.before(S),y?s.after(S):n,new $(AA(r.content,0,r.openStart,f),f,r.openEnd))}}let d=t.steps.length;for(let h=o.length-1;h>=0&&(t.replace(e,n,r),!(t.steps.length>d));h--){let f=o[h];f<0||(e=i.before(f),n=s.after(f))}}function AA(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(AA(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(A.empty,!0))}return t}function pU(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=uU(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new $(A.from(r),0,0))}function mU(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=NA(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return t.delete(r.before(o),n);t.delete(e,n)}function NA(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class ia extends Tn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return dt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return dt.fromReplace(e,this.pos,this.pos+1,new $(A.from(i),0,n.isLeaf?0:1))}getMap(){return jn.empty}invert(e){return new ia(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ia(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ia(n.pos,n.attr,n.value)}}Tn.jsonID("attr",ia);let Ia=class extends Error{};Ia=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Ia.prototype=Object.create(Error.prototype);Ia.prototype.constructor=Ia;Ia.prototype.name="TransformError";class gU{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new na}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Ia(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=$.empty){let i=b0(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new $(A.from(r),0,0))}delete(e,n){return this.replace(e,n,$.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return fU(this,e,n,r),this}replaceRangeWith(e,n,r){return pU(this,e,n,r),this}deleteRange(e,n){return mU(this,e,n),this}lift(e,n){return eU(this,e,n),this}join(e,n=1){return lU(this,e,n),this}wrap(e,n){return rU(this,e,n),this}setBlockType(e,n=e,r,i=null){return iU(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i=[]){return oU(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new ia(e,n,r)),this}addNodeMark(e,n){return this.step(new Li(e,n)),this}removeNodeMark(e,n){if(!(n instanceof be)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Ca(e,n)),this}split(e,n=1,r){return aU(this,e,n,r),this}addMark(e,n,r){return Qz(this,e,n,r),this}removeMark(e,n,r){return Yz(this,e,n,r),this}clearIncompatible(e,n,r){return Xz(this,e,n,r),this}}const am=Object.create(null);class le{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new yU(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=$.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:u}=o[a],c=e.mapping.slice(s);e.replaceRange(c.map(l.pos),c.map(u.pos),a?$.empty:n),a==0&&ck(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),u=l.map(o.pos),c=l.map(a.pos);s?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),ck(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new ce(e):ko(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?ko(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):ko(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new fr(e.node(0))}static atStart(e){return ko(e,e,0,0,1)||new fr(e)}static atEnd(e){return ko(e,e,e.content.size,e.childCount,-1)||new fr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=am[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in am)throw new RangeError("Duplicate use of selection JSON ID "+e);return am[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ce.between(this.$anchor,this.$head).getBookmark()}}le.prototype.visible=!0;class yU{constructor(e,n){this.$from=e,this.$to=n}}let lk=!1;function uk(t){!lk&&!t.parent.inlineContent&&(lk=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ce extends le{constructor(e,n=e){uk(e),uk(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return le.near(r);let i=e.resolve(n.map(this.anchor));return new ce(i.parent.inlineContent?i:r,r)}replace(e,n=$.empty){if(super.replace(e,n),n==$.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ce&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new _f(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ce(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=le.findFrom(n,r,!0)||le.findFrom(n,-r,!0);if(s)n=s.$head;else return le.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(le.findFrom(e,-r,!0)||le.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new ce(e,n)}}le.jsonID("text",ce);class _f{constructor(e,n){this.anchor=e,this.head=n}map(e){return new _f(e.map(this.anchor),e.map(this.head))}resolve(e){return ce.between(e.resolve(this.anchor),e.resolve(this.head))}}class Y extends le{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?le.near(s):new Y(s)}content(){return new $(A.from(this.node),0,0)}eq(e){return e instanceof Y&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new x0(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Y(e.resolve(n.anchor))}static create(e,n){return new Y(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Y.prototype.visible=!1;le.jsonID("node",Y);class x0{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new _f(r,r):new x0(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Y.isSelectable(r)?new Y(n):le.near(n)}}class fr extends le{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=$.empty){if(n==$.empty){e.delete(0,e.doc.content.size);let r=le.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new fr(e)}map(e){return new fr(e)}eq(e){return e instanceof fr}getBookmark(){return vU}}le.jsonID("all",fr);const vU={map(){return this},resolve(t){return new fr(t)}};function ko(t,e,n,r,i,s=!1){if(e.inlineContent)return ce.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&Y.isSelectable(a))return Y.create(t,n-(i<0?a.nodeSize:0))}else{let l=ko(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function ck(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof jt||i instanceof wt))return;let s=t.mapping.maps[r],o;s.forEach((a,l,u,c)=>{o==null&&(o=c)}),t.setSelection(le.near(t.doc.resolve(o),n))}const dk=1,$c=2,hk=4;class wU extends gU{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|dk)&~$c,this.storedMarks=null,this}get selectionSet(){return(this.updated&dk)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=$c,this}ensureMarks(e){return be.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&$c)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~$c,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||be.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(le.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=hk,this}get scrolledIntoView(){return(this.updated&hk)>0}}function fk(t,e){return!e||!t?t:t.bind(e)}class wl{constructor(e,n,r){this.name=e,this.init=fk(n.init,r),this.apply=fk(n.apply,r)}}const SU=[new wl("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new wl("selection",{init(t,e){return t.selection||le.atStart(e.doc)},apply(t){return t.selection}}),new wl("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new wl("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class lm{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=SU.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new wl(r.key,r.spec.state,r))})}}class Bo{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,c=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(c&&r.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Bo(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new wU(this)}static create(e){let n=new lm(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Bo(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new lm(this.schema,e.plugins),r=n.fields,i=new Bo(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new lm(e.schema,e.plugins),s=new Bo(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=ni.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=le.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=u.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function OA(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=OA(i,e,{})),n[r]=i}return n}class Yn{constructor(e){this.spec=e,this.props={},e.props&&OA(e.props,this,this.props),this.key=e.key?e.key.key:MA("plugin")}getState(e){return e[this.key]}}const um=Object.create(null);function MA(t){return t in um?t+"$"+ ++um[t]:(um[t]=0,t+"$")}class ps{constructor(e="key"){this.key=MA(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const bn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Cu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let pk=null;const qr=function(t,e,n){let r=pk||(pk=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},ro=function(t,e,n,r){return n&&(mk(t,e,n,r,-1)||mk(t,e,n,r,1))},kU=/^(img|br|input|textarea|hr)$/i;function mk(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ar(t))){let s=t.parentNode;if(!s||s.nodeType!=1||TU(t)||kU.test(t.nodeName)||t.contentEditable=="false")return!1;e=bn(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Ar(t):0}else return!1}}function Ar(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function EU(t,e,n){for(let r=e==0,i=e==Ar(t);r||i;){if(t==n)return!0;let s=bn(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Ar(t)}}function TU(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Df=function(t){return t.focusNode&&ro(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Vo(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function CU(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const rs=typeof navigator<"u"?navigator:null,gk=typeof document<"u"?document:null,ms=rs&&rs.userAgent||"",Zg=/Edge\/(\d+)/.exec(ms),_A=/MSIE \d/.exec(ms),ey=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ms),Sn=!!(_A||ey||Zg),Ji=_A?document.documentMode:ey?+ey[1]:Zg?+Zg[1]:0,vr=!Sn&&/gecko\/(\d+)/i.test(ms);vr&&+(/Firefox\/(\d+)/.exec(ms)||[0,0])[1];const ty=!Sn&&/Chrome\/(\d+)/.exec(ms),gn=!!ty,IU=ty?+ty[1]:0,rn=!Sn&&!!rs&&/Apple Computer/.test(rs.vendor),ba=rn&&(/Mobile\/\w+/.test(ms)||!!rs&&rs.maxTouchPoints>2),Vn=ba||(rs?/Mac/.test(rs.platform):!1),Nr=/Android \d/.test(ms),Rf=!!gk&&"webkitFontSmoothing"in gk.documentElement.style,bU=Rf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function xU(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ki(t,e){return typeof t=="number"?t:t[e]}function AU(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function yk(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=Cu(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,u=l?xU(s):AU(a),c=0,d=0;if(e.top<u.top+ki(r,"top")?d=-(u.top-e.top+ki(i,"top")):e.bottom>u.bottom-ki(r,"bottom")&&(d=e.bottom-u.bottom+ki(i,"bottom")),e.left<u.left+ki(r,"left")?c=-(u.left-e.left+ki(i,"left")):e.right>u.right-ki(r,"right")&&(c=e.right-u.right+ki(i,"right")),c||d)if(l)s.defaultView.scrollBy(c,d);else{let h=a.scrollLeft,f=a.scrollTop;d&&(a.scrollTop+=d),c&&(a.scrollLeft+=c);let p=a.scrollLeft-h,m=a.scrollTop-f;e={left:e.left-p,top:e.top-m,right:e.right-p,bottom:e.bottom-m}}if(l)break}}function NU(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:DA(t.dom)}}function DA(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Cu(r));return e}function OU({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;RA(n,r==0?0:r-e)}function RA(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let wo=null;function MU(t){if(t.setActive)return t.setActive();if(wo)return t.focus(wo);let e=DA(t);t.focus(wo==null?{get preventScroll(){return wo={preventScroll:!0},!0}}:void 0),wo||(wo=!1,RA(e,0))}function PA(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top;for(let l=t.firstChild,u=0;l;l=l.nextSibling,u++){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=qr(l).getClientRects();else continue;for(let d=0;d<c.length;d++){let h=c[d];if(h.top<=o&&h.bottom>=a){o=Math.max(h.bottom,o),a=Math.min(h.top,a);let f=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(f<r){n=l,r=f,i=f&&n.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,l.nodeType==1&&f&&(s=u+(e.left>=(h.left+h.right)/2?1:0));continue}}!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(s=u+1)}}return n&&n.nodeType==3?_U(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:PA(n,i)}function _U(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Ei(r,1);if(s.top!=s.bottom&&A0(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function A0(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function DU(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function RU(t,e,n){let{node:r,offset:i}=PA(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function PU(t,e,n,r){let i=-1;for(let s=e;s!=t.dom;){let o=t.docView.nearestDesc(s,!0);if(!o)return null;if(o.node.isBlock&&o.parent){let a=o.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=o.posBefore;else if(a.right<r.left||a.bottom<r.top)i=o.posAfter;else break}s=o.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,1)}function LA(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(A0(e,u))return LA(o,e,u)}}if((s=(s+1)%r)==i)break}return t}function LU(t,e){let n=t.dom.ownerDocument,r,i=0;if(n.caretPositionFromPoint)try{let l=n.caretPositionFromPoint(e.left,e.top);l&&({offsetNode:r,offset:i}=l)}catch{}if(!r&&n.caretRangeFromPoint){let l=n.caretRangeFromPoint(e.left,e.top);l&&({startContainer:r,startOffset:i}=l)}let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),o;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let l=t.dom.getBoundingClientRect();if(!A0(e,l)||(s=LA(t.dom,e,l),!s))return null}if(rn)for(let l=s;r&&l;l=Cu(l))l.draggable&&(r=void 0);if(s=DU(s,e),r){if(vr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let l=r.childNodes[i],u;l.nodeName=="IMG"&&(u=l.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(o=PU(t,r,i,e))}o==null&&(o=RU(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:o,inside:a?a.posAtStart-a.border:-1}}function Ei(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const FU=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function FA(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=Rf||vr;if(r.nodeType==3)if(o&&(FU.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Ei(qr(r,i,i),n);if(vr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Ei(qr(r,i-1,i-1),-1);if(u.top==l.top){let c=Ei(qr(r,i,i+1),-1);if(c.top!=l.top)return al(c,c.left<u.left)}}return l}else{let l=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(l--,c=1):n<0?l--:u++,al(Ei(qr(r,l,u),1),c<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Ar(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return cm(l.getBoundingClientRect(),!1)}if(s==null&&i<Ar(r)){let l=r.childNodes[i];if(l.nodeType==1)return cm(l.getBoundingClientRect(),!0)}return cm(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Ar(r))){let l=r.childNodes[i-1],u=l.nodeType==3?qr(l,Ar(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return al(Ei(u,1),!1)}if(s==null&&i<Ar(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?qr(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return al(Ei(u,-1),!0)}return al(Ei(r.nodeType==3?qr(r):r,-n),n>=0)}function al(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function cm(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function $A(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function $U(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return $A(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.dom;break}s=a.dom.parentNode}let o=FA(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=qr(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(n=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const BU=/[\u0590-\u08ac]/;function VU(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return!BU.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:$A(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:d}=t.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let f=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:m}=t.domSelectionRange(),S=p&&!f.contains(p.nodeType==1?p:p.parentNode)||l==p&&u==m;try{a.collapse(c,d),l&&(l!=c||u!=d)&&a.extend&&a.extend(l,u)}catch{}return h!=null&&(a.caretBidiLevel=h),S})}let vk=null,wk=null,Sk=!1;function zU(t,e,n){return vk==e&&wk==n?Sk:(vk=e,wk=n,Sk=n=="up"||n=="down"?$U(t,e,n):VU(t,e,n))}const pr=0,kk=1,zo=2,Vr=3;class ec{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=pr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>bn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof VA){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof BA&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?bn(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?bn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],u=o+l.size;if(i==-1&&e<=u){let c=o+l.border;if(e>=c&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,c);e=o;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=bn(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(u>n||a==this.children.length-1)){n=u;for(let c=a+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=bn(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let h=0,f=0;h<this.children.length;h++){let p=this.children[h],m=f+p.size;if(s>f&&o<m)return p.setSelection(e-f-p.border,n-f-p.border,r,i);f=m}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((vr||rn)&&e==n){let{node:h,offset:f}=a;if(h.nodeType==3){if(c=!!(f&&h.nodeValue[f-1]==`
`),c&&f==h.nodeValue.length)for(let p=h,m;p;p=p.parentNode){if(m=p.nextSibling){m.nodeName=="BR"&&(a=l={node:m.parentNode,offset:bn(m)+1});break}let S=p.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let p=h.childNodes[f-1];c=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(vr&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||c&&rn)&&ro(a.node,a.offset,u.anchorNode,u.anchorOffset)&&ro(l.node,l.offset,u.focusNode,u.focusOffset))return;let d=!1;if((u.extend||e==n)&&!c){u.collapse(a.node,a.offset);try{e!=n&&u.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let f=a;a=l,l=f}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?zo:kk,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Vr:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?zo:Vr}r=o}this.dirty=zo}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?zo:kk;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class BA extends ec{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==pr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class UU extends ec{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class io extends ec{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Mr.renderSpec(document,n.type.spec.toDOM(n,r))),new io(e,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&Vr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=Vr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=pr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=pr}}slice(e,n,r){let i=io.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=iy(s,n,o,r)),e>0&&(s=iy(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class so extends ec{constructor(e,n,r,i,s,o,a,l,u){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a,o&&this.updateChildren(l,u)}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,u=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=Mr.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let h=c;return c=jA(c,r,n),u?l=new jU(e,n,r,i,c,d||null,h,u,s,o+1):n.isText?new Pf(e,n,r,i,c,h,s):new so(e,n,r,i,c,d||null,h,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>A.empty)}return e}matchesNode(e,n,r){return this.dirty==pr&&e.eq(this.node)&&ry(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new WU(this,o&&o.node,e);GU(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!d&&l.syncToMarks(c==this.node.childCount?be.none:this.node.child(c).marks,r,e),l.placeWidget(u,e,i)},(u,c,d,h)=>{l.syncToMarks(u.marks,r,e);let f;l.findNodeMatch(u,c,d,h)||a&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(f=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,c,d,f,e)||l.updateNextNode(u,c,d,e,h)||l.addNode(u,c,d,e,i),i+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==zo)&&(o&&this.protectLocalComposition(e,o),zA(this.contentDOM,this.children,e),ba&&JU(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof ce)||r<n||i>n+this.node.content.size)return null;let s=e.domSelectionRange(),o=QU(s.focusNode,s.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,l=YU(this.node.content,a,r-n,i-n);return l<0?null:{node:o,pos:l,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new UU(this,s,n,i);e.input.compositionNodes.push(o),this.children=iy(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==Vr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=pr}updateOuterDeco(e){if(ry(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=UA(this.dom,this.nodeDOM,ny(this.outerDeco,this.node,n),ny(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Ek(t,e,n,r,i){return jA(r,e,t),new so(void 0,t,e,n,r,r,r,i,0)}class Pf extends so{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Vr||this.dirty!=pr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=pr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=pr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Pf(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Vr)}get domAtom(){return!1}}class VA extends ec{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==pr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class jU extends so{constructor(e,n,r,i,s,o,a,l,u,c){super(e,n,r,i,s,o,a,u,c),this.spec=l}update(e,n,r,i){if(this.dirty==Vr)return!1;if(this.spec.update){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function zA(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=Tk(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof io){let l=r?r.previousSibling:t.lastChild;zA(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=Tk(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Bl=function(t){t&&(this.nodeName=t)};Bl.prototype=Object.create(null);const Ms=[new Bl];function ny(t,e,n){if(t.length==0)return Ms;let r=n?Ms[0]:new Bl,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new Bl(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new Bl(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function UA(t,e,n,r){if(n==Ms&&r==Ms)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Ms[0]),i=l}HU(i,a||Ms[0],o)}return i}function HU(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function jA(t,e,n){return UA(t,t,Ms,ny(e,n,t.nodeType!=1))}function ry(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Tk(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class WU{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=qU(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=pr,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(e[s])){a=l;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=io.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==Vr&&o.dom==o.contentDOM&&(o.dirty=zo),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof so){let l=this.preMatch.matched.get(a);if(l!=null&&l!=s)return!1;let u=a.dom;if(!(this.lock&&(u==this.lock||u.nodeType==1&&u.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Vr&&ry(n,a.outerDeco)))&&a.update(e,n,r,i))return this.destroyBetween(this.index,o),a.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,n,r,i,s){this.top.children.splice(this.index++,0,so.create(this.top,e,n,r,i,s)),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new BA(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof io;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Pf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((rn||gn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new VA(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}}function qU(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof io)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function KU(t,e){return t.type.side-e.type.side}function GU(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(s,c),u),s+=c.nodeSize}return}let o=0,a=[],l=null;for(let u=0;;){if(o<i.length&&i[o].to==s){let p=i[o++],m;for(;o<i.length&&i[o].to==s;)(m||(m=[p])).push(i[o++]);if(m){m.sort(KU);for(let S=0;S<m.length;S++)n(m[S],u,!!l)}else n(p,u,!!l)}let c,d;if(l)d=-1,c=l,l=null;else if(u<t.childCount)d=u,c=t.child(u++);else break;for(let p=0;p<a.length;p++)a[p].to<=s&&a.splice(p--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let h=s+c.nodeSize;if(c.isText){let p=h;o<i.length&&i[o].from<p&&(p=i[o].from);for(let m=0;m<a.length;m++)a[m].to<p&&(p=a[m].to);p<h&&(l=c.cut(p-s),c=c.cut(0,p-s),h=p,d=-1)}let f=c.isInline&&!c.isLeaf?a.filter(p=>!p.inline):a.slice();r(c,f,e.forChild(s,c),d),s=h}}function JU(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function QU(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=Ar(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function YU(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let u=t.child(i++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=n){let u=a<r?l.lastIndexOf(e,r-a-1):-1;if(u>=0&&u+e.length+a>=n)return a+u;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function iy(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],u=a,c=a+=l.size;u>=n||c<=e?s.push(l):(u<e&&s.push(l.slice(0,e-u,r)),i&&(s.push(i),i=void 0),c>n&&s.push(l.slice(n-u,l.size,r)))}return s}function N0(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,u;if(Df(n)){for(l=a;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&Y.isSelectable(c)&&i.parent&&!(c.isInline&&EU(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;u=new Y(o==d?a:r.resolve(d))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;l=r.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;u=O0(t,l,a,c)}return u}function HA(t){return t.editable?t.hasFocus():qA(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ri(t,e=!1){let n=t.state.selection;if(WA(t,n),!!HA(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&gn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&ro(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)ZU(t);else{let{anchor:r,head:i}=n,s,o;Ck&&!(n instanceof ce)&&(n.$from.parent.inlineContent||(s=Ik(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=Ik(t,n.to))),t.docView.setSelection(r,i,t.root,e),Ck&&(s&&bk(s),o&&bk(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&XU(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Ck=rn||gn&&IU<63;function Ik(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(rn&&i&&i.contentEditable=="false")return dm(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return dm(i);if(s)return dm(s)}}function dm(t){return t.contentEditable="true",rn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function bk(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function XU(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!HA(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function ZU(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,bn(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Sn&&Ji<=11&&(r.disabled=!0,r.disabled=!1)}function WA(t,e){if(e instanceof Y){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(xk(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else xk(t)}function xk(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function O0(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||ce.between(e,n,r)}function Ak(t){return t.editable&&!t.hasFocus()?!1:qA(t)}function qA(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function e3(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ro(e.node,e.offset,n.anchorNode,n.anchorOffset)}function sy(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&le.findFrom(s,e)}function Es(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Nk(t,e,n){let r=t.state.selection;if(r instanceof ce){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=sy(t.state,e);return i&&i instanceof Y?Es(t,i):!1}else if(!(Vn&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?Y.isSelectable(s)?Es(t,new Y(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Rf?Es(t,new ce(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else{if(r instanceof Y&&r.node.isInline)return Es(t,new ce(e>0?r.$to:r.$from));{let i=sy(t.state,e);return i?Es(t,i):!1}}}function ph(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Vl(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function hm(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(vr&&n.nodeType==1&&r<ph(n)&&Vl(n.childNodes[r])&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Vl(a))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(KA(n))break;{let a=n.previousSibling;for(;a&&Vl(a);)i=n.parentNode,s=bn(a),a=a.previousSibling;if(a)n=a,r=ph(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?oy(t,n,r):i&&oy(t,i,s)}function fm(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=ph(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Vl(a))s=n,o=++r;else break}else{if(KA(n))break;{let a=n.nextSibling;for(;a&&Vl(a);)s=a.parentNode,o=bn(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=ph(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&oy(t,s,o)}function KA(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function oy(t,e,n){let r=t.domSelection();if(Df(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&ri(t)},50)}function Ok(t,e,n){let r=t.state.selection;if(r instanceof ce&&!r.empty||n.indexOf("s")>-1||Vn&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=sy(t.state,e);if(o&&o instanceof Y)return Es(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof fr?le.near(o,e):le.findFrom(o,e);return a?Es(t,a):!1}return!1}function Mk(t,e){if(!(t.state.selection instanceof ce))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function _k(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function t3(t){if(!rn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;_k(t,r,"true"),setTimeout(()=>_k(t,r,"false"),20)}return!1}function n3(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function r3(t,e){let n=e.keyCode,r=n3(e);return n==8||Vn&&n==72&&r=="c"?Mk(t,-1)||hm(t):n==46||Vn&&n==68&&r=="c"?Mk(t,1)||fm(t):n==13||n==27?!0:n==37||Vn&&n==66&&r=="c"?Nk(t,-1,r)||hm(t):n==39||Vn&&n==70&&r=="c"?Nk(t,1,r)||fm(t):n==38||Vn&&n==80&&r=="c"?Ok(t,-1,r)||hm(t):n==40||Vn&&n==78&&r=="c"?t3(t)||Ok(t,1,r)||fm(t):r==(Vn?"m":"c")&&(n==66||n==73||n==89||n==90)}function GA(t,e){t.someProp("transformCopied",f=>{e=f(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let f=r.firstChild;n.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),r=f.content}let o=t.someProp("clipboardSerializer")||Mr.fromSchema(t.state.schema),a=eN(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let u=l.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=ZA[u.nodeName.toLowerCase()]);){for(let f=c.length-1;f>=0;f--){let p=a.createElement(c[f]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=t.someProp("clipboardTextSerializer",f=>f(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h}}function JA(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",h=>{e=h(e,s||r,t)}),s)return e?new $(A.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):$.empty;let d=t.someProp("clipboardTextParser",h=>h(e,i,r,t));if(d)a=d;else{let h=i.marks(),{schema:f}=t.state,p=Mr.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let S=o.appendChild(document.createElement("p"));m&&S.appendChild(p.serializeNode(f.text(m,h)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=o3(n),Rf&&a3(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Ta.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!i3.test(h.parentNode.nodeName)?{ignore:!0}:null}})),c)a=l3(Dk(a,+c[1],+c[2]),c[4]);else if(a=$.maxOpen(s3(a.content,i),!0),a.openStart||a.openEnd){let d=0,h=0;for(let f=a.content.firstChild;d<a.openStart&&!f.type.spec.isolating;d++,f=f.firstChild);for(let f=a.content.lastChild;h<a.openEnd&&!f.type.spec.isolating;h++,f=f.lastChild);a=Dk(a,d,h)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const i3=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function s3(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),u;if(!l)return o=null;if(u=o.length&&s.length&&YA(l,s,a,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=XA(o[o.length-1],s.length));let c=QA(a,l);o.push(c),i=i.matchType(c.type),s=l}}),o)return A.from(o)}return t}function QA(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,A.from(t));return t}function YA(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=YA(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(A.from(QA(n,t,i+1))))}}function XA(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,XA(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(A.empty,!0);return t.copy(n.append(r))}function ay(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return i<r-1&&(a=ay(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,t.childCount>1||s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(A.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function Dk(t,e,n){return e<t.openStart&&(t=new $(ay(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new $(ay(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const ZA={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Rk=null;function eN(){return Rk||(Rk=document.implementation.createHTMLDocument("title"))}function o3(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=eN().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&ZA[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=t,i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function a3(t){let e=t.querySelectorAll(gn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function l3(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=A.from(l.create(r[a+1],i)),s++,o++}return new $(i,s,o)}const sn={},on={},u3={touchstart:!0,touchmove:!0};class c3{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function d3(t){for(let e in sn){let n=sn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{f3(t,r)&&!M0(t,r)&&(t.editable||!(r.type in on))&&n(t,r)},u3[e]?{passive:!0}:void 0)}rn&&t.dom.addEventListener("input",()=>null),ly(t)}function Fi(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function h3(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ly(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>M0(t,r))})}function M0(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function f3(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function p3(t,e){!M0(t,e)&&sn[e.type]&&(t.editable||!(e.type in on))&&sn[e.type](t,e)}on.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!nN(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Nr&&gn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),ba&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Vo(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||r3(t,n)?n.preventDefault():Fi(t,"key")};on.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};on.keypress=(t,e)=>{let n=e;if(nN(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Vn&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ce)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Lf(t){return{left:t.clientX,top:t.clientY}}function m3(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function _0(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function sa(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function g3(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Y.isSelectable(r)?(sa(t,new Y(n),"pointer"),!0):!1}function y3(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Y&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Y.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(sa(t,Y.create(t.state.doc,i),"pointer"),!0):!1}function v3(t,e,n,r,i){return _0(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?y3(t,n):g3(t,n))}function w3(t,e,n,r){return _0(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function S3(t,e,n,r){return _0(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||k3(t,n,r)}function k3(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(sa(t,ce.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)sa(t,ce.create(r,a+1,a+1+o.content.size),"pointer");else if(Y.isSelectable(o))sa(t,Y.create(r,a),"pointer");else continue;return!0}}function D0(t){return mh(t)}const tN=Vn?"metaKey":"ctrlKey";sn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=D0(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&m3(n,t.input.lastClick)&&!n[tN]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(Lf(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new E3(t,o,n,!!r)):(s=="doubleClick"?w3:S3)(t,o.pos,o.inside,n)?n.preventDefault():Fi(t,"pointer"))};class E3{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[tN],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let c=e.state.doc.resolve(n.pos);s=c.parent,o=c.depth?c.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof Y&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&vr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Fi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ri(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Lf(e))),this.updateAllowDefault(e),this.allowDefault||!n?Fi(this.view,"pointer"):v3(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||rn&&this.mightDrag&&!this.mightDrag.node.isAtom||gn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(sa(this.view,le.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Fi(this.view,"pointer")}move(e){this.updateAllowDefault(e),Fi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}sn.touchstart=t=>{t.input.lastTouch=Date.now(),D0(t),Fi(t,"pointer")};sn.touchmove=t=>{t.input.lastTouch=Date.now(),Fi(t,"pointer")};sn.contextmenu=t=>D0(t);function nN(t,e){return t.composing?!0:rn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const T3=Nr?5e3:-1;on.compositionstart=on.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),mh(t,!0),t.markCursor=null;else if(mh(t),vr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){t.domSelection().collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}rN(t,T3)};on.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,rN(t,20))};function rN(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>mh(t),e))}function iN(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=C3());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function C3(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function mh(t,e=!1){if(!(Nr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),iN(t),e||t.docView&&t.docView.dirty){let n=N0(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function I3(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const xa=Sn&&Ji<15||ba&&bU<604;sn.copy=on.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=xa?null:n.clipboardData,o=r.content(),{dom:a,text:l}=GA(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):I3(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function b3(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function x3(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?uy(t,r.value,null,e):uy(t,r.textContent,r.innerHTML,e)},50)}function uy(t,e,n,r){let i=JA(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,r,i||$.empty)))return!0;if(!i)return!1;let s=b3(i),o=s?t.state.tr.replaceSelectionWith(s,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}on.paste=(t,e)=>{let n=e;if(t.composing&&!Nr)return;let r=xa?null:n.clipboardData;r&&uy(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():x3(t,n)};class A3{constructor(e,n){this.slice=e,this.move=n}}const sN=Vn?"altKey":"ctrlKey";sn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Lf(n));if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Y?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(Y.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let u=t.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(Y.create(t.state.doc,u.posBefore)))}}let o=t.state.selection.content(),{dom:a,text:l}=GA(t,o);n.dataTransfer.clearData(),n.dataTransfer.setData(xa?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",xa||n.dataTransfer.setData("text/plain",l),t.dragging=new A3(o,!n[sN])};sn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};on.dragover=on.dragenter=(t,e)=>e.preventDefault();on.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Lf(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",p=>{o=p(o,t)}):o=JA(t,n.dataTransfer.getData(xa?"Text":"text/plain"),xa?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[sN]);if(t.someProp("handleDrop",p=>p(t,n,o||$.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?IA(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let u=t.state.tr;a&&u.deleteSelection();let c=u.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=u.doc;if(d?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(h))return;let f=u.doc.resolve(c);if(d&&Y.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new Y(f));else{let p=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((m,S,y,g)=>p=g),u.setSelection(O0(t,f,u.doc.resolve(p)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};sn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ri(t)},20))};sn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};sn.beforeinput=(t,e)=>{if(gn&&Nr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Vo(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in on)sn[t]=on[t];function Iu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class R0{constructor(e,n){this.toDOM=e,this.spec=n||Vs,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Wn(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof R0&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Iu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Qi{constructor(e,n){this.attrs=e,this.spec=n||Vs}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Wn(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Qi&&Iu(this.attrs,e.attrs)&&Iu(this.spec,e.spec)}static is(e){return e.type instanceof Qi}destroy(){}}class P0{constructor(e,n){this.attrs=e,this.spec=n||Vs}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Wn(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof P0&&Iu(this.attrs,e.attrs)&&Iu(this.spec,e.spec)}destroy(){}}class Wn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Wn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Wn(e,e,new R0(n,r))}static inline(e,n,r,i){return new Wn(e,n,new Qi(r,i))}static node(e,n,r,i){return new Wn(e,n,new P0(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Qi}}const Eo=[],Vs={};class ut{constructor(e,n){this.local=e.length?e:Eo,this.children=n.length?n:Eo}static create(e,n){return n.length?gh(n,e,0,Vs):Bt}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==Bt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Vs)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?N3(this.children,o||[],e,n,r,i,s):o?new ut(o.sort(zs),Eo):Bt}add(e,n){return n.length?this==Bt?ut.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let u=l+r,c;if(c=aN(n,a,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,c,u+1):i.splice(s,0,l,l+a.nodeSize,gh(c,a,u+1,Vs)),s+=3}});let o=oN(s?lN(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new ut(o.length?this.local.concat(o).sort(zs):this.local,i||this.children)}remove(e){return e.length==0||this==Bt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let c=0,d;c<e.length;c++)(d=e[c])&&d.from>a&&d.to<l&&(e[c]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(o,a+1);u!=Bt?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ut(i,r):Bt}forChild(e,n){if(this==Bt)return this;if(n.isLeaf)return ut.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Qi){let u=Math.max(s,l.from)-s,c=Math.min(o,l.to)-s;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let a=new ut(i.sort(zs),Eo);return r?new _i([a,r]):a}return r||Bt}eq(e){if(this==e)return!0;if(!(e instanceof ut)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return L0(this.localsInner(e))}localsInner(e){if(this==Bt)return Eo;if(e.inlineContent||!this.local.some(Qi.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Qi||n.push(this.local[r]);return n}}ut.empty=new ut([],[]);ut.removeOverlap=L0;const Bt=ut.empty;class _i{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Vs));return _i.from(r)}forChild(e,n){if(n.isLeaf)return ut.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Bt&&(s instanceof _i?r=r.concat(s.members):r.push(s))}return _i.from(r)}eq(e){if(!(e instanceof _i)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?L0(r?n:n.sort(zs)):Eo}static from(e){switch(e.length){case 0:return Bt;case 1:return e[0];default:return new _i(e.every(n=>n instanceof ut)?e:e.reduce((n,r)=>n.concat(r instanceof ut?r:r.members),[]))}}}function N3(t,e,n,r,i,s,o){let a=t.slice();for(let u=0,c=s;u<n.maps.length;u++){let d=0;n.maps[u].forEach((h,f,p,m)=>{let S=m-p-(f-h);for(let y=0;y<a.length;y+=3){let g=a[y+1];if(g<0||h>g+c-d)continue;let v=a[y]+c-d;f>=v?a[y+1]=h<=v?-2:-1:p>=i&&S&&(a[y]+=S,a[y+1]+=S)}d+=S}),c=n.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let c=n.map(t[u]+s),d=c-i;if(d<0||d>=r.content.size){l=!0;continue}let h=n.map(t[u+1]+s,-1),f=h-i,{index:p,offset:m}=r.content.findIndex(d),S=r.maybeChild(p);if(S&&m==d&&m+S.nodeSize==f){let y=a[u+2].mapInner(n,S,c+1,t[u]+s+1,o);y!=Bt?(a[u]=d,a[u+1]=f,a[u+2]=y):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=O3(a,t,e,n,i,s,o),c=gh(u,r,0,o);e=c.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<c.children.length;d+=3){let f=c.children[d];for(;h<a.length&&a[h]<f;)h+=3;a.splice(h,0,c.children[d],c.children[d+1],c.children[d+2])}}return new ut(e.sort(zs),a)}function oN(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Wn(i.from+e,i.to+e,i.type))}return n}function O3(t,e,n,r,i,s,o){function a(l,u){for(let c=0;c<l.local.length;c++){let d=l.local[c].map(r,i,u);d?n.push(d):o.onRemove&&o.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function aN(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function lN(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function gh(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let u=aN(t,a,l+n);if(u){s=!0;let c=gh(u,a,n+l+1,r);c!=Bt&&i.push(l,l+a.nodeSize,c)}});let o=oN(s?lN(t):t,-n).sort(zs);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new ut(o,i):Bt}function zs(t,e){return t.from-e.from||t.to-e.to}function L0(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),Pk(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),Pk(e,i,r.copy(s.from,r.to)));break}}}return e}function Pk(t,e,n){for(;e<t.length&&zs(n,t[e])>0;)e++;t.splice(e,0,n)}function pm(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Bt&&e.push(r)}),t.cursorWrapper&&e.push(ut.create(t.state.doc,[t.cursorWrapper.deco])),_i.from(e)}const M3={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},_3=Sn&&Ji<=11;class D3{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class R3{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new D3,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Sn&&Ji<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),_3&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,M3)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ak(this.view)){if(this.suppressingSelectionUpdates)return ri(this.view);if(Sn&&Ji<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ro(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Cu(s))n.add(s);for(let s=e.anchorNode;s;s=Cu(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Ak(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(vr&&l.length>1){let c=l.filter(d=>d.nodeName=="BR");if(c.length==2){let d=c[0],h=c[1];d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&Df(r)&&(u=N0(e))&&u.eq(le.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ri(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),P3(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ri(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)n.push(e.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Sn&&Ji<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:d,nextSibling:h}=e.addedNodes[c];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h)}let o=i&&i.parentNode==e.target?bn(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?bn(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Lk=new WeakMap,Fk=!1;function P3(t){if(!Lk.has(t)&&(Lk.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=vr,Fk)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Fk=!0}}function L3(t){let e;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return ro(a.node,a.offset,s,o)&&([r,i,s,o]=[s,o,r,i]),{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}}function F3(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),u,c=l.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],Df(l)||u.push({node:l.focusNode,offset:l.focusOffset})),gn&&t.input.lastKeyCode===8)for(let S=s;S>i;S--){let y=r.childNodes[S-1],g=y.pmViewDesc;if(y.nodeName=="BR"&&!g){s=S;break}if(!g||g.size)break}let d=t.state.doc,h=t.someProp("domParser")||Ta.fromSchema(t.state.schema),f=d.resolve(o),p=null,m=h.parse(r,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:$3,context:f});if(u&&u[0].pos!=null){let S=u[0].pos,y=u[1]&&u[1].pos;y==null&&(y=S),p={anchor:S+o,head:y+o}}return{doc:m,sel:p,from:o,to:a}}function $3(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(rn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||rn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function B3(t,e,n,r,i){if(e<0){let I=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,ee=N0(t,I);if(ee&&!t.state.selection.eq(ee)){let X=t.state.tr.setSelection(ee);I=="pointer"?X.setMeta("pointer",!0):I=="key"&&X.scrollIntoView(),t.dispatch(X)}return}let s=t.state.doc.resolve(e),o=s.sharedDepth(n);e=s.before(o+1),n=t.state.doc.resolve(n).after(o+1);let a=t.state.selection,l=F3(t,e,n),u=t.state.doc,c=u.slice(l.from,l.to),d,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,h="end"):(d=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let f=U3(c.content,l.doc.content,l.from,d,h);if((ba&&t.input.lastIOSEnter>Date.now()-225||Nr)&&i.some(I=>I.nodeName=="DIV"||I.nodeName=="P"||I.nodeName=="LI")&&(!f||f.endA>=f.endB)&&t.someProp("handleKeyDown",I=>I(t,Vo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!f)if(r&&a instanceof ce&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))f={start:a.from,endA:a.to,endB:a.to};else{if(l.sel){let I=$k(t,t.state.doc,l.sel);I&&!I.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(I))}return}if(gn&&t.cursorWrapper&&l.sel&&l.sel.anchor==t.cursorWrapper.deco.from&&l.sel.head==l.sel.anchor){let I=f.endB-f.start;l.sel={anchor:l.sel.anchor+I,head:l.sel.anchor+I}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&f.start==f.endB&&t.state.selection instanceof ce&&(f.start>t.state.selection.from&&f.start<=t.state.selection.from+2&&t.state.selection.from>=l.from?f.start=t.state.selection.from:f.endA<t.state.selection.to&&f.endA>=t.state.selection.to-2&&t.state.selection.to<=l.to&&(f.endB+=t.state.selection.to-f.endA,f.endA=t.state.selection.to)),Sn&&Ji<=11&&f.endB==f.start+1&&f.endA==f.start&&f.start>l.from&&l.doc.textBetween(f.start-l.from-1,f.start-l.from+1)=="  "&&(f.start--,f.endA--,f.endB--);let p=l.doc.resolveNoCache(f.start-l.from),m=l.doc.resolveNoCache(f.endB-l.from),S=u.resolve(f.start),y=p.sameParent(m)&&p.parent.inlineContent&&S.end()>=f.endA,g;if((ba&&t.input.lastIOSEnter>Date.now()-225&&(!y||i.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!y&&p.pos<l.doc.content.size&&(g=le.findFrom(l.doc.resolve(p.pos+1),1,!0))&&g.head==m.pos)&&t.someProp("handleKeyDown",I=>I(t,Vo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>f.start&&z3(u,f.start,f.endA,p,m)&&t.someProp("handleKeyDown",I=>I(t,Vo(8,"Backspace")))){Nr&&gn&&t.domObserver.suppressSelectionUpdates();return}gn&&Nr&&f.endB==f.start&&(t.input.lastAndroidDelete=Date.now()),Nr&&!y&&p.start()!=m.start()&&m.parentOffset==0&&p.depth==m.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==f.endA&&(f.endB-=2,m=l.doc.resolveNoCache(f.endB-l.from),setTimeout(()=>{t.someProp("handleKeyDown",function(I){return I(t,Vo(13,"Enter"))})},20));let v=f.start,k=f.endA,b,_,O;if(y){if(p.pos==m.pos)Sn&&Ji<=11&&p.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ri(t),20)),b=t.state.tr.delete(v,k),_=u.resolve(f.start).marksAcross(u.resolve(f.endA));else if(f.endA==f.endB&&(O=V3(p.parent.content.cut(p.parentOffset,m.parentOffset),S.parent.content.cut(S.parentOffset,f.endA-S.start()))))b=t.state.tr,O.type=="add"?b.addMark(v,k,O.mark):b.removeMark(v,k,O.mark);else if(p.parent.child(p.index()).isText&&p.index()==m.index()-(m.textOffset?0:1)){let I=p.parent.textBetween(p.parentOffset,m.parentOffset);if(t.someProp("handleTextInput",ee=>ee(t,v,k,I)))return;b=t.state.tr.insertText(I,v,k)}}if(b||(b=t.state.tr.replace(v,k,l.doc.slice(f.start-l.from,f.endB-l.from))),l.sel){let I=$k(t,b.doc,l.sel);I&&!(gn&&Nr&&t.composing&&I.empty&&(f.start!=f.endB||t.input.lastAndroidDelete<Date.now()-100)&&(I.head==v||I.head==b.mapping.map(k)-1)||Sn&&I.empty&&I.head==v)&&b.setSelection(I)}_&&b.ensureMarks(_),t.dispatch(b.scrollIntoView())}function $k(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:O0(t,e.resolve(n.anchor),e.resolve(n.head))}function V3(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)s=n[c].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=c=>c.mark(a.addToSet(c.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=c=>c.mark(a.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(A.from(u).eq(t))return{mark:a,type:o}}function z3(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||mm(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(mm(s,!0,!0));return!o.parent.isTextblock||o.pos>n||mm(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function mm(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function U3(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}class j3{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new c3,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(jk),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=zk(this),Vk(this),this.nodeViews=Uk(this),this.docView=Ek(this.state.doc,Bk(this),pm(this),this.dom,this),this.domObserver=new R3(this,(r,i,s,o)=>B3(this,r,i,s,o)),this.domObserver.start(),d3(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ly(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(jk),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,s=!1;e.storedMarks&&this.composing&&(iN(this),s=!0),this.state=e;let o=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=Uk(this);W3(h,this.nodeViews)&&(this.nodeViews=h,i=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&ly(this),this.editable=zk(this),Vk(this);let a=pm(this),l=Bk(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,l,a);(c||!e.selection.eq(r.selection))&&(s=!0);let d=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&NU(this);if(s){this.domObserver.stop();let h=c&&(Sn||gn)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&H3(r.selection,e.selection);if(c){let f=gn?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,l,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Ek(e.doc,l,a,this.dom,this)),f&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&e3(this))?ri(this,h):(WA(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():d&&OU(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Y){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&yk(this,n.getBoundingClientRect(),e)}else yk(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Sn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&MU(this.dom),ri(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return LU(this,e)}coordsAtPos(e,n=1){return FA(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return zU(this,n||this.state,e)}destroy(){this.docView&&(h3(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],pm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return p3(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return rn&&this.root.nodeType===11&&CU(this.dom.ownerDocument)==this.dom?L3(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Bk(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[Wn.node(0,t.state.doc.content.size,e)]}function Vk(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Wn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function zk(t){return!t.someProp("editable",e=>e(t.state)===!1)}function H3(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Uk(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function W3(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function jk(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var is={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},yh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Hk=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),q3=typeof navigator<"u"&&/Mac/.test(navigator.platform),K3=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),G3=q3||Hk&&+Hk[1]<57;for(var Ot=0;Ot<10;Ot++)is[48+Ot]=is[96+Ot]=String(Ot);for(var Ot=1;Ot<=24;Ot++)is[Ot+111]="F"+Ot;for(var Ot=65;Ot<=90;Ot++)is[Ot]=String.fromCharCode(Ot+32),yh[Ot]=String.fromCharCode(Ot);for(var gm in is)yh.hasOwnProperty(gm)||(yh[gm]=is[gm]);function J3(t){var e=G3&&(t.ctrlKey||t.altKey||t.metaKey)||K3&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?yh:is)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Q3=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Y3(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Q3?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function X3(t){let e=Object.create(null);for(let n in t)e[Y3(n)]=t[n];return e}function ym(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}function Z3(t){return new Yn({props:{handleKeyDown:uN(t)}})}function uN(t){let e=X3(t);return function(n,r){let i=J3(r),s=i.length==1&&i!=" ",o,a=e[ym(i,r,!s)];if(a&&a(n.state,n.dispatch,n))return!0;if(s&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=is[r.keyCode])&&o!=i){let l=e[ym(o,r,!0)];if(l&&l(n.state,n.dispatch,n))return!0}else if(s&&r.shiftKey){let l=e[ym(i,r,!0)];if(l&&l(n.state,n.dispatch,n))return!0}return!1}}const ej=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function tj(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const nj=(t,e,n)=>{let r=tj(t,n);if(!r)return!1;let i=cN(r);if(!i){let o=r.blockRange(),a=o&&Ba(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&fN(t,i,e))return!0;if(r.parent.content.size==0&&(Aa(s,"end")||Y.isSelectable(s))){let o=b0(t.doc,r.before(),r.after(),$.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Aa(s,"end")?le.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):Y.create(a.doc,i.pos-s.nodeSize)),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1};function Aa(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const rj=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=cN(r)}let o=s&&s.nodeBefore;return!o||!Y.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Y.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function cN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function ij(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const sj=(t,e,n)=>{let r=ij(t,n);if(!r)return!1;let i=dN(r);if(!i)return!1;let s=i.nodeAfter;if(fN(t,i,e))return!0;if(r.parent.content.size==0&&(Aa(s,"start")||Y.isSelectable(s))){let o=b0(t.doc,r.before(),r.after(),$.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Aa(s,"start")?le.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Y.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},oj=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=dN(r)}let o=s&&s.nodeAfter;return!o||!Y.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Y.create(t.doc,s.pos)).scrollIntoView()),!0)};function dN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const aj=(t,e)=>{let n=t.selection,r=n instanceof Y,i;if(r){if(n.node.isTextblock||!fs(t.doc,n.from))return!1;i=n.from}else if(i=CA(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(Y.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},lj=(t,e)=>{let n=t.selection,r;if(n instanceof Y){if(n.node.isTextblock||!fs(t.doc,n.to))return!1;r=n.to}else if(r=CA(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},uj=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Ba(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},cj=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function hN(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const dj=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=hN(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(le.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},hj=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof fr||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=hN(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(ce.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},fj=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(ra(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Ba(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},pj=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(Y.create(t.doc,i))),!0)};function mj(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||fs(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function fN(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s,o;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(mj(t,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(n){let d=e.pos+i.nodeSize,h=A.empty;for(let m=s.length-1;m>=0;m--)h=A.from(s[m].create(null,h));h=A.from(r.copy(h));let f=t.tr.step(new wt(e.pos-1,d,e.pos,d,new $(h,1,0),s.length,!0)),p=d+2*s.length;fs(f.doc,p)&&f.join(p),n(f.scrollIntoView())}return!0}let l=le.findFrom(e,1),u=l&&l.$from.blockRange(l.$to),c=u&&Ba(u);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(u,c).scrollIntoView()),!0;if(a&&Aa(i,"start",!0)&&Aa(r,"end")){let d=r,h=[];for(;h.push(d),!d.isTextblock;)d=d.lastChild;let f=i,p=1;for(;!f.isTextblock;f=f.firstChild)p++;if(d.canReplace(d.childCount,d.childCount,f.content)){if(n){let m=A.empty;for(let y=h.length-1;y>=0;y--)m=A.from(h[y].copy(m));let S=t.tr.step(new wt(e.pos-h.length,e.pos+i.nodeSize,e.pos+p,e.pos+i.nodeSize-p,new $(m,h.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function pN(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(ce.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const gj=pN(-1),yj=pN(1);function vj(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&I0(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function Wk(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let c=n.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wj(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(i.index(o.depth-1)==0)return!1;let c=n.doc.resolve(o.start-2);l=new ch(c,c,o.depth),o.endIndex<o.parent.childCount&&(o=new ch(i,n.doc.resolve(s.end(o.depth)),o.depth)),a=!0}let u=I0(l,t,e,o);return u?(r&&r(Sj(n.tr,o,u,a,t).scrollIntoView()),!0):!1}}function Sj(t,e,n,r,i){let s=A.empty;for(let c=n.length-1;c>=0;c--)s=A.from(n[c].type.create(n[c].attrs,s));t.step(new wt(e.start-(r?2:0),e.end,e.start,e.end,new $(s,0,0),n.length,!0));let o=0;for(let c=0;c<n.length;c++)n[c].type==i&&(o=c+1);let a=n.length-o,l=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,d=e.endIndex,h=!0;c<d;c++,h=!1)!h&&ra(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=u.child(c).nodeSize;return t}function kj(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?Ej(e,n,t,s):Tj(e,n,s):!0:!1}}function Ej(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new wt(s-1,o,s,o,new $(A.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new ch(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=Ba(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(s,-1)-1;return fs(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function Tj(t,e,n){let r=t.tr,i=n.parent;for(let f=n.end,p=n.endIndex-1,m=n.startIndex;p>m;p--)f-=i.child(p).nodeSize,r.delete(f-1,f+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,u=s.node(-1),c=s.index(-1);if(!u.canReplace(c+(a?0:1),c+1,o.content.append(l?A.empty:A.from(i))))return!1;let d=s.pos,h=d+o.nodeSize;return r.step(new wt(d-(a?1:0),h+(l?1:0),d+1,h-1,new $((a?A.empty:A.from(i.copy(A.empty))).append(l?A.empty:A.from(i.copy(A.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function Cj(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,c=A.from(u?t.create():null),d=new $(A.from(t.create(null,A.from(a.type.create(null,c)))),u?3:1,0),h=s.start,f=s.end;n(e.tr.step(new wt(h-(u?3:1),f,h,f,d,1,!0)).scrollIntoView())}return!0}}function Ff(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class $f{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>{const d=l(...c)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,u=e||s.tr,c=()=>(!l&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(u),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(r).map(([h,f])=>[h,(...m)=>{const S=this.buildProps(u,n),y=f(...m)(S);return a.push(y),d}])),run:c};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...c)=>u(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i;s.storedMarks&&e.setStoredMarks(s.storedMarks);const a={tr:e,editor:i,view:o,state:Ff({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...c)=>u(...c)(a)]))}};return a}}class Ij{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function V(t,e,n){return t.config[e]===void 0&&t.parent?V(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?V(t.parent,e,n):null}):t.config[e]}function Bf(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function mN(t){const e=[],{nodeExtensions:n,markExtensions:r}=Bf(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=V(o,"addGlobalAttributes",a);if(!l)return;l().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([h,f])=>{e.push({type:d,name:h,attribute:{...s,...f}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=V(o,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([c,d])=>{const h={...s,...d};d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete h.default,e.push({type:o.name,name:c,attribute:h})})}),e}function Et(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function an(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}i==="class"?r[i]=[r[i],s].join(" "):i==="style"?r[i]=[r[i],s].join("; "):r[i]=s}),r},{})}function cy(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>an(n,r),{})}function gN(t){return typeof t=="function"}function ae(t,e=void 0,...n){return gN(t)?e?t.bind(e)(...n):t(...n):t}function bj(t={}){return Object.keys(t).length===0&&t.constructor===Object}function xj(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function qk(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):xj(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function Kk(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&bj(n)?!1:n!=null))}function Aj(t){var e;const n=mN(t),{nodeExtensions:r,markExtensions:i}=Bf(t),s=(e=r.find(l=>V(l,"topNode")))===null||e===void 0?void 0:e.name,o=Object.fromEntries(r.map(l=>{const u=n.filter(S=>S.type===l.name),c={name:l.name,options:l.options,storage:l.storage},d=t.reduce((S,y)=>{const g=V(y,"extendNodeSchema",c);return{...S,...g?g(l):{}}},{}),h=Kk({...d,content:ae(V(l,"content",c)),marks:ae(V(l,"marks",c)),group:ae(V(l,"group",c)),inline:ae(V(l,"inline",c)),atom:ae(V(l,"atom",c)),selectable:ae(V(l,"selectable",c)),draggable:ae(V(l,"draggable",c)),code:ae(V(l,"code",c)),defining:ae(V(l,"defining",c)),isolating:ae(V(l,"isolating",c)),attrs:Object.fromEntries(u.map(S=>{var y;return[S.name,{default:(y=S==null?void 0:S.attribute)===null||y===void 0?void 0:y.default}]}))}),f=ae(V(l,"parseHTML",c));f&&(h.parseDOM=f.map(S=>qk(S,u)));const p=V(l,"renderHTML",c);p&&(h.toDOM=S=>p({node:S,HTMLAttributes:cy(S,u)}));const m=V(l,"renderText",c);return m&&(h.toText=m),[l.name,h]})),a=Object.fromEntries(i.map(l=>{const u=n.filter(m=>m.type===l.name),c={name:l.name,options:l.options,storage:l.storage},d=t.reduce((m,S)=>{const y=V(S,"extendMarkSchema",c);return{...m,...y?y(l):{}}},{}),h=Kk({...d,inclusive:ae(V(l,"inclusive",c)),excludes:ae(V(l,"excludes",c)),group:ae(V(l,"group",c)),spanning:ae(V(l,"spanning",c)),code:ae(V(l,"code",c)),attrs:Object.fromEntries(u.map(m=>{var S;return[m.name,{default:(S=m==null?void 0:m.attribute)===null||S===void 0?void 0:S.default}]}))}),f=ae(V(l,"parseHTML",c));f&&(h.parseDOM=f.map(m=>qk(m,u)));const p=V(l,"renderHTML",c);return p&&(h.toDOM=m=>p({mark:m,HTMLAttributes:cy(m,u)})),[l.name,h]}));return new zz({topNode:s,nodes:o,marks:a})}function vm(t,e){return e.nodes[t]||e.marks[t]||null}function Gk(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const Nj=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,u;const c=((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=c.slice(0,Math.max(0,r-s))}),n};function F0(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Vf{constructor(e){this.find=e.find,this.handler=e.handler}}const Oj=(t,e)=>{if(F0(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[];return r.push(n.text),r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function wm(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let c=!1;const d=Nj(u)+s;return o.forEach(h=>{if(c)return;const f=Oj(d,h.find);if(!f)return;const p=l.state.tr,m=Ff({state:l.state,transaction:p}),S={from:r-(f[0].length-s.length),to:i},{commands:y,chain:g,can:v}=new $f({editor:n,state:m});h.handler({state:m,range:S,match:f,commands:y,chain:g,can:v})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:r,to:i,text:s}),l.dispatch(p),c=!0)}),c}function Mj(t){const{editor:e,rules:n}=t,r=new Yn({state:{init(){return null},apply(i,s){const o=i.getMeta(r);return o||(i.selectionSet||i.docChanged?null:s)}},props:{handleTextInput(i,s,o,a){return wm({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&wm({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?wm({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function _j(t){return typeof t=="number"}class Dj{constructor(e){this.find=e.find,this.handler=e.handler}}const Rj=(t,e)=>{if(F0(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const i=[];return i.push(r.text),i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function Pj(t){const{editor:e,state:n,from:r,to:i,rule:s}=t,{commands:o,chain:a,can:l}=new $f({editor:e,state:n}),u=[];return n.doc.nodesBetween(r,i,(d,h)=>{if(!d.isTextblock||d.type.spec.code)return;const f=Math.max(r,h),p=Math.min(i,h+d.content.size),m=d.textBetween(f-h,p-h,void 0,"￼");Rj(m,s.find).forEach(y=>{if(y.index===void 0)return;const g=f+y.index+1,v=g+y[0].length,k={from:n.tr.mapping.map(g),to:n.tr.mapping.map(v)},b=s.handler({state:n,range:k,match:y,commands:o,chain:a,can:l});u.push(b)})}),u.every(d=>d!==null)}function Lj(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1;return n.map(a=>new Yn({view(l){const u=c=>{var d;r=!((d=l.dom.parentElement)===null||d===void 0)&&d.contains(c.target)?l.dom.parentElement:null};return window.addEventListener("dragstart",u),{destroy(){window.removeEventListener("dragstart",u)}}},props:{handleDOMEvents:{drop:l=>(s=r===l.dom.parentElement,!1),paste:(l,u)=>{var c;const d=(c=u.clipboardData)===null||c===void 0?void 0:c.getData("text/html");return i=!!(d!=null&&d.includes("data-pm-slice")),!1}}},appendTransaction:(l,u,c)=>{const d=l[0],h=d.getMeta("uiEvent")==="paste"&&!i,f=d.getMeta("uiEvent")==="drop"&&!s;if(!h&&!f)return;const p=u.doc.content.findDiffStart(c.doc.content),m=u.doc.content.findDiffEnd(c.doc.content);if(!_j(p)||!m||p===m.b)return;const S=c.tr,y=Ff({state:c,transaction:S});if(!(!Pj({editor:e,state:y,from:Math.max(p-1,0),to:m.b-1,rule:a})||!S.steps.length))return S}}))}function Fj(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class Uo{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Uo.resolve(e),this.schema=Aj(this.extensions),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const s={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:vm(r.name,this.schema)};r.type==="mark"&&(!((i=ae(V(r,"keepOnSplit",s)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const o=V(r,"onBeforeCreate",s);o&&this.editor.on("beforeCreate",o);const a=V(r,"onCreate",s);a&&this.editor.on("create",a);const l=V(r,"onUpdate",s);l&&this.editor.on("update",l);const u=V(r,"onSelectionUpdate",s);u&&this.editor.on("selectionUpdate",u);const c=V(r,"onTransaction",s);c&&this.editor.on("transaction",c);const d=V(r,"onFocus",s);d&&this.editor.on("focus",d);const h=V(r,"onBlur",s);h&&this.editor.on("blur",h);const f=V(r,"onDestroy",s);f&&this.editor.on("destroy",f)})}static resolve(e){const n=Uo.sort(Uo.flatten(e)),r=Fj(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=V(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=V(r,"priority")||100,o=V(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:vm(n.name,this.schema)},i=V(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Uo.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:vm(o.name,this.schema)},l=[],u=V(o,"addKeyboardShortcuts",a);let c={};if(o.type==="mark"&&o.config.exitable&&(c.ArrowRight=()=>ss.handleExit({editor:e,mark:o})),u){const m=Object.fromEntries(Object.entries(u()).map(([S,y])=>[S,()=>y({editor:e})]));c={...c,...m}}const d=Z3(c);l.push(d);const h=V(o,"addInputRules",a);Gk(o,e.options.enableInputRules)&&h&&r.push(...h());const f=V(o,"addPasteRules",a);Gk(o,e.options.enablePasteRules)&&f&&i.push(...f());const p=V(o,"addProseMirrorPlugins",a);if(p){const m=p();l.push(...m)}return l}).flat();return[Mj({editor:e,rules:r}),...Lj({editor:e,rules:i}),...s]}get attributes(){return mN(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Bf(this.extensions);return Object.fromEntries(n.filter(r=>!!V(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Et(r.name,this.schema)},o=V(r,"addNodeView",s);if(!o)return[];const a=(l,u,c,d)=>{const h=cy(l,i);return o()({editor:e,node:l,getPos:c,decorations:d,HTMLAttributes:h,extension:r})};return[r.name,a]}))}}function $j(t){return Object.prototype.toString.call(t).slice(8,-1)}function Sm(t){return $j(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function zf(t,e){const n={...t};return Sm(t)&&Sm(e)&&Object.keys(e).forEach(r=>{Sm(e[r])?r in t?n[r]=zf(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class Dn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ae(V(this,"addOptions",{name:this.name}))),this.storage=ae(V(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Dn(e)}configure(e={}){const n=this.extend();return n.options=zf(this.options,e),n.storage=ae(V(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Dn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ae(V(n,"addOptions",{name:n.name})),n.storage=ae(V(n,"addStorage",{name:n.name,options:n.options})),n}}function yN(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="",l=!0;return t.nodesBetween(r,i,(u,c,d,h)=>{var f;const p=o==null?void 0:o[u.type.name];p?(u.isBlock&&!l&&(a+=s,l=!0),d&&(a+=p({node:u,pos:c,parent:d,index:h,range:e}))):u.isText?(a+=(f=u==null?void 0:u.text)===null||f===void 0?void 0:f.slice(Math.max(r,c)-c,i-c),l=!1):u.isBlock&&!l&&(a+=s,l=!0)}),a}function vN(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const Bj=Dn.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Yn({key:new ps("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(c=>c.$from.pos)),a=Math.max(...s.map(c=>c.$to.pos)),l=vN(n);return yN(r,{from:o,to:a},{textSerializers:l})}}})]}}),Vj=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),zj=(t=!1)=>({commands:e})=>e.setContent("",t),Uj=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:c}=e,d=u.resolve(c.map(l)),h=u.resolve(c.map(l+a.nodeSize)),f=d.blockRange(h);if(!f)return;const p=Ba(f);if(a.type.isTextblock){const{defaultType:m}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(f.start,m)}(p||p===0)&&e.lift(f,p)})}),!0},jj=t=>e=>t(e),Hj=()=>({state:t,dispatch:e})=>hj(t,e),Wj=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},qj=t=>({tr:e,state:n,dispatch:r})=>{const i=Et(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),u=s.after(o);e.delete(l,u).scrollIntoView()}return!0}return!1},Kj=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},Gj=()=>({state:t,dispatch:e})=>ej(t,e),Jj=()=>({commands:t})=>t.keyboardShortcut("Enter"),Qj=()=>({state:t,dispatch:e})=>dj(t,e);function vh(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:F0(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function dy(t,e,n={}){return t.find(r=>r.type===e&&vh(r.attrs,n))}function Yj(t,e,n={}){return!!dy(t,e,n)}function $0(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=dy([...r.node.marks],e,n);if(!i)return;let s=r.index,o=t.start()+r.offset,a=s+1,l=o+r.node.nodeSize;for(dy([...r.node.marks],e,n);s>0&&i.isInSet(t.parent.child(s-1).marks);)s-=1,o-=t.parent.child(s).nodeSize;for(;a<t.parent.childCount&&Yj([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function gs(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const Xj=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=gs(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:u,to:c}=a;if(i){const d=$0(l,s,e);if(d&&d.from<=u&&d.to>=c){const h=ce.create(o,d.from,d.to);n.setSelection(h)}}return!0},Zj=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function wN(t){return t instanceof ce}function _s(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function SN(t,e=null){if(!e)return null;const n=le.atStart(t),r=le.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?ce.create(t,_s(0,i,s),_s(t.content.size,i,s)):ce.create(t,_s(e,i,s),_s(e,i,s))}function B0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const e4=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{B0()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!wN(n.state.selection))return o(),!0;const a=SN(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},t4=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),n4=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function Jk(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function wh(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)?A.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),wh("",e,n)}if(typeof t=="string"){const r=Ta.fromSchema(e);return n.slice?r.parseSlice(Jk(t),n.parseOptions).content:r.parse(Jk(t),n.parseOptions)}return wh("",e,n)}function r4(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof jt||i instanceof wt))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,u,c)=>{o===0&&(o=c)}),t.setSelection(le.near(t.doc.resolve(o),n))}const i4=t=>t.toString().startsWith("<"),s4=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const o=wh(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(o.toString()==="<>")return!0;let{from:a,to:l}=typeof t=="number"?{from:t,to:t}:t,u=!0,c=!0;if((i4(o)?o:[o]).forEach(h=>{h.check(),u=u?h.isText&&h.marks.length===0:!1,c=c?h.isBlock:!1}),a===l&&c){const{parent:h}=r.doc.resolve(a);h.isTextblock&&!h.type.spec.code&&!h.childCount&&(a-=1,l+=1)}u?r.insertText(e,a,l):r.replaceWith(a,l,o),n.updateSelection&&r4(r,r.steps.length-1,-1)}return!0},o4=()=>({state:t,dispatch:e})=>aj(t,e),a4=()=>({state:t,dispatch:e})=>lj(t,e),l4=()=>({state:t,dispatch:e})=>nj(t,e),u4=()=>({state:t,dispatch:e})=>sj(t,e);function kN(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function c4(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))B0()||kN()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const d4=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=c4(t).split(/-(?!$)/),o=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return l==null||l.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function bu(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?Et(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,h)=>{if(d.isText)return;const f=Math.max(r,h),p=Math.min(i,h+d.nodeSize);a.push({node:d,from:f,to:p})});const l=i-r,u=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>vh(d.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((d,h)=>d+h.to-h.from,0)>=l}const h4=(t,e={})=>({state:n,dispatch:r})=>{const i=Et(t,n.schema);return bu(n,i,e)?uj(n,r):!1},f4=()=>({state:t,dispatch:e})=>fj(t,e),p4=t=>({state:e,dispatch:n})=>{const r=Et(t,e.schema);return kj(r)(e,n)},m4=()=>({state:t,dispatch:e})=>cj(t,e);function Uf(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Qk(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const g4=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=Uf(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=Et(t,r.schema)),a==="mark"&&(o=gs(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{s&&s===u.type&&n.setNodeMarkup(c,void 0,Qk(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(d=>{o===d.type&&n.addMark(c,c+u.nodeSize,o.create(Qk(d.attrs,e)))})})}),!0):!1},y4=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),v4=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),w4=()=>({state:t,dispatch:e})=>rj(t,e),S4=()=>({state:t,dispatch:e})=>oj(t,e),k4=()=>({state:t,dispatch:e})=>pj(t,e),E4=()=>({state:t,dispatch:e})=>yj(t,e),T4=()=>({state:t,dispatch:e})=>gj(t,e);function EN(t,e,n={}){return wh(t,e,{slice:!1,parseOptions:n})}const C4=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:s})=>{const{doc:o}=r,a=EN(t,i.schema,n);return s&&r.replaceWith(0,o.content.size,a).setMeta("preventUpdate",!e),!0};function I4(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function b4(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function V0(t){return e=>b4(e.$from,t)}function x4(t,e){const n=Mr.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function A4(t,e){const n={from:0,to:t.content.size};return yN(t,n,e)}function TN(t,e){const n=gs(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function N4(t,e){const n=Et(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function O4(t,e){const n=Uf(typeof e=="string"?e:e.name,t.schema);return n==="node"?N4(t,e):n==="mark"?TN(t,e):{}}function CN(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t-1),o=$0(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function hy(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?gs(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>vh(d.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:d,$to:h})=>{const f=d.pos,p=h.pos;t.doc.nodesBetween(f,p,(m,S)=>{if(!m.isText&&!m.marks.length)return;const y=Math.max(f,S),g=Math.min(p,S+m.nodeSize),v=g-y;o+=v,a.push(...m.marks.map(k=>({mark:k,from:y,to:g})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>vh(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),u=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+u:l)>=o}function M4(t,e,n={}){if(!e)return bu(t,null,n)||hy(t,null,n);const r=Uf(e,t.schema);return r==="node"?bu(t,e,n):r==="mark"?hy(t,e,n):!1}function Yk(t,e){const{nodeExtensions:n}=Bf(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=ae(V(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function _4(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function D4(t,e,n){var r;const{selection:i}=e;let s=null;if(wN(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let u=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(c,d,h)=>{if(u)return!1;if(c.isInline){const f=!h||h.type.allowsMarkType(n),p=!!n.isInSet(c.marks)||!c.marks.some(m=>m.type.excludes(n));u=f&&p}return!u}),u})}const R4=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=gs(t,r.schema);if(i)if(o){const u=TN(r,l);n.addStoredMark(l.create({...u,...e}))}else a.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(c,d,(h,f)=>{const p=Math.max(f,c),m=Math.min(f+h.nodeSize,d);h.marks.find(y=>y.type===l)?h.marks.forEach(y=>{l===y.type&&n.addMark(p,m,l.create({...y.attrs,...e}))}):n.addMark(p,m,l.create(e))})});return D4(r,n,l)},P4=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),L4=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Et(t,n.schema);return s.isTextblock?i().command(({commands:o})=>Wk(s,e)(n)?!0:o.clearNodes()).command(({state:o})=>Wk(s,e)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},F4=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=_s(t,0,r.content.size),s=Y.create(r,i);e.setSelection(s)}return!0},$4=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=ce.atStart(r).from,a=ce.atEnd(r).to,l=_s(i,o,a),u=_s(s,o,a),c=ce.create(r,l,u);e.setSelection(c)}return!0},B4=t=>({state:e,dispatch:n})=>{const r=Et(t,e.schema);return Cj(r)(e,n)};function od(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function Xk(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const V4=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,u=i.extensionManager.attributes,c=od(u,a.node().type.name,a.node().attrs);if(s instanceof Y&&s.node.isBlock)return!a.parentOffset||!ra(o,a.pos)?!1:(r&&(t&&Xk(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const d=l.parentOffset===l.parent.content.size;s instanceof ce&&e.deleteSelection();const h=a.depth===0?void 0:I4(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=d&&h?[{type:h,attrs:c}]:void 0,p=ra(e.doc,e.mapping.map(a.pos),1,f);if(!f&&!p&&ra(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(p=!0,f=h?[{type:h,attrs:c}]:void 0),p&&(e.split(e.mapping.map(a.pos),1,f),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const m=e.mapping.map(a.before()),S=e.doc.resolve(m);a.node(-1).canReplaceWith(S.index(),S.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&Xk(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},z4=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var s;const o=Et(t,n.schema),{$from:a,$to:l}=n.selection,u=n.selection.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(l))return!1;const c=a.node(-1);if(c.type!==o)return!1;const d=i.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==o||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let S=A.empty;const y=a.index(-1)?1:a.index(-2)?2:3;for(let O=a.depth-y;O>=a.depth-3;O-=1)S=A.from(a.node(O).copy(S));const g=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,v=od(d,a.node().type.name,a.node().attrs),k=((s=o.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(v))||void 0;S=S.append(A.from(o.createAndFill(null,k)||void 0));const b=a.before(a.depth-(y-1));e.replace(b,a.after(-g),new $(S,4-y,0));let _=-1;e.doc.nodesBetween(b,e.doc.content.size,(O,I)=>{if(_>-1)return!1;O.isTextblock&&O.content.size===0&&(_=I+1)}),_>-1&&e.setSelection(ce.near(e.doc.resolve(_))),e.scrollIntoView()}return!0}const h=l.pos===a.end()?c.contentMatchAt(0).defaultType:null,f=od(d,c.type.name,c.attrs),p=od(d,a.node().type.name,a.node().attrs);e.delete(a.pos,l.pos);const m=h?[{type:o,attrs:f},{type:h,attrs:p}]:[{type:o,attrs:f}];return ra(e.doc,a.pos,2)?(r&&e.split(a.pos,2,m).scrollIntoView(),!0):!1},Zk=(t,e)=>{const n=V0(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&fs(t.doc,n.pos)&&t.join(n.pos),!0},eE=(t,e)=>{const n=V0(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&fs(t.doc,r)&&t.join(r),!0},U4=(t,e)=>({editor:n,tr:r,state:i,dispatch:s,chain:o,commands:a,can:l})=>{const{extensions:u}=n.extensionManager,c=Et(t,i.schema),d=Et(e,i.schema),{selection:h}=i,{$from:f,$to:p}=h,m=f.blockRange(p);if(!m)return!1;const S=V0(y=>Yk(y.type.name,u))(h);if(m.depth>=1&&S&&m.depth-S.depth<=1){if(S.node.type===c)return a.liftListItem(d);if(Yk(S.node.type.name,u)&&c.validContent(S.node.content)&&s)return o().command(()=>(r.setNodeMarkup(S.pos,c),!0)).command(()=>Zk(r,c)).command(()=>eE(r,c)).run()}return o().command(()=>l().wrapInList(c)?!0:a.clearNodes()).wrapInList(c).command(()=>Zk(r,c)).command(()=>eE(r,c)).run()},j4=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=gs(t,r.schema);return hy(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},H4=(t,e,n={})=>({state:r,commands:i})=>{const s=Et(t,r.schema),o=Et(e,r.schema);return bu(r,s,n)?i.setNode(o):i.setNode(s,n)},W4=(t,e={})=>({state:n,commands:r})=>{const i=Et(t,n.schema);return bu(n,i,e)?r.lift(i):r.wrapIn(i,e)},q4=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},K4=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},G4=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=gs(t,r.schema),{$from:u,empty:c,ranges:d}=a;if(!i)return!0;if(c&&o){let{from:h,to:f}=a;const p=(s=u.marks().find(S=>S.type===l))===null||s===void 0?void 0:s.attrs,m=$0(u,l,p);m&&(h=m.from,f=m.to),n.removeMark(h,f,l)}else d.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},J4=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=Uf(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=Et(t,r.schema)),a==="mark"&&(o=gs(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,c=l.$to.pos;r.doc.nodesBetween(u,c,(d,h)=>{s&&s===d.type&&n.setNodeMarkup(h,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(f=>{if(o===f.type){const p=Math.max(h,u),m=Math.min(h+d.nodeSize,c);n.addMark(p,m,o.create({...f.attrs,...e}))}})})}),!0):!1},Q4=(t,e={})=>({state:n,dispatch:r})=>{const i=Et(t,n.schema);return vj(i,e)(n,r)},Y4=(t,e={})=>({state:n,dispatch:r})=>{const i=Et(t,n.schema);return wj(i,e)(n,r)};var X4=Object.freeze({__proto__:null,blur:Vj,clearContent:zj,clearNodes:Uj,command:jj,createParagraphNear:Hj,deleteCurrentNode:Wj,deleteNode:qj,deleteRange:Kj,deleteSelection:Gj,enter:Jj,exitCode:Qj,extendMarkRange:Xj,first:Zj,focus:e4,forEach:t4,insertContent:n4,insertContentAt:s4,joinUp:o4,joinDown:a4,joinBackward:l4,joinForward:u4,keyboardShortcut:d4,lift:h4,liftEmptyBlock:f4,liftListItem:p4,newlineInCode:m4,resetAttributes:g4,scrollIntoView:y4,selectAll:v4,selectNodeBackward:w4,selectNodeForward:S4,selectParentNode:k4,selectTextblockEnd:E4,selectTextblockStart:T4,setContent:C4,setMark:R4,setMeta:P4,setNode:L4,setNodeSelection:F4,setTextSelection:$4,sinkListItem:B4,splitBlock:V4,splitListItem:z4,toggleList:U4,toggleMark:j4,toggleNode:H4,toggleWrap:W4,undoInputRule:q4,unsetAllMarks:K4,unsetMark:G4,updateAttributes:J4,wrapIn:Q4,wrapInList:Y4});const Z4=Dn.create({name:"commands",addCommands(){return{...X4}}}),eH=Dn.create({name:"editable",addProseMirrorPlugins(){return[new Yn({key:new ps("editable"),props:{editable:()=>this.editor.options.editable}})]}}),tH=Dn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Yn({key:new ps("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),nH=Dn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:c,$anchor:d}=l,{pos:h,parent:f}=d,p=le.atStart(u).from===h;return!c||!p||!f.type.isTextblock||f.textContent.length?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return B0()||kN()?s:i},addProseMirrorPlugins(){return[new Yn({key:new ps("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(p=>p.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:s,to:o}=e.selection,a=le.atStart(e.doc).from,l=le.atEnd(e.doc).to,u=s===a&&o===l,c=n.doc.textBetween(0,n.doc.content.size," "," ").length===0;if(i||!u||!c)return;const d=n.tr,h=Ff({state:n,transaction:d}),{commands:f}=new $f({editor:this.editor,state:h});if(f.clearNodes(),!!d.steps.length)return d}})]}}),rH=Dn.create({name:"tabindex",addProseMirrorPlugins(){return[new Yn({key:new ps("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var iH=Object.freeze({__proto__:null,ClipboardTextSerializer:Bj,Commands:Z4,Editable:eH,FocusEvents:tH,Keymap:nH,Tabindex:rH});const sH=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function oH(t,e){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}let aH=class extends Ij{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=oH(sH,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e}),this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=gN(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(iH):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new Uo(n,this)}createCommandManager(){this.commandManager=new $f({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=EN(this.options.content,this.schema,this.options.parseOptions),n=SN(e,this.options.autofocus);this.view=new j3(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Bo.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return O4(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return M4(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return x4(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return A4(this.state.doc,{blockSeparator:n,textSerializers:{...r,...vN(this.schema)}})}get isEmpty(){return _4(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}};function Na(t){return new Vf({find:t.find,handler:({state:e,range:n,match:r})=>{const i=ae(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];let l=n.to;if(o){const u=a.search(/\S/),c=n.from+a.indexOf(o),d=c+o.length;if(CN(n.from,n.to,e.doc).filter(f=>f.mark.type.excluded.find(m=>m===t.type&&m!==f.mark.type)).filter(f=>f.to>c).length)return null;d<n.to&&s.delete(d,n.to),c>n.from&&s.delete(n.from+u,c),l=n.from+u+o.length,s.addMark(n.from+u,l,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function lH(t){return new Vf({find:t.find,handler:({state:e,range:n,match:r})=>{const i=ae(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);let u=o+l;u>a?u=a:a=u+r[1].length;const c=r[0][r[0].length-1];s.insertText(c,o+r[0].length-1),s.replaceWith(u,a,t.type.create(i))}else r[0]&&s.replaceWith(o,a,t.type.create(i))}})}function fy(t){return new Vf({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=ae(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function z0(t){return new Vf({find:t.find,handler:({state:e,range:n,match:r})=>{const i=ae(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),a=s.doc.resolve(n.from).blockRange(),l=a&&I0(a,t.type,i);if(!l)return null;s.wrap(a,l);const u=s.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&fs(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&s.join(n.from-1)}})}class ss{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ae(V(this,"addOptions",{name:this.name}))),this.storage=ae(V(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ss(e)}configure(e={}){const n=this.extend();return n.options=zf(this.options,e),n.storage=ae(V(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new ss(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ae(V(n,"addOptions",{name:n.name})),n.storage=ae(V(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const l=o.find(u=>(u==null?void 0:u.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}class En{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ae(V(this,"addOptions",{name:this.name}))),this.storage=ae(V(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new En(e)}configure(e={}){const n=this.extend();return n.options=zf(this.options,e),n.storage=ae(V(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new En(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ae(V(n,"addOptions",{name:n.name})),n.storage=ae(V(n,"addStorage",{name:n.name,options:n.options})),n}}function Oa(t){return new Dj({find:t.find,handler:({state:e,range:n,match:r})=>{const i=ae(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];let l=n.to;if(o){const u=a.search(/\S/),c=n.from+a.indexOf(o),d=c+o.length;if(CN(n.from,n.to,e.doc).filter(f=>f.mark.type.excluded.find(m=>m===t.type&&m!==f.mark.type)).filter(f=>f.to>c).length)return null;d<n.to&&s.delete(d,n.to),c>n.from&&s.delete(n.from+u,c),l=n.from+u+o.length,s.addMark(n.from+u,l,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}let uH=class extends aH{constructor(){super(...arguments),this.contentComponent=null}};const cH=({renderers:t})=>Te.createElement(Te.Fragment,null,Object.entries(t).map(([e,n])=>d_.createPortal(n.reactElement,n.element,e)));class dH extends Te.Component{constructor(e){super(e),this.editorContentRef=Te.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?Th.exports.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,...n}=this.props;return Te.createElement(Te.Fragment,null,Te.createElement("div",{ref:this.editorContentRef,...n}),Te.createElement(cH,{renderers:this.state.renderers}))}}const hH=Te.memo(dH),fH=qe.exports.createContext({onDragStart:void 0}),pH=()=>qe.exports.useContext(fH);Te.forwardRef((t,e)=>{const{onDragStart:n}=pH(),r=t.as||"div";return Te.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function mH(){const[,t]=qe.exports.useState(0);return()=>t(e=>e+1)}const gH=(t={},e=[])=>{const[n,r]=qe.exports.useState(null),i=mH();return qe.exports.useEffect(()=>{let s=!0;const o=new uH(t);return r(o),o.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{s&&i()})})}),()=>{o.destroy(),s=!1}},e),n},yH=/^\s*>\s$/,vH=En.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[z0({find:yH,type:this.type})]}}),wH=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,SH=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,kH=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,EH=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,TH=ss.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Na({find:wH,type:this.type}),Na({find:kH,type:this.type})]},addPasteRules(){return[Oa({find:SH,type:this.type}),Oa({find:EH,type:this.type})]}}),CH=/^\s*([-+*])\s$/,IH=En.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",an(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[z0({find:CH,type:this.type})]}}),bH=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,xH=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,AH=ss.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Na({find:bH,type:this.type})]},addPasteRules(){return[Oa({find:xH,type:this.type})]}}),NH=/^```([a-z]+)?[\s\n]$/,OH=/^~~~([a-z]+)?[\s\n]$/,MH=En.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",an(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0||r.nodeAt(a)?!1:t.commands.exitCode()}}},addInputRules(){return[fy({find:NH,type:this.type,getAttributes:t=>({language:t[1]})}),fy({find:OH,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Yn({key:new ps("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o}=t.state;return o.replaceSelectionWith(this.type.create({language:s})),o.setSelection(ce.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.insertText(n.replace(/\r\n?/g,`
`)),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),_H=En.create({name:"doc",topNode:!0,content:"block+"});function DH(t={}){return new Yn({view(e){return new RH(e,t)}})}class RH{constructor(e,n){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=s=>{this[r](s)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n;if(!e.parent.inlineContent){let o=e.nodeBefore,a=e.nodeAfter;if(o||a){let l=this.editorView.nodeDOM(this.cursorPos-(o?o.nodeSize:0)).getBoundingClientRect(),u=o?l.bottom:l.top;o&&a&&(u=(u+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:l.left,right:l.right,top:u-this.width/2,bottom:u+this.width/2}}}if(!n){let o=this.editorView.coordsAtPos(this.cursorPos);n={left:o.left-this.width/2,right:o.left+this.width/2,top:o.top,bottom:o.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);let i,s;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,s=-pageYOffset;else{let o=r.getBoundingClientRect();i=o.left-r.scrollLeft,s=o.top-r.scrollTop}this.element.style.left=n.left-i+"px",this.element.style.top=n.top-s+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(o=IA(this.editorView.state.doc,o,this.editorView.dragging.slice),o==null))return this.setCursor(null);this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const PH=Dn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[DH(this.options)]}});class Ye extends le{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Ye.valid(r)?new Ye(r):le.near(r)}content(){return $.empty}eq(e){return e instanceof Ye&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ye(e.resolve(n.pos))}getBookmark(){return new U0(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!LH(e)||!FH(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Ye.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(Ye.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Y.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(Ye.valid(a))return a}return null}}}Ye.prototype.visible=!1;Ye.findFrom=Ye.findGapCursorFrom;le.jsonID("gapcursor",Ye);class U0{constructor(e){this.pos=e}map(e){return new U0(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Ye.valid(n)?new Ye(n):le.near(n)}}function LH(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function FH(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function $H(){return new Yn({props:{decorations:UH,createSelectionBetween(t,e,n){return e.pos==n.pos&&Ye.valid(n)?new Ye(n):null},handleClick:VH,handleKeyDown:BH,handleDOMEvents:{beforeinput:zH}}})}const BH=uN({ArrowLeft:Bc("horiz",-1),ArrowRight:Bc("horiz",1),ArrowUp:Bc("vert",-1),ArrowDown:Bc("vert",1)});function Bc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof ce){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let u=Ye.findGapCursorFrom(a,e,l);return u?(i&&i(r.tr.setSelection(new Ye(u))),!0):!1}}function VH(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Ye.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Y.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Ye(r))),!0)}function zH(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Ye))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=A.empty;for(let o=r.length-1;o>=0;o--)i=A.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new $(i,0,0));return s.setSelection(ce.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function UH(t){if(!(t.selection instanceof Ye))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ut.create(t.doc,[Wn.widget(t.selection.head,e,{key:"gapcursor"})])}const jH=Dn.create({name:"gapCursor",addProseMirrorPlugins(){return[$H()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ae(V(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),HH=En.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",an(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&o){const d=l.filter(h=>a.includes(h.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),WH=En.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,an(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>fy({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Sh=200,Dt=function(){};Dt.prototype.append=function(e){return e.length?(e=Dt.from(e),!this.length&&e||e.length<Sh&&this.leafAppend(e)||this.length<Sh&&e.leafPrepend(this)||this.appendInner(e)):this};Dt.prototype.prepend=function(e){return e.length?Dt.from(e).append(this):this};Dt.prototype.appendInner=function(e){return new qH(this,e)};Dt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Dt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Dt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Dt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Dt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};Dt.from=function(e){return e instanceof Dt?e:e&&e.length?new IN(e):Dt.empty};var IN=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Sh)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Sh)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Dt);Dt.empty=new IN([]);var qH=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Dt),bN=Dt;const KH=500;class ur{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,u=[],c=[];return this.items.forEach((d,h)=>{if(!d.step){i||(i=this.remapping(r,h+1),s=i.maps.length),s--,c.push(d);return}if(i){c.push(new Ir(d.map));let f=d.step.map(i.slice(s)),p;f&&o.maybeStep(f).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],u.push(new Ir(p,void 0,void 0,u.length+c.length))),s--,p&&i.appendMap(p,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new ur(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let c=0;c<e.steps.length;c++){let d=e.steps[c].invert(e.docs[c]),h=new Ir(e.mapping.maps[c],d,n),f;(f=l&&l.merge(h))&&(h=f,c?s.pop():a=a.slice(0,a.length-1)),s.push(h),n&&(o++,n=void 0),i||(l=h)}let u=o-r.depth;return u>JH&&(a=GH(a,u),o-=u),new ur(a.append(s),o)}remapping(e,n){let r=new na;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new ur(this.items.append(e.map(n=>new Ir(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let l=n;this.items.forEach(h=>{let f=s.getMirror(--l);if(f==null)return;o=Math.min(o,f);let p=s.maps[f];if(h.step){let m=e.steps[f].invert(e.docs[f]),S=h.selection&&h.selection.map(s.slice(l+1,f));S&&a++,r.push(new Ir(p,m,S))}else r.push(new Ir(p))},i);let u=[];for(let h=n;h<o;h++)u.push(new Ir(s.maps[h]));let c=this.items.slice(0,i).append(u).append(r),d=new ur(c,a);return d.emptyItemCount()>KH&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let c=o.selection&&o.selection.map(n.slice(r));c&&s++;let d=new Ir(u.invert(),l,c),h,f=i.length-1;(h=i.length&&i[f].merge(d))?i[f]=h:i.push(d)}}else o.map&&r--},this.items.length,0),new ur(bN.from(i.reverse()),s)}}ur.empty=new ur(bN.empty,0);function GH(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Ir{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ir(n.getMap().invert(),n,this.selection)}}}class Ii{constructor(e,n,r,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i}}const JH=20;function QH(t,e,n,r){let i=n.getMeta(Yi),s;if(i)return i.historyState;n.getMeta(XH)&&(t=new Ii(t.done,t.undone,null,0));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Yi))return o.getMeta(Yi).redo?new Ii(t.done.addTransform(n,void 0,r,ad(e)),t.undone,tE(n.mapping.maps[n.steps.length-1]),t.prevTime):new Ii(t.done,t.undone.addTransform(n,void 0,r,ad(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.prevTime==0||!o&&(t.prevTime<(n.time||0)-r.newGroupDelay||!YH(n,t.prevRanges)),l=o?km(t.prevRanges,n.mapping):tE(n.mapping.maps[n.steps.length-1]);return new Ii(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,ad(e)),ur.empty,l,n.time)}else return(s=n.getMeta("rebased"))?new Ii(t.done.rebased(n,s),t.undone.rebased(n,s),km(t.prevRanges,n.mapping),t.prevTime):new Ii(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),km(t.prevRanges,n.mapping),t.prevTime)}function YH(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function tE(t){let e=[];return t.forEach((n,r,i,s)=>e.push(i,s)),e}function km(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function xN(t,e,n,r){let i=ad(e),s=Yi.get(e).spec.config,o=(r?t.undone:t.done).popEvent(e,i);if(!o)return;let a=o.selection.resolve(o.transform.doc),l=(r?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,i),u=new Ii(r?l:o.remaining,r?o.remaining:l,null,0);n(o.transform.setSelection(a).setMeta(Yi,{redo:r,historyState:u}).scrollIntoView())}let Em=!1,nE=null;function ad(t){let e=t.plugins;if(nE!=e){Em=!1,nE=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Em=!0;break}}return Em}const Yi=new ps("history"),XH=new ps("closeHistory");function ZH(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Yn({key:Yi,state:{init(){return new Ii(ur.empty,ur.empty,null,0)},apply(e,n,r){return QH(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?AN:r=="historyRedo"?NN:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const AN=(t,e)=>{let n=Yi.getState(t);return!n||n.done.eventCount==0?!1:(e&&xN(n,t,e,!1),!0)},NN=(t,e)=>{let n=Yi.getState(t);return!n||n.undone.eventCount==0?!1:(e&&xN(n,t,e,!0),!0)},e5=Dn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>AN(t,e),redo:()=>({state:t,dispatch:e})=>NN(t,e)}},addProseMirrorPlugins(){return[ZH(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),t5=En.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",an(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command(({tr:e,dispatch:n})=>{var r;if(n){const{$to:i}=e.selection,s=i.end();if(i.nodeAfter)e.setSelection(ce.create(e.doc,i.pos));else{const o=(r=i.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();o&&(e.insert(s,o),e.setSelection(ce.create(e.doc,s)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[lH({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),n5=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,r5=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,i5=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,s5=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,o5=ss.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Na({find:n5,type:this.type}),Na({find:i5,type:this.type})]},addPasteRules(){return[Oa({find:r5,type:this.type}),Oa({find:s5,type:this.type})]}}),a5=En.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",an(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),l5=/^(\d+)\.\s$/,u5=En.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",an(this.options.HTMLAttributes,n),0]:["ol",an(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[z0({find:l5,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]})]}}),c5=En.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),d5=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,h5=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,f5=ss.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Na({find:d5,type:this.type})]},addPasteRules(){return[Oa({find:h5,type:this.type})]}}),p5=En.create({name:"text",group:"inline"}),m5=Dn.create({name:"starterKit",addExtensions(){var t,e,n,r,i,s,o,a,l,u,c,d,h,f,p,m,S,y;const g=[];return this.options.blockquote!==!1&&g.push(vH.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&g.push(TH.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&g.push(IH.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&g.push(AH.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&g.push(MH.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&g.push(_H.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&g.push(PH.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&g.push(jH.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&g.push(HH.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&g.push(WH.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&g.push(e5.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&g.push(t5.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&g.push(o5.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&g.push(a5.configure((f=this.options)===null||f===void 0?void 0:f.listItem)),this.options.orderedList!==!1&&g.push(u5.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&g.push(c5.configure((m=this.options)===null||m===void 0?void 0:m.paragraph)),this.options.strike!==!1&&g.push(f5.configure((S=this.options)===null||S===void 0?void 0:S.strike)),this.options.text!==!1&&g.push(p5.configure((y=this.options)===null||y===void 0?void 0:y.text)),g}});const g5=Fn.div`
    width: fit-content;
    margin: auto;
    
    button {
        cursor: pointer;
        border-radius: 5px;
        border: 2px solid transparent;
        background-color: transparent;

        &:hover {
            background: linear-gradient( #574AE8, #3EA1DB);
            color: #FFF;
        }
        

        margin: 5px;
        padding: 3px;

        i {
            font-size: 1.3rem;
        }


    }

    .is-active {
        background: linear-gradient( #574AE8, #3EA1DB);
        color: #FFF;
    }
`,y5=Fn.div`
    padding: 20px;

    .ProseMirror {
        outline: none;
        border: 1px solid #EDEDED;

        max-width: 60rem;
        height: 39rem;
        margin: auto;
        padding: 10px;

        overflow: hidden scroll;

        &:focus {
            border: 1px solid #c8c8c8;
        }

        p {
            font-weight: 300;
        }

        pre {
            display: block;
            background-color: #EDEDED;
            padding: 20px;
            border-radius: 5px;

        }

        code {
            font-size: 0.9rem;
            font-family: 'Fira Code', monospace;
            font-weight: 500;
        }

        ul, ol {
            font-weight: 300;
            padding-left: 3rem
        }

        ul li::marker {
            color: #574AE8;
            font-size: 0.8rem;
        }

        blockquote {
            padding: 20px;
            background-color: #EDEDED;
            border-left: 5px solid #3EA1DB;
            border-radius: 5px;
        }

        hr {
            border: 1px solid #574AE8;
        }
    }
`,v5=Fn.button`
    cursor: pointer;
    font-size: 1rem;
    display: block;

    border: 0;
    border-radius: 5px;
    padding: 10px;
    margin: 10px auto;

    background-color: #574AE8;
    color: #EDEDED;

    &:hover {
        background-color: #3EA1DB;
    }
`,w5=({editor:t})=>t?cr(g5,{children:[H("button",{onClick:()=>t.chain().focus().toggleBold().run(),disabled:!t.can().chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",title:"Negrito",children:H("i",{className:"bi bi-type-bold"})}),H("button",{onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!t.can().chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",title:"Itálico",children:H("i",{className:"bi bi-type-italic"})}),H("button",{onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!t.can().chain().focus().toggleStrike().run(),className:t.isActive("strike")?"is-active":"",title:"Linha através",children:H("i",{className:"bi bi-type-strikethrough"})}),H("button",{onClick:()=>t.chain().focus().toggleCode().run(),disabled:!t.can().chain().focus().toggleCode().run(),className:t.isActive("code")?"is-active":"",title:"Código",children:H("i",{className:"bi bi-code-slash"})}),H("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:t.isActive("paragraph")?"is-active":"",title:"Parágrafo",children:H("i",{className:"bi bi-paragraph"})}),H("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",title:"Título H1",children:H("i",{className:"bi bi-type-h1"})}),H("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",title:"Título H2",children:H("i",{className:"bi bi-type-h2"})}),H("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?"is-active":"",title:"Título H3",children:H("i",{className:"bi bi-type-h3"})}),H("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",title:"Lista não ordenada",children:H("i",{className:"bi bi-list-ul"})}),H("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active":"",title:"Lista ordenada",children:H("i",{className:"bi bi-list-ol"})}),H("button",{onClick:()=>t.chain().focus().toggleCodeBlock().run(),className:t.isActive("codeBlock")?"is-active":"",title:"Bloco de código",children:H("i",{className:"bi bi-code-square"})}),H("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?"is-active":"",title:"Citação",children:H("i",{className:"bi bi-blockquote-left"})}),H("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),title:"Linha horizontal",children:H("i",{className:"bi bi-hr"})}),H("button",{onClick:()=>t.chain().focus().setHardBreak().run(),title:"Quebra de linha",children:H("i",{className:"bi bi-file-break"})}),H("button",{onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().chain().focus().undo().run(),title:"Desfazer",children:H("i",{className:"bi bi-arrow-counterclockwise"})}),H("button",{onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().chain().focus().redo().run(),title:"Refazer",children:H("i",{className:"bi bi-arrow-clockwise"})})]}):null;function S5({editor:t,editorContent:e,SendPost:n}){return cr(y5,{children:[H(w5,{editor:t}),e,H(v5,{onClick:()=>n(t.getHTML()),children:"Terminar"})]})}const k5=Fn.nav`
    background: linear-gradient(90deg, #574AE8, #3EA1DB);
    display: flex;
    align-items: center;

    padding: 5px 20px;

    h1 {
        color: #FFF;
        margin-right: auto;
    }
    
    ul {
        list-style-type: none;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    button {
        cursor: pointer;
        font-size: 1rem;
        background-color: transparent;
        color: #FFF;
        border: 1px solid #FFF;
        border-radius: 10px;

        width: 100px;
        height: 30px;

        transition: 0.2s;

        &:hover {
            background-color: #FFF;
            color: #264653;
        }
    }

    img {
        width: 60px;
        height: auto;
        border-radius: 50%;
        outline: 2px solid #FFF ;
        margin-left: 20px;
    }
`,E5=Fn.input`
    outline: none;
    display: block;
    width: 400px;

    margin: auto;
    padding: 10px;

    text-align: center;
    font-size: 1rem;

    border: 1px solid #E8E8E8;
    border-radius: 5px;   

    &:focus {
        outline: 1px solid #574AE8;
        border: 1px solid  #3EA1DB;
    }
`,T5=Fn.h2`
    text-align: center;
    font-weight: 500;
    margin: 20px 0;
`;function C5({auth:t,db:e,logout:n}){const[r,i]=qe.exports.useState("");console.log();const s=gH({extensions:[m5],content:"<p>Escreva aqui...</p>"});async function o(a){const{uid:l,photoURL:u,displayName:c}=t;await JV(AV(e,"Posts"),{title:r,content:a,photoURL:u,uid:l,displayName:c,createdAt:YV()}),alert("Post foi enviado com sucesso!"),i(""),s.commands.setContent("<p>Escreva aqui...</p>")}return cr(lO,{children:[H("header",{children:cr(k5,{children:[H("h1",{children:"Larissa"}),cr("ul",{children:[H("li",{children:H("button",{onClick:n,children:"Sair"})}),H("li",{children:H("img",{src:"https://media.licdn.com/dms/image/C4D03AQEz-yjIoDaX3g/profile-displayphoto-shrink_400_400/0/1654050492252?e=1677110400&v=beta&t=2mBbPJFoLK6xGECzNov6mPSCe-qbvtDAle8QG1tgy3A",alt:"Imagem Larissa"})})]})]})}),cr("main",{children:[H(T5,{children:"Olá Larissa! Pronta para escrever mais um Artigo para seu Blog?"}),H(E5,{type:"text",onChange:a=>i(a.target.value),name:"title",id:"title",value:r,placeholder:"Título do Post"}),H(S5,{editor:s,editorContent:H(hH,{editor:s}),SendPost:o})]})]})}const I5=YL`
  * {
    font-family: 'Lexend Deca', sans-serif;
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
`;function b5(){const[t,e,n]=GP(sl),r=({email:s,password:o})=>{IR(sl,s,o).then(a=>{a.user}).catch(a=>{a.code;const l=a.message;alert(l)})},i=()=>{NR(sl)};return cr("div",{className:"App",children:[H(I5,{}),t?H(C5,{auth:sl.currentUser,db:ZV,logout:i}):H(bz,{auth:sl,login:r,isloading:e})]})}Tm.createRoot(document.getElementById("root")).render(H(Te.StrictMode,{children:H(b5,{})}));
